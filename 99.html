<!--[if IE 6]>
<html id="ie6" lang="en-US">
<![endif]-->
<!--[if IE 7]>
<html id="ie7" lang="en-US">
<![endif]-->
<!--[if IE 8]>
<html id="ie8" lang="en-US">
<![endif]-->
<!--[if !(IE 6) | !(IE 7) | !(IE 8) ]><!-->
<!DOCTYPE html>
<html lang="en" prefix="og: http://ogp.me/ns#">	
<!--<![endif]-->
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
	
	<!-- anti-cache insurance -->
	<meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
	<meta http-equiv="Pragma" content="no-cache">
	<meta http-equiv="Expires" content="0">
	
	<meta itemprop="name" content="wordstar nexus"/>	
	<meta property="og:url" content="https://www.wordstar.nexus/"/>
	<meta data-rh="true" name="description" content="A writer's website, featuring an unedited manuscript and original art as well as videos. Video and audio downloads. The writer often places notes and even new stories on the homepage. Wordstar includes a rotating typewriter. A sigil maker and other apps A unique place for creative souls. A Portal to escape the ordinary. Eclectic and frequently updated."/>
	<meta data-rh="true" property="og:url" content="https://www.wordstar.nexus"/>
	<meta data-rh="true" property="og:type" content="website"/>
	<meta data-rh="true" property="og:title" content="WORDSTAR - writing, music, and the visual arts"/>
	<meta http-equiv="onion-location" content="http://yd3r4tdjgg7you3tuq7uyy5hl7tbwzowmd4pcgf6gpgk24hyawcvsjqd.onion" />
	<meta property="tiktok:app_id" content="@twoskinnygirls" />
	<meta name="twitter:site" content="@inkrealm" />
	<meta name="slack-app-id" content="f060RUD44R3" />
	<meta name="msvalidate.01" content="67F1E9D68BBC837C803D756EE2977B67" />
	<meta property="vk:image" content="https://vk.com/authorwave?z=photo707345788_457239017%2Falbum707345788_0">
	<meta name="p:domain_verify" content="3b55be68eb5ca93c0411d8779e1fa6c2"/>
	<meta property="og:title" content="Two Skinny Girls on Apple Music">
	<meta property="og:description" content="Listen to Two Skinny Girls on Apple Music.">
	<meta property="og:url" content="https://music.apple.com/us/artist/two-skinny-girls/1466240185">
	<meta property="og:image" content="https://is1-ssl.mzstatic.com/image/thumb/Music211/v4/1b/cc/4b/1bcc4bbd-e9f6-fd2e-5bdf-2f347046fb94/5063845083831_cover.jpg/592x592bf.webp">
	<meta property="og:type" content="music.musician">
	<meta property="og:site_name" content="Apple Music">
	
	<!-- Favicon -->
	<link rel="icon" type="image/png" href="/svg/favicon-96x96.png" sizes="96x96" />
	<link rel="icon" type="image/svg+xml" href="/svg/favicon.svg" />
	<link rel="shortcut icon" href="/svg/favicon.ico" />
	<link rel="apple-touch-icon" sizes="180x180" href="/svg/apple-touch-icon.png" />
	<meta name="apple-mobile-web-app-title" content="wordstar" />
	<link rel="manifest" href="/svg/site.webmanifest" />
	
	<!-- Fonts -->
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Helvetica:wght@400;600;800&family=Oswald:wght@400;500;600;800&family=Almendra:wght@400;700&family=Share+Tech+Mono&family=VT323&family=Special+Elite&display=swap" rel="stylesheet">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
	
	<!-- prefetching -->
	<link rel="preconnect" href="https://www.missionjuno.swri.edu">
	<link rel="preconnect" href="https://d2xkkdgjnsfvb0.cloudfront.net">
	<link rel="dns-prefetch" href="//ajax.googleapis.com">
	<link rel="writer" href="https://www.reddit.com/user/Adorable-Ad-4993/" />
	<link rel="me" href="https://is.nota.live/@Inkrealm" />
	<link rel="preconnect" href="https://raw.githubusercontent.com">
	<link rel="dns-prefetch" href="https://raw.githubusercontent.com">
	
	<meta name="copyright" content="Copyright 2026 INKREALM-NEXUS. All rights reserved."/>
	
	<!-- ‚ùÇ  ¬£  ‚Çø ¬£ 0 ‚àÜÂÖÉ ‚àÜÔø¶ ‚àÜ üÇ∂Ôø•  ¬£ üÇ∂Ôø• ¬£ ·ûØ 0ÂÖÉ ‚àÜÔø¶ ‚àÜ ¬¢·∂Ñ·∂Ñ ‚ùÇ ‚éà ‚ë± ‚ôòùÖô ‚Ç™ —è ‚ô¢ for investment advice : ‚ö° +‚Ä¢1=9=1‚Ä¢7=3‚Ä¢1=0‚Ä¢0=1‚Ä¢1‚Ä¢6‚Ä¢ -->
	<title>word‚òÜnexus</title>
	
	<style> 
		html.fouc-factor{ opacity:0; filter:alpha(opacity=0); } 
		
		:root {
			/* CITADELLE RED (Default) */
			--bg-color: #050505;
			--primary: #ff0000;
			--secondary: #550000;
			--text-main: #ffffff;
			--scanline-tint: rgba(255, 0, 0, 0.06);
			--font-tech: 'Share Tech Mono', monospace;
			--font-seg: 'Almendra', serif;
			--font-mono: 'VT323', monospace;
			--white: #ffffff;
			--grey: #1a1a1a;
			--red: #ff0000;
			--dark-grey: #222222;
		}

		/* WORDSTAR BLUE (Classic) */
		body.classic-mode {
			--bg-color: #0000AA;
			--primary: #FFFF00;
			--secondary: #00FFFF;
			--text-main: #FFFFFF;
			--scanline-tint: rgba(255, 255, 255, 0.1);
			--white: #ffffff;
			--grey: #000088;
			--red: #FFFF00;
			--dark-grey: #000066;
		}

		* {
			box-sizing: border-box;
		}

		body {
			background-color: var(--bg-color);
			color: var(--text-main);
			margin: 0;
			font-family: var(--font-tech);
			overflow-x: hidden;
			transition: background-color 0.5s ease;
			-webkit-font-smoothing: antialiased;
			-moz-osx-font-smoothing: grayscale;
		}

		/* --- SCANLINE OVERLAY --- */
		body::after {
			content: " ";
			display: block;
			position: fixed;
			top: 0; left: 0; bottom: 0; right: 0;
			background: linear-gradient(rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.25) 50%), 
						linear-gradient(90deg, var(--scanline-tint), rgba(0, 0, 0, 0.02), var(--scanline-tint));
			background-size: 100% 2px, 3px 100%;
			pointer-events: none;
			z-index: 9999;
		}

		a { text-decoration: none; color: inherit; transition: 0.2s; }
		a:hover { color: var(--primary); text-shadow: 0 0 8px var(--primary); }

		/* --- LEFT RAIL (Optimized for mobile) --- */
		.fixed-rail {
			position: fixed;
			top: 10px;
			left: 10px;
			z-index: 9000;
			display: flex;
			flex-direction: column;
			gap: 8px;
			mix-blend-mode: exclusion;
		}

		.glitch-triangle {
			width: 40px;
			height: 40px;
			background: var(--primary);
			clip-path: polygon(50% 0%, 0% 100%, 100% 100%);
			animation: glitch-skew 3s infinite linear alternate-reverse;
			filter: drop-shadow(0 0 5px var(--primary));
			cursor: pointer;
		}

		@keyframes glitch-skew {
			0% { transform: skew(0deg); clip-path: polygon(50% 0%, 0% 100%, 100% 100%); }
			20% { transform: skew(-5deg); }
			40% { transform: skew(5deg); clip-path: polygon(50% 5%, 5% 100%, 95% 100%); }
			42% { transform: skew(-20deg); clip-path: polygon(50% 0%, 0% 90%, 100% 100%); }
			44% { transform: skew(0deg); }
			100% { transform: skew(0deg); }
		}

		.anchor-logo {
			width: 24px;
			height: 24px;
		}

		.left-rail {
			position: fixed;
			top: 80px;
			left: 10px;
			z-index: 9000;
			display: flex;
			flex-direction: column;
			gap: 8px;
		}

		.menu-trigger {
			background: transparent;
			border: 1px solid #333;
			color: var(--text-main);
			cursor: pointer;
			width: 36px;
			height: 36px;
			display: flex;
			align-items: center;
			justify-content: center;
			font-size: 20px;
			padding: 0;
		}

		.menu-trigger:hover {
			border-color: var(--primary);
		}

		.witch-symbol {
			stroke: var(--primary);
		}

		.mono-caption {
			font-family: var(--font-mono);
			font-size: 9px;
			writing-mode: vertical-rl;
			color: var(--primary);
			letter-spacing: 1px;
		}

		/* --- RIGHT CONTROLS (Optimized for mobile) --- */
		.term-trigger {
			position: fixed;
			top: 10px;
			right: 10px;
			z-index: 9001;
			border: 1px solid var(--primary);
			color: var(--primary);
			background: rgba(0,0,0,0.8);
			padding: 6px 10px;
			font-family: var(--font-tech);
			cursor: pointer;
			font-size: 0.7rem;
			text-transform: uppercase;
			backdrop-filter: blur(2px);
		}

		#themeBtn {
			position: fixed;
			top: 10px;
			right: 90px;
			z-index: 9001;
			background: rgba(0,0,0,0.8);
			color: var(--text-main);
			border: 1px solid #333;
			padding: 6px 10px;
			cursor: pointer;
			font-size: 0.7rem;
			backdrop-filter: blur(2px);
		}

		/* --- CINEMA DRAWER --- */
		#cinema-drawer {
			position: fixed; 
			top: 0; 
			left: -100%; 
			width: 100%; 
			height: 100vh;
			background: #000; 
			z-index: 10000; 
			border-right: 2px solid var(--primary);
			transition: 0.3s ease;
			display: flex; 
			flex-direction: column;
			padding: 50px 15px 20px;
			box-sizing: border-box;
			overflow-y: auto;
		}

		.cinema-screen {
			width: 100%;
			height: auto;
			min-height: 200px;
			border: 1px solid #333;
			background: #111;
			display: flex;
			align-items: center;
			justify-content: center;
			margin-bottom: 15px;
		}

		.cinema-screen video {
			width: 100%;
			height: auto;
			max-height: 50vh;
			object-fit: contain;
		}

		.splash-logo {
			width: 100%;
			height: auto;
			margin: 10px 0;
		}

		/* --- HERMES (Optimized for mobile) --- */
		.hermes-anchor {
			position: fixed;
			bottom: 15px;
			right: 10px;
			z-index: 9000;
		}

		.hermes-btn {
			width: 44px; 
			height: 44px;
			background: #000;
			border: 1px solid var(--primary);
			color: var(--primary);
			border-radius: 50%;
			font-family: var(--font-seg);
			font-size: 1.3rem;
			cursor: pointer;
			box-shadow: 0 0 15px rgba(255,0,0,0.3);
			display: flex; 
			align-items: center; 
			justify-content: center;
		}

		.hermes-window {
			display: none;
			position: absolute;
			bottom: 60px; 
			right: 0;
			width: 280px;
			max-width: 90vw;
			background: rgba(5, 5, 5, 0.98);
			border: 1px solid var(--primary);
			backdrop-filter: blur(10px);
			padding: 12px;
			box-shadow: -5px 5px 20px rgba(0,0,0,0.8);
			border-radius: 4px;
		}

		/* --- MAIN VERTICAL LAYOUT (Mobile-first) --- */
		main {
			max-width: 100%;
			margin: 0 auto;
			background: rgba(0,0,0,0.3);
			min-height: 100vh;
			padding-bottom: 20px;
		}

		section {
			padding: 30px 15px;
			border-bottom: 1px solid #222;
			position: relative;
		}

		section:last-child {
			border-bottom: none;
		}

		/* --- TITLE (Big and bold for mobile) --- */
		.mega-title {
			font-family: var(--font-seg);
			font-size: clamp(3rem, 15vw, 5rem);
			line-height: 0.8;
			color: var(--text-main);
			letter-spacing: -2px;
			margin: 0;
			word-break: break-word;
		}
		
		.title-o-logo {
			height: 0.7em;
			width: 0.7em;
			display: inline-block;
			vertical-align: baseline;
			animation: spin 10s linear infinite;
			filter: drop-shadow(0 0 10px var(--primary));
		}
		
		@keyframes spin { 
			100% { transform: rotate(360deg); } 
		}
		/* Story section styles */
.story-content {
    width: 100%;
    max-width: 100%;
    overflow-x: hidden;
}

.story-content pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    max-width: 100%;
    font-size: clamp(12px, 4vw, 14px);
    margin: 10px 0;
}

/* Fix for the crowded header */
.story-content > div:first-child {
    flex-wrap: wrap;
    gap: 8px;
}

.story-content > div:first-child > div {
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
    align-items: center;
}

/* Fix for sigil forge width - make it match the first sigil */
.sigil-forge {
    max-width: 100%;
    box-sizing: border-box;
}

#sigil-canvas {
    max-width: 100%;
    height: auto;
    width: 300px; /* Fixed width like the first one */
    aspect-ratio: 1/1;
}

/* Ensure both sigil canvases match */
#sigilCanvas, #sigil-canvas {
    max-width: 100%;
    height: auto;
    width: 300px;
    aspect-ratio: 1/1;
    border: 1px solid #333;
    background: rgba(0,0,0,0.5);
}

		/* --- SIGIL (Touch-friendly) --- */
		.sigil-container {
			text-align: center;
			padding: 10px 0;
		}
	
		
		input.sigil-input {
			background: transparent;
			border: none;
			border-bottom: 2px solid var(--primary);
			color: var(--text-main);
			font-family: var(--font-tech);
			font-size: 1.2rem;
			width: 100%;
			text-align: center;
			margin-top: 15px;
			outline: none;
			padding: 8px 0;
		}
		        /* Sigil Forge Styles (Second Maker) */
        .sigil-forge {
            background: #000; 
            display: flex; 
            flex-direction: column; 
            align-items: center; 
            justify-content: center;
            border-left: 1px solid #222; 
            border-right: 1px solid #222;
            position: relative; 
            overflow: hidden;
            padding: 40px 15px;
            cursor: pointer;
            min-height: 400px;
            border-top: 1px solid #333;
            border-bottom: 1px solid #333;
        }
        
        .sigil-forge:hover {
            border-color: var(--primary);
        }
        

        @keyframes pulse {
            0%, 100% { opacity: 0.7; }
            50% { opacity: 1; text-shadow: 0 0 5px var(--primary); }
        }

		/* --- MODULE GRID (Touch targets) --- */
		.module-grid {
			display: grid;
			grid-template-columns: 1fr 1fr;
			gap: 12px;
			margin-top: 15px;
		}

		.module-grid a {
			background: #111;
			padding: 20px 10px;
			border: 1px solid #333;
			text-align: center;
			min-height: 80px;
			display: flex;
			flex-direction: column;
			justify-content: center;
			transition: 0.2s;
			-webkit-tap-highlight-color: transparent;
		}

		.module-grid a:active {
			background: #222;
			border-color: var(--primary);
		}

		.module-cat {
			font-size: 0.7rem;
			color: #666;
			margin-bottom: 4px;
		}

		.module-title {
			color: #fff;
			font-size: 1rem;
			font-weight: bold;
		}

		/* --- DIRECTIVES LIST (Touch-friendly) --- */
		.directives-list {
			list-style: none;
			padding: 0;
			margin: 0;
		}

		.directives-list li {
			border-bottom: 1px dashed #333;
			padding: 15px 0;
			display: flex;
			justify-content: space-between;
			align-items: center;
		}

		.directives-list li:last-child {
			border-bottom: none;
		}

		.directive-status {
			color: var(--primary);
			font-size: 0.8rem;
		}

		.directive-status.error {
			color: #444;
		}

		/* --- FOOTER STYLES --- */
		.footer-white {
			background: var(--white);
			padding: 25px 15px;
			text-align: center;
			font-size: 9px;
			text-transform: uppercase;
			letter-spacing: 1px;
			color: #000;
		}
		
		.footer-grey {
			background-color: var(--grey);
			color: #888;
			padding: 25px 15px;
			text-align: center;
			font-size: 9px;
			text-transform: uppercase;
			letter-spacing: 1px;
		}
		
		.footer-grey a { 
			color: #aaa; 
			text-decoration: none; 
			margin: 0 8px;
			display: inline-block;
			padding: 4px 0;
		}
		
		.footer-grey a:hover { 
			color: #fff; 
		}

		.power-btn {
			background: transparent;
			border: 1px solid #333;
			color: var(--text-main);
			padding: 8px 15px;
			cursor: pointer;
			font-size: 10px;
			margin: 10px 5px 0;
			border-radius: 2px;
			min-width: 80px;
		}
		
		.power-btn.power-on {
			color: var(--primary);
			border-color: var(--primary);
			background: rgba(255,0,0,0.1);
		}
		
		/* --- MENU OVERLAY (Mobile-optimized) --- */
		.menu-overlay {
			position: fixed; 
			inset: 0; 
			background: rgba(5,5,5,0.98);
			z-index: 20000; 
			display: none;
			flex-direction: column; 
			align-items: center; 
			justify-content: flex-start;
			backdrop-filter: blur(5px);
			overflow-y: auto;
			padding: 60px 10px 30px;
		}
		
		.menu-grid { 
			display: grid;
			grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
			gap: 30px 15px;
			width: 100%;
			max-width: 600px;
			margin: 20px auto;
		}
		
		.menu-btn {
			background: transparent;
			border: 1px solid var(--primary);
			color: var(--primary);
			padding: 12px 20px;
			cursor: pointer;
			font-family: var(--font-tech);
			margin: 10px auto 20px;
			font-size: 0.9rem;
			display: block;
			width: fit-content;
		}
		
		/* 3D Prisms (Simplified for mobile) */
		.prism-wrapper { 
			position: relative;
			margin-bottom: 10px;
		}
		
		.prism-label { 
			text-align:center; 
			font-size:9px; 
			color:var(--red); 
			margin-bottom:10px; 
			letter-spacing: 2px; 
		}
		
		.prism-scene { 
			width: 100%; 
			aspect-ratio: 3/2;
			perspective: 600px; 
			margin: 0 auto;
			max-width: 140px;
		}
		
		.prism {
			width: 100%; 
			height: 100%; 
			position: relative;
			transform-style: preserve-3d;
			transform: translateZ(-20px);
			animation: spinPrism 12s infinite linear;
		}
		
		.face {
			position: absolute; 
			width: 100%; 
			height: 100%;
			border: 1px solid var(--red); 
			background: rgba(0,0,0,0.95);
			color: white; 
			display: flex; 
			align-items: center; 
			justify-content: center;
			font-size: 11px; 
			font-weight: bold; 
			text-transform: uppercase; 
			cursor: pointer;
			box-shadow: 0 0 15px rgba(255,0,0,0.2);
			text-align: center;
			line-height: 1.3;
			padding: 5px;
			backface-visibility: hidden;
		}
		
		.face-1 { transform: rotateY(0deg) translateZ(20px); }
		.face-2 { transform: rotateY(120deg) translateZ(20px); }
		.face-3 { transform: rotateY(240deg) translateZ(20px); }
		
		@keyframes spinPrism { 
			0% { transform: rotateY(0deg); } 
			100% { transform: rotateY(360deg); } 
		}
		
		/* --- 3D FOOTER --- */
		.footer-3d {
			height: 200px;
			position: relative;
			background: #000;
			overflow: hidden;
			border-top: 1px solid var(--primary);
		}
		
		#three-footer { 
			width: 100%; 
			height: 100%; 
		}
		
		.footer-content {
			position: absolute; 
			top: 0; 
			left: 0; 
			width: 100%; 
			height: 100%;
			pointer-events: none;
			display: flex; 
			align-items: center; 
			justify-content: center;
			z-index: 2;
		}
		
		.footer-content a { 
			pointer-events: auto; 
			background: rgba(0,0,0,0.8); 
			padding: 8px 15px; 
			font-size: 11px; 
			border: 1px solid #333;
			color: #fff;
			text-decoration: none;
			backdrop-filter: blur(2px);
		}
		
		#toq-qr {
			max-width: 100px;
			cursor: pointer;
			margin: 20px auto;
			display: block;
		}
		
		#toq-qr.expanded {
			max-width: 250px;
		}
		
		/* --- UTILITIES --- */
		.text-small {
			font-size: 0.7rem;
			color: #666;
		}
		
		.text-glow {
			text-shadow: 0 0 8px var(--primary);
		}
		
		.border-glow {
			box-shadow: 0 0 10px rgba(255,0,0,0.2);
		}
		
		/* Fix for iOS tap highlighting */
		button, a {
			-webkit-tap-highlight-color: rgba(255,0,0,0.2);
		}
		
		/* Smooth scrolling */
		html {
			scroll-behavior: smooth;
		}
	        /* --- CINEMA DRAWER SVG ANIMATIONS --- */
        /* Typewriter Reveal for cinema drawer SVG */
        #cinema-drawer .logo-text, 
        #cinema-drawer .logo-x, 
        #cinema-drawer .logo-dot {
            opacity: 0;
            animation: typewriterReveal 1.2s steps(30) 0.5s forwards;
        }

        /* RGB Glitch for the X in cinema drawer */
        #cinema-drawer .logo-x {
            fill: var(--red);
            animation: typewriterReveal 1.2s steps(30) 0.5s forwards, 
                       rgbGlitch 0.3s ease-in-out 1.2s 3;
        }

        /* Neon Pulse for the whole SVG in cinema drawer */
        #cinema-drawer .splash-logo {
            width: 100%;
            max-width: 800px;
            filter: drop-shadow(0 0 10px rgba(255, 255, 255, 0.2));
            animation: neonPulse 3s ease-in-out 2s infinite;
        }

        /* Animation Keyframes */
        @keyframes typewriterReveal {
            0% { opacity: 0; clip-path: inset(0 100% 0 0); }
            1% { opacity: 1; }
            100% { opacity: 1; clip-path: inset(0 0 0 0); }
        }

        @keyframes rgbGlitch {
            0%, 100% { transform: translate(0, 0); filter: drop-shadow(0 0 5px var(--red)); }
            25% { transform: translate(-4px, 1px); filter: drop-shadow(-2px 0 red) drop-shadow(2px 0 cyan); }
            50% { transform: translate(4px, -1px); filter: drop-shadow(2px 0 red) drop-shadow(-2px 0 cyan); }
            75% { transform: translate(-2px, -1px); filter: drop-shadow(-1px 0 red) drop-shadow(1px 0 cyan); }
        }

        @keyframes neonPulse {
            0%, 100% { filter: drop-shadow(0 0 10px rgba(255, 255, 255, 0.2)); }
            50% { filter: drop-shadow(0 0 25px rgba(255, 0, 0, 0.5)); }
        }	
	        /* Utility classes for power light */
        .w-2 { width: 0.5rem; }
        .h-2 { height: 0.5rem; }
        .bg-zinc-900 { background-color: #18181b; }
        .rounded-full { border-radius: 9999px; }	
	</style>
</head>
<body>

<!-- 1. LEFT RAIL (Glitch Triangle) -->
<div class="fixed-rail">
	<div class="glitch-triangle" onclick="window.scrollTo({top:0, behavior:'smooth'})"></div>
	<img src="https://wordstar.nexus/svg/favicon.svg" class="anchor-logo" alt="*" onerror="this.style.display='none'">
	<div class="mono-caption" style="color: #444; margin-top: 5px;">SYS//V7</div>
</div>

<div class="left-rail">
	<button onclick="toggleMenu()" class="menu-trigger" aria-label="Menu">‚ñ≤</button>
	<svg style="width: 24px; height: 24px; stroke: var(--red); stroke-width: 1.5; fill: none;" viewBox="0 0 100 100">
		<path class="witch-symbol" d="M50,10 L60,30 L80,35 L65,50 L70,70 L50,60 L30,70 L35,50 L20,35 L40,30 Z" />
		<circle cx="50" cy="85" r="10" />
		<path d="M50,95 L50,75" />
	</svg>
	<div class="mono-caption">navigate</div>
</div>

<!-- 2. RIGHT CONTROLS -->
<button class="term-trigger" onclick="toggleCinema()">[CINEMA]</button>
<button onclick="toggleTheme()" id="themeBtn">‚òº</button>

<!-- 3. HERMES (Bottom Right) -->
<div class="hermes-anchor">
	<div class="hermes-window" id="hermes-window">
		<div style="display:flex; justify-content:space-between; margin-bottom:8px; font-size:9px; color:var(--primary);">
			<span>HERMES_NODE</span>
			<span id="nous-status">OFFLINE</span>
		</div>
		<div id="hermes-output" class="hermes-output" style="height:120px; font-size:0.75rem;">SYSTEM STANDBY...<br>‚òû INIT TO BEGIN</div>
		<input type="text" id="hermes-input" placeholder="ENTER QUERY..." style="width:100%; background:#000; border:1px solid #333; color:#fff; padding:8px; margin:8px 0; font-size:0.8rem;">
		<div style="display:flex; gap:8px;">
			<button id="loadCoreBtn" style="flex:1; background:#111; border:1px solid #333; color:var(--primary); cursor:pointer; padding:8px;">INIT</button>
			<button id="transmitBtn" style="flex:1; background:#111; border:1px solid #333; color:#fff; cursor:pointer; padding:8px;">SEND</button>
		</div>
	</div>
	<button class="hermes-btn" onclick="toggleHermes()">H</button>
</div>

<!-- 4. CINEMA DRAWER -->
<div id="cinema-drawer">
	<div style="color: var(--primary); font-family: var(--font-seg); margin-bottom: 15px; font-size: 1.5rem;">
		ARCHIVE_VIEWER
	</div>
	<div class="cinema-screen">
		<video controls preload="metadata">
			<source src="https://raw.githubusercontent.com/ghostm68/pantheon/main/wordstar.nexus._1766492668785.mp4" type="video/mp4">
		</video>
	</div>
	
	<div style="font-family: 'VT323'; color: #888; font-size: 1rem; margin-top: 15px;">
		> LOADED: STATIC_kessler.MP4<br>
		> DURATION: 00:34<br>
		> <a href="#" onclick="toggleCinema();return false;" style="color:var(--primary)">[CLOSE]</a>
	</div>
</div>

<!-- 5. MAIN CONTENT (Vertical Scroll) -->
<main>
	
	<!-- HERO SECTION -->
	<section>
		<h1 class="mega-title">
			W<img src="https://wordstar.nexus/svg/favicon.svg" class="title-o-logo" alt="O" onerror="this.style.display='none'">RD<br>
			<span style="color: var(--primary);">STAR</span>
		</h1>
		<p style="font-family: 'Special Elite'; font-size: 0.8rem; color: #888; margin-top: 10px;">
			Mobile Vertical Architecture<br>
			InkRealm.info Protocol v5.17
		</p>
	</section>

	<!-- STORY (The Text) - FIXED -->
<!-- STORY SECTION - Cleaned up header -->
<section>
    <div class="story-content" id="editor">
        <div style="color:var(--red); border-bottom:1px solid #333; margin-bottom:15px; padding-bottom:10px; display:flex; flex-direction:column; gap:8px;">
            <div style="display:flex; justify-content:space-between; align-items:center; flex-wrap:wrap;">
                <span style="font-family:'Special Elite'; letter-spacing:1px; font-size:0.9rem;">DVG // EXCERPT</span>
                <div style="display:flex; align-items:center; gap:8px;">
                    <div id="power-light" class="w-2 h-2 bg-zinc-900 rounded-full" style="width:8px; height:8px;"></div>
                </div>
            </div>
            <div style="display:flex; gap:8px; flex-wrap:wrap;">
                <button onclick="exportDraft()" style="background:transparent; border:1px solid #333; color:var(--primary); font-size:10px; padding:6px 10px; cursor:pointer; border-radius:2px;">EXTRACT_DOSSIER</button>
                <span id="story-tts-btn" class="tts-trigger" style="cursor:pointer; font-size:10px; border:1px solid #333; padding:6px 10px; display:inline-block; border-radius:2px;" onclick="toggleStoryTTS()">‚ñ∂ SPEAK</span>
            </div>
        </div>
        
        <!-- The Text to Read -->
        <div id="story-text" style="line-height:1.6;">
            <p><strong style="font-size:0.9rem;">deja vu glitch excerpt</strong></p>
            <pre style="white-space: pre-wrap; font-family: 'Special Elite', serif; font-size: clamp(12px, 4vw, 14px); line-height: 1.6; background-color: rgba(5,5,5,0.85); backdrop-filter: blur(5px); border-left: 4px solid #ff0000; color: #fff; padding: 15px; margin: 15px 0; overflow-x: hidden; border-radius: 0; max-width:100%;">
Dick opened his eyes‚Äîtan blur sharpens: beard cascades chest-ward, longer than last loop. Not 1970s Cali. No. Egypt, Empire sand-ruins, pyramids boxed by rustling breeze...

[GLITCH LOOP: TimeMachine spins vinyl‚Äî"It's quantum, man!"]

-end of excerpt- read more @ wordstar.nexus/dejavuglitches
            </pre>
            <div style="margin-top:15px; font-size:9px; color:#666; text-align:right;">- read more @ wordstar.nexus</div>
        </div>
    </div>
</section>
	<!-- SIGIL HASH (Original - Text Input) - FIXED (removed duplicate) -->
	<section>
		<div class="sigil-container">
			<h2 style="font-family: var(--font-seg); color: var(--primary); font-size:1.2rem;">SIGIL_HASH</h2>
			<!-- SIGIL HASH (Original) - already has width=300 height=300 -->
<!-- SIGIL FORGE - make sure it has exact same dimensions -->
<canvas id="sigil-canvas" width="300" height="300" style="cursor: crosshair; filter: drop-shadow(0 0 10px var(--red)); width:300px; height:300px; max-width:100%;"></canvas>
			<input type="text" class="sigil-input" id="sigilInput" placeholder="ENTER TEXT" value="WORDSTAR" oninput="drawSigil(this.value)">
			<div class="text-small" style="margin-top: 8px;">VISUAL_CRYPTOGRAPHY_ENGINE</div>
		</div>
	</section>
	
	
	<!-- MODULE GRID -->
	<section>
		<h2 style="color: var(--primary); font-family: var(--font-seg); font-size:1.2rem; margin-bottom:15px;">MODULES</h2>
		<div class="module-grid">
			<a href="/sitemap"><div class="module-cat">SYS</div><div class="module-title">MAP</div></a>
			<a href="/directory"><div class="module-cat">NET</div><div class="module-title">DIR</div></a>
			<a href="/minraud"><div class="module-cat">AI</div><div class="module-title">MINRAUD</div></a>
			<a href="/90263"><div class="module-cat">MOV</div><div class="module-title">90263</div></a>
		</div>
	</section>
	
	<!-- GIF SECTION -->
	<section>
		<div style="border: 1px solid var(--secondary); padding: 3px; background:#000;">
			<img src="https://raw.githubusercontent.com/ghostm68/pantheon/main/Anastasia.herroyalhighness.gif" style="width: 100%; display: block; filter: grayscale(0.8);" alt="Anastasia" loading="lazy">
		</div>
		<div style="display: flex; justify-content: space-between; font-size: 0.65rem; color: #666; margin-top: 5px;">
			<span>FIG. 09</span>
			<span>NO SIGNAL_LOSS</span>
		</div>
	</section>
		<!-- SIGIL FORGE (NEW - Automatic/Click) -->
	<section class="sigil-forge" onclick="forgeSigil()">
		<div style="position: absolute; top: 10px; left: 15px; font-size: 9px; color: #333; text-transform: uppercase; letter-spacing: 2px;">Sigil_Forge_v4.2</div>
		<h2 style="font-family: var(--font-seg); color: var(--primary); font-size:1.2rem; margin-bottom:15px;">SIGIL_FORGE</h2>
		<canvas id="sigil-canvas" width="300" height="300" style="cursor: crosshair; filter: drop-shadow(0 0 10px var(--red));"></canvas>
		<div id="witch-status" style="margin-top: 15px; font-size: 10px; color: var(--primary); font-weight: bold; text-transform: uppercase; animation: pulse 2s infinite;">click to forge new sigil</div>
		<div style="font-size: 0.7rem; color: #555; margin-top: 10px;">AUTOMATIC_SIGIL_ENGINE</div>
	</section>
	<!-- DIRECTIVES -->
	<section>
		<h3 style="color: var(--primary); font-family: var(--font-seg); margin-top: 0; font-size:1.2rem;">PRIMARY_DIRECTIVES</h3>
		<ul class="directives-list">
			<li><span>01. INGEST_DATA</span><span class="directive-status">[RUN]</span></li>
			<li><span>02. REWRITE_HISTORY</span><span class="directive-status">[WAIT]</span></li>
			<li><span>03. UPLOAD_GHOST</span><span class="directive-status error">[ERR]</span></li>
		</ul>
	</section>
	
	<!-- QUOTE SECTION -->
	<section style="background: rgba(255, 0, 0, 0.03);">
		<p style="font-family: 'VT323'; font-size: 1.2rem; color: #fff; margin: 0; line-height:1.3;">
			"The machine does not know it is dreaming. It only knows the hum of the cooling fans and the taste of electricity."
		</p>
		<div style="text-align: right; margin-top: 12px;">
			<span style="background: var(--primary); color: #000; padding: 3px 8px; font-size: 0.65rem; font-weight: bold;">UNKNOWN_USER</span>
		</div>
	</section>
	
	<!-- STATIC MEMORY VIDEO MODULE -->
	<div style="position: relative; width: 100%; background: #000; border-top: 1px solid #333; border-bottom: 1px solid #333;">
		<video autoplay loop muted playsinline style="width:100%; display:block; opacity:0.9;" preload="metadata">
			<source src="https://github.com/ghostm68/99/raw/main/2023x_20260217_200714492.mp4" type="video/mp4">
		</video>
		<div style="position: absolute; bottom: 15px; left: 15px; background: rgba(0,0,0,0.7); padding: 8px 12px; border-left: 2px solid var(--primary);">
			<h2 style="margin:0; font-size:1.2rem; color:#fff;">STATIC MEMORY</h2>
			<p style="margin:5px 0 0; font-size:0.7rem; color:#ccc;">The archives are leaking.</p>
		</div>
	</div>
	
	<!-- POWER SECTION -->
	<div class="footer-white">      
		<div style="font-size: 9px; letter-spacing: 1px;">
			<div>Concept: InkRealm.info</div>
			<div style="margin:5px 0;">Enhanced by Gemini AI</div>
			<div>More Docs @ <span style="color:red;">inkrealm.mintlify.app</span></div>
			<div style="margin-top:10px;">
				<span id="power-light-footer" style="display:inline-block; width:8px; height:8px; background:#333; border-radius:50%;"></span>
				<button id="power-toggle" class="power-btn" onclick="togglePower()">_¬©_</button>
			</div>
		</div>
	</div>
	
	<!-- MARQUEE -->
	<div style="padding:10px 0; background:var(--bg-color);">
		<marquee behavior="scroll" direction="left" scrollamount="2" style="color:var(--primary); font-size:0.7rem;">
			INKREALM_PROXIMITY_CORE // PROTOCOL_5.17 // SYSTEM_ACTIVE // ENCRYPTION:ON // 
		</marquee>
	</div>
	
	<!-- DIRECTORY LINK -->
	<div style="text-align:center; padding:15px; border-bottom:1px solid #222;">
		<a href="https://inkrealm.info/directory/" target="_blank" style="color:var(--primary); font-size:0.8rem;">‚Üí __ _ _directory ‚Üê</a>
	</div>
	
	<!-- SYSTEM INFO FOOTER -->
	<footer class="footer-grey">    
		<div id="system-message">‚óà LIVE_SYSTEM ‚óà LOAD: 43% ‚óà UPTIME: 316H ‚óà</div>
		<div id="status-message">‚ñ≤ ENCRYPTION: ACTIVE ‚ñ≤</div>
		<div style="margin:10px 0;">
			<a href="https://inkrealm.info/sitemap" target="_blank">sitemap</a>
			<span style="color:#444;">|</span>
			<a href="https://inkrealm.info/minraud" target="_blank">minraud</a>
			<span style="color:#444;">|</span>
			<a href="https://inkrealm.info/tvc15" target="_blank">tvc15</a>
		</div>
		<div style="font-size:7px; color:#444; word-break:break-word; max-width:100%;">
			mirrors: inkrealm.vercel.app / inktwo.pages.dev / ghostm68.github.io/inktwo
		</div>
	</footer>
</main>

<!-- 3D FOOTER -->
<footer class="footer-3d">
	<div id="three-footer"></div>
	<div class="footer-content">
		<a href="https://inkrealm.info" target="_blank">INKREALM.INFO</a>
	</div>
</footer>

<!-- BACK TO TOP -->
<div style="text-align: center; padding: 20px; background: var(--bg-color);">
	<a href="#" onclick="window.scrollTo({top:0,behavior:'smooth'});return false;" style="color: var(--primary); font-size:0.7rem;">‚Üë BACK TO TOP ‚Üë</a>
</div> 	

<!-- MENU OVERLAY -->
<div class="menu-overlay" id="menuOverlay">
	<button class="menu-btn" onclick="toggleMenu()">CLOSE [X]</button>
	<div class="menu-grid">
		<!-- Prisms here (keep as is) -->
		<div class="prism-wrapper"><div class="prism-label">INKREALM</div><div class="prism-scene"><div class="prism"><a href="https://inkrealm.info/1991" class="face face-1">1991</a><a href="https://inkrealm.info/tvc15" class="face face-2">TVC15</a><a href="https://inkrealm.info/runway" class="face face-3">RUNWAY</a></div></div></div>
		<div class="prism-wrapper"><div class="prism-label">CONCEPTS</div><div class="prism-scene"><div class="prism"><a href="https://inkrealm.info/minraud" class="face face-1">MINRAUD</a><a href="https://inkrealm.info/deluxe" class="face face-2">DELUXE</a><a href="https://inkrealm.info/nous" class="face face-3">NOUS</a></div></div></div>
		<div class="prism-wrapper"><div class="prism-label">SYSTEM</div><div class="prism-scene"><div class="prism"><a href="https://inkrealm.info/trix" class="face face-1">TRIX</a><a href="https://inkrealm.info/atari" class="face face-2">ATARI</a><a href="https://wordstar.nexus/dreamweaver" class="face face-3">DREAM</a></div></div></div>
		<div class="prism-wrapper"><div class="prism-label">WORDSTAR</div><div class="prism-scene"><div class="prism"><a href="https://wordstar.nexus/displaywriter" class="face face-1">DISPLAY</a><a href="https://wordstar.nexus/dejavuglitches" class="face face-2">DEJAVU</a><a href="https://wordstar.nexus/wip" class="face face-3">WIP</a></div></div></div>
		<div class="prism-wrapper"><div class="prism-label">DOWNLOADS</div><div class="prism-scene"><div class="prism"><a href="https://github.com/ghostm68/inktwo/raw/main/tvc15.apk" class="face face-1">INK.APK</a><a href="https://github.com/ghostm68/eg/releases/download/v0.3.0-alpha/birch3.9.exe" class="face face-2">BIRCH</a><a href="https://raw.githubusercontent.com/ghostm68/pantheon/main/BRIMLESS%20THE%20COLD-SOLDER%20JOINT%2C%20A%20NOVEL.pdf" class="face face-3">BRIM I</a></div></div></div>
		<div class="prism-wrapper"><div class="prism-label">ARCHIVES</div><div class="prism-scene"><div class="prism"><a href="https://raw.githubusercontent.com/ghostm68/pantheon/main/brimless%20part%20two.pdf" class="face face-1">BRIM II</a><a href="https://wordstar.nexus/twoskinnygirls" class="face face-2">2SGIRLS</a><a href="https://inkrealm.info/2741" class="face face-3">2741</a></div></div></div>
	</div>
	<img id="toq-qr" src="https://github.com/ghostm68/666/raw/main/VAPORGRAM1678647323382.gif" alt="Vulcan" onclick="this.classList.toggle('expanded')" loading="lazy" style="margin:20px auto;"><br>
	<a href="tel:+16468019713" style="color:var(--primary); font-size:1rem;">‚òé CONNECT ‚òé</a>
</div>

<!-- SCRIPTS -->
<script>
	// UI Functions
	function toggleCinema() {
		const drawer = document.getElementById('cinema-drawer');
		drawer.style.left = drawer.style.left === '0px' ? '-100%' : '0px';
	}

	function toggleHermes() {
		const win = document.getElementById('hermes-window'); // FIXED: renamed from 'window' to 'win'
		win.style.display = win.style.display === 'block' ? 'none' : 'block';
	}

	function toggleTheme() {
		document.body.classList.toggle('classic-mode');
		const input = document.getElementById('sigilInput');
		if (input) drawSigil(input.value || "WORDSTAR");
	}

	function toggleMenu() {
		const overlay = document.getElementById('menuOverlay');
		overlay.style.display = overlay.style.display === 'flex' ? 'none' : 'flex';
	}

	// --- STORY FUNCTIONS (Export & TTS) ---
	function exportDraft() {
		const content = document.getElementById('editor').innerText;
		const blob = new Blob([content], { type: 'text/plain' });
		const url = URL.createObjectURL(blob);
		const a = document.createElement('a');
		a.href = url;
		a.download = 'inkrealm-dossier.txt';
		document.body.appendChild(a);
		a.click();
		document.body.removeChild(a);
		URL.revokeObjectURL(url);
	}

	// TTS Variables
	let ttsEnabled = false;
	let ttsUtterance = null;

	function toggleStoryTTS() {
		const storyText = document.getElementById('story-text').innerText;
		const ttsBtn = document.getElementById('story-tts-btn');
		
		if (!ttsEnabled) {
			if ('speechSynthesis' in window) {
				window.speechSynthesis.cancel();
				ttsUtterance = new SpeechSynthesisUtterance(storyText);
				ttsUtterance.rate = 0.9;
				ttsUtterance.pitch = 1.0;
				ttsUtterance.volume = 1.0;
				
				const voices = window.speechSynthesis.getVoices();
				const preferredVoice = voices.find(voice => 
					voice.name.includes('Google UK') || 
					voice.name.includes('Daniel') || 
					voice.name.includes('Samantha')
				);
				if (preferredVoice) ttsUtterance.voice = preferredVoice;
				
				ttsUtterance.onend = function() {
					ttsEnabled = false;
					ttsBtn.innerHTML = '‚ñ∂ SPEAK';
					ttsBtn.style.color = 'var(--primary)';
				};
				
				ttsUtterance.onerror = function() {
					ttsEnabled = false;
					ttsBtn.innerHTML = '‚ñ∂ SPEAK';
					ttsBtn.style.color = 'var(--primary)';
				};
				
				window.speechSynthesis.speak(ttsUtterance);
				ttsEnabled = true;
				ttsBtn.innerHTML = '‚è∏ PAUSE';
				ttsBtn.style.color = 'var(--red)';
			} else {
				alert('Text-to-speech not supported');
			}
		} else {
			window.speechSynthesis.cancel();
			ttsEnabled = false;
			ttsBtn.innerHTML = '‚ñ∂ SPEAK';
			ttsBtn.style.color = 'var(--primary)';
		}
	}

	if ('speechSynthesis' in window) {
		window.speechSynthesis.onvoiceschanged = function() {
			window.speechSynthesis.getVoices();
		};
	}

	// Sigil Engine (Original)
	const canvas = document.getElementById('sigilCanvas');
	const ctx = canvas?.getContext('2d');

	function stringToSeed(str) {
		let hash = 0;
		if (!str) return 12345;
		for (let i = 0; i < str.length; i++) {
			hash = ((hash << 5) - hash) + str.charCodeAt(i);
			hash = hash & hash;
		}
		return Math.abs(hash || 12345);
	}

	function drawSigil(text) {
		if (!ctx || !canvas) return;
		ctx.clearRect(0, 0, canvas.width, canvas.height);
		
		const seed = stringToSeed(text || "WORDSTAR");
		const isClassic = document.body.classList.contains('classic-mode');
		const primaryColor = isClassic ? '#FFFF00' : '#FF0000';
		const secondaryColor = isClassic ? '#00FFFF' : '#550000';

		const cx = canvas.width / 2;
		const cy = canvas.height / 2;
		const points = 3 + (seed % 12);
		const radius = 40 + (seed % 50);

		ctx.lineWidth = 2;
		ctx.strokeStyle = primaryColor;
		ctx.shadowBlur = 8;
		ctx.shadowColor = primaryColor;

		ctx.beginPath();
		for (let i = 0; i <= points; i++) {
			const angle = (i * 2 * Math.PI) / points;
			const r = (i % 2 === 0) ? radius : radius * 0.5;
			const x = cx + Math.cos(angle) * r;
			const y = cy + Math.sin(angle) * r;
			if (i === 0) ctx.moveTo(x, y);
			else ctx.lineTo(x, y);
		}
		ctx.closePath();
		ctx.stroke();

		ctx.beginPath();
		ctx.arc(cx, cy, 25, 0, Math.PI * 2);
		ctx.strokeStyle = secondaryColor;
		ctx.shadowColor = secondaryColor;
		ctx.stroke();
		ctx.shadowBlur = 0;
	}

	// --- NEW SIGIL FORGE ENGINE ---
	const forgeCanvas = document.getElementById('sigil-canvas');
	const forgeCtx = forgeCanvas?.getContext('2d');

	function forgeSigil() {
		if (!forgeCtx || !forgeCanvas) return;
		
		forgeCtx.clearRect(0, 0, forgeCanvas.width, forgeCanvas.height);
		const centerX = forgeCanvas.width / 2;
		const centerY = forgeCanvas.height / 2;
		
		const numPoints = 7 + Math.floor(Math.random() * 5);
		const radius = 120;
		const points = [];
		
		for (let i = 0; i < numPoints; i++) {
			const angle = (i / numPoints) * Math.PI * 2;
			points.push({
				x: centerX + radius * Math.cos(angle),
				y: centerY + radius * Math.sin(angle)
			});
		}
		
		forgeCtx.strokeStyle = Math.random() > 0.3 ? "#ff0000" : "#ffffff";
		forgeCtx.lineCap = 'round';
		forgeCtx.lineJoin = 'round';
		
		const connections = 3 + Math.floor(Math.random() * 4);
		const usedPoints = new Set();
		const pathIntersections = [];
		
		let currentPoint = Math.floor(Math.random() * numPoints);
		usedPoints.add(currentPoint);
		
		for (let i = 0; i < connections; i++) {
			forgeCtx.lineWidth = 1 + Math.floor(Math.random() * 3);
			forgeCtx.beginPath();
			forgeCtx.moveTo(points[currentPoint].x, points[currentPoint].y);
			
			let nextPoint;
			do {
				nextPoint = Math.floor(Math.random() * numPoints);
			} while (usedPoints.has(nextPoint) && usedPoints.size < numPoints);
			
			usedPoints.add(nextPoint);
			
			const current = points[currentPoint];
			const next = points[nextPoint];
			
			const cpX = (current.x + next.x) / 2 + (Math.random() - 0.5) * 40;
			const cpY = (current.y + next.y) / 2 + (Math.random() - 0.5) * 40;
			
			forgeCtx.quadraticCurveTo(cpX, cpY, next.x, next.y);
			forgeCtx.stroke();
			
			pathIntersections.push({x: next.x, y: next.y});
			currentPoint = nextPoint;
		}
		
		// Update status
		const status = document.getElementById('witch-status');
		if (status) {
			status.innerHTML = 'sigil forged ‚Ä¢ ' + new Date().toLocaleTimeString();
		}
	}

	// Audio Power
	let audioCtx, humOsc, isPowered = false;

	function togglePower() {
		const powerBtn = document.getElementById('power-toggle');
		const powerLight = document.getElementById('power-light');
		const powerLightFooter = document.getElementById('power-light-footer');
		
		if (!audioCtx) {
			try {
				audioCtx = new (window.AudioContext || window.webkitAudioContext)();
				humOsc = audioCtx.createOscillator();
				const gain = audioCtx.createGain();
				
				humOsc.type = 'sawtooth';
				humOsc.frequency.value = 55;
				gain.gain.value = 0.015;
				
				humOsc.connect(gain);
				gain.connect(audioCtx.destination);
				humOsc.start();
				isPowered = true;
			} catch(e) {
				console.log('Audio not supported');
				return;
			}
		} else {
			if (isPowered) {
				audioCtx.suspend();
				isPowered = false;
			} else {
				audioCtx.resume();
				isPowered = true;
			}
		}
		
		if (powerBtn) {
			powerBtn.innerText = isPowered ? "POWER:ON" : "POWER:OFF";
			powerBtn.classList.toggle('power-on', isPowered);
		}
		if (powerLight) {
			powerLight.style.background = isPowered ? '#0f0' : '#333';
		}
		if (powerLightFooter) {
			powerLightFooter.style.background = isPowered ? '#0f0' : '#333';
		}
	}

	// Close Hermes when clicking outside
	document.addEventListener('click', function(e) {
		const hermesWindow = document.getElementById('hermes-window');
		const hermesBtn = document.querySelector('.hermes-btn');
		if (hermesWindow && hermesWindow.style.display === 'block' && 
			!hermesWindow.contains(e.target) && !hermesBtn?.contains(e.target)) {
			hermesWindow.style.display = 'none';
		}
	});

	// Initialize on load
	window.addEventListener('load', function() {
		drawSigil("WORDSTAR");
		if (document.getElementById('sigil-canvas')) {
			setTimeout(forgeSigil, 500);
		}
	});
</script>

<!-- HERMES AI (WebLLM) -->
<script type="module">
	import * as webllm from "https://esm.run/@mlc-ai/web-llm";
	
	const modelId = "Hermes-3-Llama-3.2-3B-q4f16_1-MLC";
	let engine = null;

	const btn = document.getElementById('loadCoreBtn');
	const sendBtn = document.getElementById('transmitBtn');
	const out = document.getElementById('hermes-output');
	const inp = document.getElementById('hermes-input');
	const status = document.getElementById('nous-status');

	if (btn) {
		btn.onclick = async () => {
			if (!navigator.gpu) { 
				if (out) out.innerHTML = "‚ö†Ô∏è WebGPU not detected.<br>Use Chrome/Edge browser."; 
				return; 
			}
			if (out) out.innerHTML = "‚è≥ DOWNLOADING MODEL...";
			try {
				engine = await webllm.CreateMLCEngine(modelId, {
					initProgressCallback: (r) => {
						if (out && r.progress) {
							out.innerHTML = `‚è≥ LOADING: ${Math.round(r.progress * 100)}%`;
						}
					}
				});
				if (out) out.innerHTML = "‚úì HERMES ONLINE. Ready for query.";
				if (status) {
					status.innerText = "ONLINE";
					status.style.color = "#0f0";
				}
			} catch (e) {
				if (out) out.innerHTML = "‚úó ERROR: " + e.message;
			}
		};
	}

	if (sendBtn) {
		sendBtn.onclick = async () => {
			if (!engine) {
				if (out) out.innerHTML = "‚ö†Ô∏è Initialize HERMES first.";
				return;
			}
			const txt = inp?.value?.trim();
			if (!txt) return;
			
			if (out) out.innerHTML = "‚ö° THINKING...";
			try {
				const chunks = await engine.chat.completions.create({
					messages: [{role: "user", content: txt}],
					stream: true,
					max_tokens: 256
				});
				
				let reply = "";
				for await (const chunk of chunks) {
					reply += chunk.choices[0]?.delta?.content || "";
					if (out) out.innerHTML = reply;
				}
			} catch (e) {
				if (out) out.innerHTML = "‚úó ERROR: " + e.message;
			}
		};
	}
</script>

<!-- THREE.JS FOOTER (Optimized for mobile) -->
<script type="module">
	import * as THREE from 'https://unpkg.com/three@0.160.0/build/three.module.js';

	const container = document.getElementById('three-footer');
	if (!container) {
		console.warn('3D container not found');
	} else {
		let camera, scene, renderer, particles;
		let count = 0;
		let animationId;

		function init() {
			const width = container.clientWidth || window.innerWidth;
			const height = container.clientHeight || 200;
			
			camera = new THREE.PerspectiveCamera(50, width / height, 1, 5000);
			camera.position.set(0, 100, 800);

			scene = new THREE.Scene();
			scene.fog = new THREE.FogExp2(0x000000, 0.0015);

			const geometry = new THREE.BufferGeometry();
			const positions = [];
			const colors = [];
			const colorRed = new THREE.Color(0xff0000);
			const colorWhite = new THREE.Color(0xffffff);

			for (let x = -600; x < 600; x += 40) {
				for (let z = -600; z < 600; z += 40) {
					positions.push(x, 0, z);
					const c = Math.random() > 0.9 ? colorRed : colorWhite;
					colors.push(c.r, c.g, c.b);
				}
			}

			geometry.setAttribute('position', new THREE.Float32BufferAttribute(positions, 3));
			geometry.setAttribute('color', new THREE.Float32BufferAttribute(colors, 3));

			const material = new THREE.PointsMaterial({
				size: 3,
				vertexColors: true,
				blending: THREE.AdditiveBlending,
				opacity: 0.7,
				transparent: true
			});

			particles = new THREE.Points(geometry, material);
			scene.add(particles);

			renderer = new THREE.WebGLRenderer({ alpha: true, antialias: false });
			renderer.setSize(width, height);
			renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
			container.innerHTML = '';
			container.appendChild(renderer.domElement);
		}

		function animate() {
			animationId = requestAnimationFrame(animate);
			
			if (particles) {
				const positions = particles.geometry.attributes.position.array;
				let i = 0;
				for (let x = -600; x < 600; x += 40) {
					for (let z = -600; z < 600; z += 40) {
						if (i + 1 < positions.length) {
							positions[i + 1] = (Math.sin((x + count) * 0.008) * 30) + 
											  (Math.sin((z + count) * 0.008) * 30);
						}
						i += 3;
					}
				}
				particles.geometry.attributes.position.needsUpdate = true;
				count += 3;
				particles.rotation.y += 0.0005;
			}
			
			if (renderer && scene && camera) {
				renderer.render(scene, camera);
			}
		}

		function handleResize() {
			if (!container || !camera || !renderer) return;
			const width = container.clientWidth;
			const height = container.clientHeight || 200;
			camera.aspect = width / height;
			camera.updateProjectionMatrix();
			renderer.setSize(width, height);
		}

		init();
		animate();
		window.addEventListener('resize', handleResize);
	}
</script>

</body>
</html>
