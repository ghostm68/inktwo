<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>INKREALM // V5</title>

<!-- ICONS -->
<link rel="icon" type="image/png" href="https://wordstar.nexus/svg/favicon-96x96.png" sizes="96x96" />
<link rel="icon" type="image/svg+xml" href="https://wordstar.nexus/svg/favicon.svg" />
<link rel="shortcut icon" href="https://wordstar.nexus/svg/favicon.ico" />

<style>
  :root { 
    --red: #ff0033; 
    --black: #050505; 
    --white: #ffffff;
    --grey: #1a1a1a;
    --text-main: #ffffff;
    --font-sans: 'Inter', 'Helvetica Neue', Arial, sans-serif;
    --font-mono: 'Courier New', Courier, monospace;
  }

  * { box-sizing: border-box; margin: 0; padding: 0; }

  body {
    background-color: var(--black);
    color: var(--text-main);
    font-family: var(--font-sans);
    overflow-x: hidden;
    width: 100vw;
  }

  /* --- 1. LEFT RAIL (System: Logo + AI) --- */
  .left-rail {
    position: fixed;
    top: 20px;
    left: 20px;
    width: 280px;
    z-index: 1000;
    display: flex;
    flex-direction: column;
    gap: 15px; /* Space between Logo and AI */
  }

  /* Logo */
  .inkrealm-logo { width: 100%; mix-blend-mode: difference; }
  .inkrealm-logo path { fill: var(--text-main); transition: fill 0.3s; }
  .inkrealm-logo:hover path { fill: var(--red); }
  .ghost-trigger { fill: transparent; cursor: pointer; }

  /* Hermes AI (Under Logo) */
  #nous-interface {
    width: 100%;
    font-family: var(--font-mono);
  }

  #nous-toggle {
    width: 100%;
    background: rgba(0,0,0,0.8);
    color: var(--red);
    border: 1px solid var(--red);
    padding: 8px;
    cursor: pointer;
    text-transform: uppercase;
    font-size: 10px;
    letter-spacing: 2px;
    text-align: left;
    backdrop-filter: blur(5px);
    transition: 0.2s;
  }
  #nous-toggle:hover { background: var(--red); color: black; box-shadow: 0 0 15px rgba(255,0,51,0.3); }

  #nous-panel {
    display: none;
    width: 100%;
    background: rgba(5, 5, 5, 0.95);
    border: 1px solid var(--red);
    border-top: none; /* Connects to button */
    padding: 15px;
    backdrop-filter: blur(10px);
  }

  #nous-output {
    height: 180px; background: #000; color: #ccc;
    border: 1px solid #333; padding: 10px; font-size: 10px;
    overflow-y: auto; white-space: pre-wrap; margin-bottom: 10px;
  }
  
  textarea.nous-input {
    width: 100%; height: 50px; background: #111; color: #fff;
    border: 1px solid #333; padding: 8px; font-size: 11px;
    font-family: var(--font-mono); resize: none; outline: none;
  }
  textarea.nous-input:focus { border-color: var(--red); }

  .nous-btn {
    width: 100%; padding: 8px; background: #000; color: #888;
    border: 1px solid #333; cursor: pointer; text-transform: uppercase;
    font-size: 10px; margin-top: 5px; font-weight: bold;
  }
  .nous-btn:hover { color: #fff; border-color: #fff; }


  /* --- 2. RIGHT RAIL (Navigation) --- */
  .right-rail {
    position: fixed;
    top: 20px;
    right: 20px;
    z-index: 1000;
  }

  .menu-btn {
    background: transparent;
    border: 1px solid var(--white);
    color: var(--white);
    padding: 10px 20px;
    font-family: var(--font-sans);
    font-weight: 700;
    text-transform: uppercase;
    font-size: 11px;
    letter-spacing: 2px;
    cursor: pointer;
    transition: 0.2s;
    background: rgba(0,0,0,0.5);
  }
  .menu-btn:hover { background: var(--white); color: var(--black); }


  /* --- 3. BACKGROUND --- */
  .anchor-star {
    position: fixed; top: 50%; left: 60%;
    transform: translate(-50%, -50%); width: 80vh; opacity: 0.15;
    z-index: 0; pointer-events: none; will-change: transform;
  }


  /* --- 4. CONTENT --- */
  main { position: relative; z-index: 2; width: 100%; }

  section {
    min-height: 100vh;
    width: 100%;
    display: flex;
    flex-direction: column;
    justify-content: center;
    /* Content pushed slightly right to clear the Left Rail */
    padding-left: 320px; 
    padding-right: 50px;
    border-bottom: 1px solid rgba(255,255,255,0.05);
  }

  h1.headline {
    font-size: clamp(3rem, 6vw, 7rem);
    font-weight: 900;
    line-height: 0.9;
    letter-spacing: -0.03em;
    margin-bottom: 2rem;
  }
  p.lead {
    font-size: 1.1rem; color: #888; line-height: 1.6;
    border-left: 2px solid var(--red); padding-left: 20px; max-width: 600px;
  }


  /* --- 5. FOOTER (Double Layer) --- */
  .footer-white {
    background: var(--white);
    height: 4px; /* Thin distinctive line */
    width: 100%;
    position: relative; z-index: 2;
  }
  .footer-grey {
    background-color: var(--grey);
    color: #555;
    padding: 40px 20px;
    text-align: center;
    font-size: 10px;
    text-transform: uppercase;
    letter-spacing: 1px;
    position: relative; z-index: 2;
  }
  .footer-grey a { color: #888; text-decoration: none; margin: 0 10px; }
  .footer-grey a:hover { color: #fff; }


  /* --- 6. MENU OVERLAY (The Cube Riot) --- */
  .menu-overlay {
    position: fixed; inset: 0; background: rgba(5,5,5,0.98);
    z-index: 2000; display: none;
    flex-direction: column; align-items: center; justify-content: center;
    backdrop-filter: blur(5px);
  }
  .menu-grid { display: flex; flex-wrap: wrap; justify-content: center; gap: 60px; }
  
  /* 3D Prisms */
  .prism-wrapper { position: relative; }
  .prism-label { text-align:center; font-size:10px; color:var(--red); margin-bottom:15px; letter-spacing: 3px; }
  .prism-scene { width: 120px; height: 80px; perspective: 800px; }
  .prism {
    width: 100%; height: 100%; position: relative;
    transform-style: preserve-3d;
    transform: translateZ(-35px);
    animation: spinPrism 8s infinite linear;
  }
  .prism:hover { animation-play-state: paused; }
  
  .face {
    position: absolute; width: 120px; height: 80px;
    border: 1px solid var(--red); background: rgba(0,0,0,0.9);
    color: white; display: flex; align-items: center; justify-content: center;
    font-size: 12px; font-weight: bold; text-transform: uppercase; cursor: pointer;
    box-shadow: 0 0 10px rgba(255,0,51,0.2);
  }
  /* 3-Sided Logic */
  .face-1 { transform: rotateY(0deg) translateZ(35px); }
  .face-2 { transform: rotateY(120deg) translateZ(35px); }
  .face-3 { transform: rotateY(240deg) translateZ(35px); }
  @keyframes spinPrism { 0% { transform: rotateY(0deg); } 100% { transform: rotateY(360deg); } }


  /* --- MOBILE ADAPTATION --- */
  @media(max-width: 768px) {
    .left-rail { width: 200px; top: 10px; left: 10px; }
    .right-rail { top: 10px; right: 10px; }
    .anchor-star { left: 50%; width: 90vw; opacity: 0.1; }
    section { padding: 80px 20px; text-align: left; justify-content: flex-start; }
    /* Push content down so it doesn't hide behind logo/menu */
    main { margin-top: 150px; } 
    .menu-grid { gap: 40px; }
  }

</style>
</head>
<body>

<!-- 1. LEFT RAIL: Logo & Hermes -->
<div class="left-rail">
    <!-- Logo -->
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 666 88" class="inkrealm-logo">
        <circle class="ghost-trigger" cx="334" cy="63" r="30" onclick="glitchEffect()" />
        <g>
            <path d="M 25 25 L 32 25 L 32 68 L 25 68 Z"/>
            <circle cx="28.5" cy="18" r="3.5" fill="var(--red)"/>
            <path d="M 47 25 L 54 25 L 54 31 Q 58 25 67 25 Q 79 25 79 37 L 79 68 L 72 68 L 72 38 Q 72 30 65 30 Q 54 30 54 42 L 54 68 L 47 68 Z"/>
            <path d="M 94 18 L 101 18 L 101 42 L 115 25 L 124 25 L 109 43 L 125 68 L 116 68 L 101 45 L 101 68 L 94 68 Z"/>
            <path d="M 140 25 L 147 25 L 147 33 Q 150 25 158 25 L 160 25 L 160 31 L 156 31 Q 147 31 147 40 L 147 68 L 140 68 Z"/>
            <path d="M 175 25 Q 190 25 190 42 L 176 42 Q 176 50 176 52 Q 176 63 184 63 Q 189 63 190 58 L 197 58 Q 196 68 184 68 Q 169 68 169 46.5 Q 169 25 184 25 Z M 176 37 L 183 37 Q 183 30 184 30 Q 190 30 190 37 Z"/>
            <path d="M 212 25 Q 226 25 226 42 L 226 68 L 219 68 L 219 63 Q 215 68 207 68 Q 195 68 195 58 Q 195 48 207 48 L 219 48 L 219 42 Q 219 30 211 30 Q 204 30 203 36 L 196 36 Q 197 25 212 25 Z M 219 53 L 208 53 Q 202 53 202 58 Q 202 63 208 63 Q 219 63 219 53 Z"/>
            <path d="M 241 18 L 248 18 L 248 68 L 241 68 Z"/>
            <path d="M 263 25 L 270 25 L 270 31 Q 274 25 283 25 Q 292 25 293 34 Q 297 25 307 25 Q 319 25 319 37 L 319 68 L 312 68 L 312 38 Q 312 30 305 30 Q 296 30 296 42 L 296 68 L 289 68 L 289 38 Q 289 30 282 30 Q 270 30 270 42 L 270 68 L 263 68 Z"/>
            <path d="M 354 25 L 361 25 L 361 68 L 354 68 Z"/>
            <path d="M 376 25 L 383 25 L 383 55 L 401 25 L 408 25 L 408 68 L 401 68 L 401 38 L 383 68 L 376 68 Z"/>
            <path d="M 423 25 L 458 25 L 458 32 L 430 32 L 430 42 L 453 42 L 453 49 L 430 49 L 430 68 L 423 68 Z"/>
            <path d="M 468 23 Q 483 23 483 46.5 Q 483 70 468 70 Q 453 70 453 46.5 Q 453 23 468 23 Z M 468 30 Q 460 30 460 46.5 Q 460 63 468 63 Q 476 63 476 46.5 Q 476 30 468 30 Z"/>
        </g>
        <circle cx="334" cy="63" r="4" fill="var(--red)"/>
    </svg>

    <!-- Hermes AI Panel (Integrated) -->
    <div id="nous-interface">
        <button id="nous-toggle" onclick="toggleNous()">[ ACCESS_HERMES ]</button>
        <div id="nous-panel">
            <div style="display:flex; justify-content:space-between; margin-bottom:10px; color:#666; font-size:9px;">
                <span>HERMES_3 // LOCAL_LLM</span>
                <span id="nous-status" style="color: #444;">OFFLINE</span>
            </div>
            <button id="loadCoreBtn" class="nous-btn">INITIALIZE CORE</button>
            <div id="dl-track" style="display:none; width:100%; height:2px; background:#222; margin:10px 0;">
                <div id="dl-bar" style="width:0%; height:100%; background:var(--red);"></div>
            </div>
            <div id="dl-text" style="text-align: right; font-size: 9px; color: #444; display:none;">SYNCING...</div>
            <div id="nous-output">SYSTEM STANDBY...</div>
            <textarea id="nous-prompt" class="nous-input" placeholder="Query..."></textarea>
            <button id="nous-transmit-btn" class="nous-btn">TRANSMIT</button>
        </div>
    </div>
</div>

<!-- 2. RIGHT RAIL: Menu Trigger -->
<div class="right-rail">
    <button class="menu-btn" onclick="toggleMenu()">MENU â–¼</button>
</div>

<!-- 3. BACKGROUND -->
<img src="https://wordstar.nexus/svg/favicon.svg" class="anchor-star" id="anchorStar" alt="">

<!-- 4. CONTENT -->
<main>
    <!-- SECTION 1 -->
    <section>
        <h1 class="headline">DIGITAL<br>SILENCE</h1>
        <p class="lead">In the space between words, meaning is constructed. The nexus is not a place, but a frequency.</p>
    </section>

    <!-- SECTION 2: Media -->
    <section>
        <h2 style="font-size:2rem; margin-bottom:40px; text-transform:uppercase; letter-spacing:5px;">Signal_Forge</h2>
        <div style="display:flex; flex-wrap:wrap; gap:20px;">
            <iframe src="https://geo.dailymotion.com/player.html?video=x3mhngn" width="300" height="200" frameborder="0" allowfullscreen style="border:1px solid #333;"></iframe>
            
            <div style="width:300px; border:1px solid #333; padding:10px; background:rgba(0,0,0,0.5);">
                <canvas id="vizCanvas" width="280" height="150" style="background:#000; width:100%;"></canvas>
                <div style="font-size:9px; color:#555; margin-top:5px;">AUDIO_VIZ // PRE-ALPHA</div>
            </div>
        </div>
    </section>
</main>

<!-- 5. FOOTERS -->
<div class="footer-white"></div> <!-- The Thin White Line -->
<footer class="footer-grey">
    <a href="https://wordstar.nexus">WORDSTAR.NEXUS</a>
    <a href="#">INKREALM.INFO</a>
    <a href="#">SYSTEM_STATUS</a>
</footer>

<!-- 6. MENU OVERLAY (The Cube Riot) -->
<div class="menu-overlay" id="menuOverlay">
    <div class="menu-grid">
        
        <!-- Prism 1 -->
        <div class="prism-wrapper">
            <div class="prism-label">APPLICATIONS</div>
            <div class="prism-scene">
                <div class="prism">
                    <a href="/tvc15" class="face face-1">TVC15</a>
                    <a href="/nous" class="face face-2">NOUS</a>
                    <a href="/atari" class="face face-3">ATARI</a>
                </div>
            </div>
        </div>

        <!-- Prism 2 -->
        <div class="prism-wrapper">
            <div class="prism-label">WRITINGS</div>
            <div class="prism-scene">
                <div class="prism">
                    <a href="/dreamweaver" class="face face-1">DREAM</a>
                    <a href="/glitch" class="face face-2">GLITCH</a>
                    <a href="/wip" class="face face-3">WIP</a>
                </div>
            </div>
        </div>

        <!-- Prism 3 -->
        <div class="prism-wrapper">
            <div class="prism-label">NETWORK</div>
            <div class="prism-scene">
                <div class="prism">
                    <a href="/sitemap" class="face face-1">MAP</a>
                    <a href="/keys" class="face face-2">KEYS</a>
                    <a href="/void" class="face face-3">VOID</a>
                </div>
            </div>
        </div>

    </div>
    
    <button class="menu-btn" style="margin-top:50px; border-color:var(--red); color:var(--red);" onclick="toggleMenu()">CLOSE OVERLAY</button>
</div>

<!-- LOGIC -->
<script type="module">
    import * as webllm from "https://esm.run/@mlc-ai/web-llm";
    const modelId = "Hermes-3-Llama-3.2-3B-q4f16_1-MLC"; 
    let engine;

    const btn = document.getElementById('loadCoreBtn');
    const output = document.getElementById('nous-output');
    const dlText = document.getElementById('dl-text');
    const genBtn = document.getElementById('nous-transmit-btn'); 
    const promptInput = document.getElementById('nous-prompt'); 

    btn.onclick = async () => {
        try {
            if (!navigator.gpu) throw new Error("GPU MISSING");
            btn.disabled = true; btn.textContent = "SYNCING...";
            document.getElementById('dl-track').style.display = 'block';
            dlText.style.display = 'block';
            output.textContent = "INITIALIZING...";
            
            engine = await webllm.CreateMLCEngine(modelId, {
                initProgressCallback: (report) => {
                    const p = report.progress * 100;
                    document.getElementById('dl-bar').style.width = p + '%';
                    dlText.textContent = `LOADING: ${Math.round(p)}%`;
                    if (p === 100) {
                        output.textContent = "HERMES ONLINE.";
                        btn.style.display = 'none';
                        dlText.style.display = 'none';
                        document.getElementById('nous-status').textContent = "ONLINE"; 
                        document.getElementById('nous-status').style.color = "#ff0033"; 
                    }
                }
            });
        } catch (err) { output.textContent = "ERR: " + err.message; }
    };

    genBtn.onclick = async () => {
        if (!engine) return;
        const val = promptInput.value.trim();
        if (!val) return;
        genBtn.disabled = true;
        output.textContent = ""; let fullText = "";
        try {
            const chunks = await engine.chat.completions.create({ 
                messages: [{ role: "system", content: "You are NOUS." }, { role: "user", content: val }],
                stream: true, temperature: 0.7, max_tokens: 512
            });
            for await (const chunk of chunks) {
                fullText += chunk.choices[0]?.delta?.content || "";
                output.textContent = fullText; 
                output.scrollTop = output.scrollHeight;
            }
        } catch (e) { output.textContent = "ERR"; } 
        finally { genBtn.disabled = false; }
    };
</script>

<script>
    function toggleMenu() {
        const m = document.getElementById('menuOverlay');
        m.style.display = (m.style.display === 'flex') ? 'none' : 'flex';
    }
    
    function toggleNous() {
        const p = document.getElementById('nous-panel');
        p.style.display = (p.style.display === 'block') ? 'none' : 'block';
    }

    function glitchEffect() {
        document.body.style.filter = 'invert(1)';
        setTimeout(() => { document.body.style.filter = 'invert(0)'; }, 50);
    }

    window.addEventListener('scroll', () => {
        document.getElementById('anchorStar').style.transform = `translate(-50%, -50%) rotate(${window.scrollY * 0.1}deg)`;
    });

    const canvas = document.getElementById('vizCanvas');
    const ctx = canvas.getContext('2d');
    function anim() {
        ctx.fillStyle='rgba(0,0,0,0.1)'; ctx.fillRect(0,0,280,150);
        ctx.fillStyle='#333';
        const x = Math.random()*280;
        ctx.fillRect(x, 150 - Math.random()*50, 2, 50);
        requestAnimationFrame(anim);
    }
    anim();
</script>

</body>
</html>
