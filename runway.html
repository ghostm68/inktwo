<!DOCTYPE html>
<html lang="en">
<link rel="icon" href="https://github.com/ghostm68/pantheon/raw/main/atari.gif" type="image/x-icon"/>
	<link rel="shortcut icon" href="https://github.com/ghostm68/pantheon/raw/main/atari.gif" type="image/x-icon"/>
<!-- SEO Meta Tags -->
	<title>Runway: The Video-Integrated Text Editor | Type & Edit Text Over Any Video | InkRealm</title>
<meta name="description" content="Runway is the first text editor that lives inside a video player. Type, edit, and format text directly on top of any video. Perfect for creating video captions, transcripts, lyric videos, and immersive multimedia documents." />
<meta name="description" content="Step back into fashion with Inkrealm's 'Runway' experience! This unique website combines a fully functional video-style word processor with all the classic features '+'. Immerse yourself in the magic of fashion computing and notes, all within a captivating pixel art design reminiscent of the cutting edge.">
<meta name="keywords" content="Runway, Inkrealm, retro, word processor, modern, video, pixel art,literature, typing">

<!-- Open Graph Meta Tags -->
	<meta property="og:title" content="Runway: The Video-Integrated Text Editor by InkRealm" />
<meta property="og:description" content="Type and edit text directly over any video. Create captions, lyrics, and immersive documents in a whole new way." />
<meta property="og:url" content="https://inkrealm.info/runway" />
<meta property="og:image" content="https://inkrealm.info/assets/runway-preview-image.png" />
<meta property="og:type" content="website" />
<meta property="og:site_name" content="InkRealm" />
<meta property="og:title" content="Inkrealm: runway word processor">
<meta property="og:description" content="Relish the new age of fashion and writing with Inkrealm's 'Runway'! Enjoy an easy typing experience with our fashion-inspired word processor and challenge yourself in action. All wrapped in a stunning pixel art design that captures the essence of high fashion.">
<meta property="og:url" content="https://inkrealm.info/runway">
<meta property="og:type" content="website">
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@graph": [
    {
      "@type": "SoftwareApplication",
      "name": "Runway Video Text Editor",
      "applicationCategory": "Multimedia Application",
      "operatingSystem": "Web Browser",
      "description": "A web-based text editor that integrates a fully functional text area within a video player, allowing users to type and edit text while simultaneously watching and controlling a video.",
      "url": "https://inkrealm.info/runway",
      "featureList": "Video playback control, Real-time text editing, Text-over-video display, Video switching, Formatting tools",
      "softwareVersion": "1.0",
      "author": {
        "@type": "Organization",
        "name": "InkRealm"
      },
      "offers": {
        "@type": "Offer",
        "price": "0"
      }
    },
    {
      "@type": "VideoObject",
      "name": "Introduction to Runway Video Text Editor",
      "description": "A demonstration of the Runway editor, showing how to type text into a dedicated textarea while a video plays, and how to switch the video source without interrupting your workflow.",
      "thumbnailUrl": "https://raw.githubusercontent.com/ghostm68/pantheon/main/myText_20251002-024217.png",
      "contentUrl": "https://inkrealm.info/",
      "embedUrl": "https://inkrealm.info/runway",
      "interactionType": "https://schema.org/WatchAction"
    }
  ]
}
</script>

<head>
	
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<meta charset="utf-8"/>  
	
	<meta name="viewport" content="width=1024">
	
<title>RUNWAY</title>
<link href="data:image/x-icon;base64," rel="icon" type="image/x-icon"/>
<link href="https://fonts.googleapis.com" rel="preconnect"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
	<link href="https://fonts.googleapis.com/css2?family=Be+Vietnam+Pro:wght@400;500;600;700&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Be+Vietnam+Pro:wght@400;500;600;700&amp;display=swap" rel="stylesheet"/>
<link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet"/>
<script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
	    <link href="data:image/x-icon;base64," rel="icon" type="image/x-icon" w-tid="27"/>
    <link href="https://fonts.googleapis.com" rel="preconnect" w-tid="29"/>
    <link crossorigin href="https://fonts.gstatic.com" rel="preconnect" w-tid="31"/>
    <link href="https://fonts.googleapis.com/css2?family=Be+Vietnam+Pro:wght@400;500;600;700&display=swap" rel="stylesheet" w-tid="33"/>
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet" w-tid="35"/>
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries" w-tid="37"></script>
<!-- jsPDF (for PDF export) -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

    <link rel="preload" href="https://fonts.gstatic.com/s/bevietnam/v2/qkBXz4hOWIKA7JZqjEzXEMj-.woff2" as="font" type="font/woff2" crossorigin w-tid="41"/>
	    <style>
/* === DEFINE VARIABLES FIRST === */
:root {
    --red: #ff0033;
    --black: #0a0a0a;
}

/* === NOW selection can use them === */
::selection {
    background: var(--red);
    color: var(--black);
    text-shadow: none;
}
</style>
<style>
/* CRITICAL: LOADER MUST BE FIRST IN CSS */
#fullscreen-loader {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    background: #fc2b39;
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 999999;
    transition: opacity 0.8s ease-out, visibility 0.8s ease-out;
}

#fullscreen-loader.hidden {
    opacity: 0;
    visibility: hidden;
    pointer-events: none;
}

#fullscreen-loader img {
    width: 400px;
    height: 400px;
    max-width: 80vw;
    max-height: 80vh;
    object-fit: contain;
    animation: smoothSpin 4s linear infinite;
    filter: drop-shadow(0 0 60px rgba(255, 255, 255, 0.6)) 
            drop-shadow(0 0 30px rgba(252, 43, 57, 0.4));
}

@keyframes smoothSpin {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
}

/* Hide all body content until loaded */
body:not(.loaded) > *:not(#fullscreen-loader) {
    visibility: hidden !important;
    opacity: 0 !important;
}

body.loaded > * {
    visibility: visible;
    opacity: 1;
}
</style>

<style>  <!-- THIS WAS MISSING -->
    :root {
      --primary-color: #fc2b39;
    }
    body {
      font-family: 'Be Vietnam Pro', sans-serif;
    }
    .bar-graph {
      display: flex;
      align-items: flex-end;
      height: 24px;
      gap: 2px;
    }
    .bar {
      width: 4px;
      background-color: var(--primary-color);
      animation: pulse 1.5s infinite ease-in-out;
    }
    @keyframes pulse {
      0%, 100% { transform: scaleY(0.2); }
      50% { transform: scaleY(1); }
    }
    .format-button.active {
      background-color: var(--primary-color);
    }
    .auto-save-indicator {
      opacity: 0;
      transition: opacity 0.3s ease;
    }
    .auto-save-indicator.show {
      opacity: 1;
    }
    .search-highlight {
      background-color: rgba(252, 43, 57, 0.3);
      padding: 0 2px;
      border-radius: 2px;
    }
    
    /* YOUR FIXES */
	::-webkit-scrollbar-thumb {
        background-color: #fc2b39 !important;
        border-radius: 4px;
    }

    select:focus, input:focus, textarea:focus, button:focus {
        outline: none !important;
        border-color: #fc2b39 !important;
        box-shadow: 0 0 0 1px #fc2b39 !important;
    }

    /* Fix specific AI dropdown background */
    #wordstar-model-select option {
        background-color: #1C1820;
        color: white;
    }
</style>

<style>
    :root {
      --primary-color: #fc2b39;
      --bg-primary: #100C13;
      --bg-secondary: #1C1820;
      --text-primary: white;
      --text-secondary: #9CA3AF;
      --border-color: #2A232E;
    }

    /* Light mode color scheme */
    .light-mode {
      --bg-primary: #F3F4F6;
      --bg-secondary: #E5E7EB;
      --text-primary: #111827;
      --text-secondary: #6B7280;
      --border-color: #D1D5DB;
    }

    body {
      font-family: 'Be Vietnam Pro', sans-serif;
      background-color: var(--bg-primary);
      color: var(--text-primary);
      transition: background-color 0.3s, color 0.3s;
    }

    /* Enhanced accessibility and theme transitions */
    * {
      transition: background-color 0.2s ease, color 0.2s ease, border-color 0.2s ease;
    }

    /* Improved focus states */
    :focus-visible {
      outline: 2px solid var(--primary-color);
      outline-offset: 2px;
    }

    /* Scrollbar styling for both themes */
    ::-webkit-scrollbar {
      width: 8px;
    }
    ::-webkit-scrollbar-track {
      background: var(--bg-secondary);
    }
    ::-webkit-scrollbar-thumb {
      background: var(--primary-color);
      border-radius: 4px;
    }

    /* Subtle animation for interactive elements */
    @keyframes subtle-pulse {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.05); }
    }

    .interactive-element:hover {
      animation: subtle-pulse 0.3s ease-in-out;
    }

    /* Internationalization and collaboration styles */
    .collaboration-cursor {
        position: absolute;
        border-left: 2px solid var(--primary-color);
        animation: cursor-blink 1s infinite;
    }
    
    @keyframes cursor-blink {
        0%, 100% { opacity: 1; }
        50% { opacity: 0; }
    }
    
    .translation-badge {
        background-color: rgba(252, 43, 57, 0.2);
        color: var(--primary-color);
        padding: 2px 6px;
        border-radius: 4px;
        font-size: 0.7rem;
    }

    /* Splash Page Animation */
    @keyframes pixel-pulse {
        0%, 100% { transform: scale(1); opacity: 0.7; }
        50% { transform: scale(1.1); opacity: 1; }
    }

    @keyframes runway-reveal {
        0% { 
            letter-spacing: -0.5em; 
            opacity: 0; 
            transform: scale(0.5);
        }
        100% { 
            letter-spacing: normal; 
            opacity: 1; 
            transform: scale(1);
        }
    }

  #loading-overlay {
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        gap: 2rem;
        /* NEW LINE (Solid Match): */
        background: #fc2b39;
    }

    .pixel-grid {
        display: grid;
        grid-template-columns: repeat(10, 1fr);
        gap: 4px;
        animation: pixel-pulse 2s infinite alternate;
    }

    .pixel {
        width: 20px;
        height: 20px;
        background-color: var(--primary-color);
        opacity: 0.7;
        transition: all 0.3s ease;
    }

    .pixel:hover {
        transform: scale(1.2);
        opacity: 1;
    }

    .runway-title {
        font-size: 3rem;
        font-weight: bold;
        color: var(--primary-color);
        animation: runway-reveal 1.5s cubic-bezier(0.25, 0.46, 0.45, 0.94);
    }

    .loading-subtitle {
        color: var(--text-secondary);
        animation: runway-reveal 1.5s cubic-bezier(0.25, 0.46, 0.45, 0.94) 0.5s backwards;
    }
</style>
</head>
	<div id="fullscreen-loader">
  <img src="https://raw.githubusercontent.com/ghostm68/pantheon/main/runway453.gif" alt="Loading Runway...">
</div>
	<body class="bg-[var(--bg-primary)] text-[var(--text-primary)] flex flex-col min-h-screen" w-tid="45">
    <!-- Enhanced Loading Overlay -->
    <div id="loading-overlay" class="fixed inset-0 bg-[var(--bg-primary)] z-[9999] flex items-center justify-center" w-tid="47">
        <div class="text-center" w-tid="49">
            <div class="pixel-grid mb-8" w-tid="51">
                <!-- Dynamically generated pixels -->
            </div>
            <h1 class="runway-title mb-4" w-tid="53">RUNWAY</h1>
            <p class="loading-subtitle text-xl" w-tid="55">by inkrealm.info</p>
        </div>
    </div>
<body class="bg-[#100C13] text-white">
<div class="flex flex-col min-h-screen">
<header class="sticky top-0 z-20 bg-[#100C13]/80 backdrop-blur-sm border-b border-[#2A232E]">
  <div class="container mx-auto px-6 h-20 flex items-center justify-between">
    <div class="flex items-center gap-6">
      <div class="flex flex-col">
        <a class="flex items-center gap-3" href="#">
          <span class="text-xl font-bold">.......by inkrealm.info</span>
        </a>
        <span class="text-xs text-gray-500">.............Powered by google stitch</span>
      </div>
      <div class="flex items-center gap-2 bg-[#2A232E] p-1 rounded-lg">
        <select id="font-select" class="bg-transparent border-none text-white text-sm focus:ring-0 w-32">
          <option>Be Vietnam Pro</option>
          <option>Inter</option>
          <option>Roboto</option>
          <option>Lato</option>
			  <option>Montserrat</option>
          <option>Open Sans</option>
          <option>Poppins</option>
          <option>Source Sans Pro</option>
			 <option>Work Sans</option>
        </select>
        <div class="border-l border-gray-600 h-6"></div>
        <button id="bold-btn" class="format-button p-2 rounded-md hover:bg-[#3a3142] transition-colors">
          <span class="material-symbols-outlined text-base">format_bold</span>
        </button>
        <button id="italic-btn" class="format-button p-2 rounded-md hover:bg-[#3a3142] transition-colors">
          <span class="material-symbols-outlined text-base">format_italic</span>
        </button>
        <button id="underline-btn" class="format-button p-2 rounded-md hover:bg-[#3a3142] transition-colors">
          <span class="material-symbols-outlined text-base">format_underlined</span>
        </button>
      </div>
    </div>
<!-- WordStar AI: Local Qwen Edition (Red/Black Terminal) -->
<!-- WordStar AI: Local Qwen Edition (Single-Block Version) -->
<!-- WordStar AI: Fashion Node (Clean Sync Version) -->
<div id="fashion-node-container" style="display: inline-block; font-family: 'Courier New', monospace; vertical-align: middle; margin-right: 15px;">
    
    <button id="qwen-toggle" style="padding: 5px 10px; background: #000; color: #ff0033; border: 1px solid #ff0033; cursor: pointer; font-weight: bold; font-size: 11px; text-transform: uppercase;">
        [ QWEN_OFFLINE ]
    </button>
    
    <div id="qwen-sidebar" style="display: none; position: absolute; width: 350px; background: #000; border: 2px solid #ff0033; padding: 15px; box-shadow: 0 10px 40px rgba(0,0,0,1); z-index: 10001; margin-top: 5px;">
        
        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px; border-bottom: 1px solid #333; padding-bottom: 8px;">
            <h4 style="margin: 0; color: #ff0033; font-size: 11px; letter-spacing: 2px;">LOCAL_CORE // 0.5B</h4>
            <span id="node-status" style="font-size: 9px; color: #666;">STANDBY</span>
        </div>

        <div id="boot-zone">
            <button id="loadCoreBtn" style="width: 100%; padding: 10px; background: #ff0033; color: #000; border: none; cursor: pointer; font-size: 11px; font-weight: bold; text-transform: uppercase;">
                Initialize Neural Link
            </button>
        </div>

        <div id="download-status" style="display: none; margin-bottom: 10px;">
            <div style="width: 100%; height: 2px; background: #222;">
                <div id="progress-bar" style="width: 0%; height: 100%; background: #ff0033;"></div>
            </div>
            <div style="font-size: 9px; color: #ff0033; margin-top: 4px; text-align: right;"><span id="progress-percent">0</span>%</div>
        </div>

        <!-- This is the 'Output' element your working script uses -->
        <div id="output" style="height: 180px; border: 1px solid #222; padding: 10px; overflow-y: auto; margin-bottom: 10px; font-size: 11px; background: #050505; color: #eee; line-height: 1.4; white-space: pre-wrap; scrollbar-width: thin; scrollbar-color: #ff0033 #000;">OFFLINE: CORE NOT SYNCED</div>
        
        <!-- This is the 'prompt' element your working script uses -->
        <textarea id="prompt" placeholder="DESCRIBE THE SILHOUETTE..." style="width: 100%; height: 50px; padding: 8px; margin-bottom: 8px; background: #111; border: 1px solid #333; color: white; font-size: 12px; resize: none; box-sizing: border-box; font-family: monospace;"></textarea>
        
        <div style="display: flex; gap: 5px;">
            <!-- This is the 'generateButton' element your working script uses -->
            <button id="generateButton" style="flex: 2; padding: 8px; background: #222; color: #444; border: 1px solid #333; font-weight: bold; cursor: pointer; text-transform: uppercase; font-size: 10px;">Transmit</button>
            <button id="insert-btn" style="flex: 1; padding: 8px; background: #000; color: #fff; border: 1px solid #ff0033; cursor: pointer; display: none; text-transform: uppercase; font-size: 10px;">Insert</button>
        </div>
    </div>
</div>

<script type="module">
import * as webllm from "https://esm.run/@mlc-ai/web-llm";

// Exact model from your working version
const modelId = "Qwen2.5-0.5B-Instruct-q4f16_1-MLC"; 
let engine;

// DOM Elements
const btn = document.getElementById('loadCoreBtn');
const status = document.getElementById('download-status');
const bar = document.getElementById('progress-bar');
const percent = document.getElementById('progress-percent');
const output = document.getElementById('output');
const generateBtn = document.getElementById('generateButton');
const sidebar = document.getElementById('qwen-sidebar');

// UI Toggle
document.getElementById('qwen-toggle').onclick = (e) => {
    sidebar.style.display = sidebar.style.display === 'none' ? 'block' : 'none';
    sidebar.style.top = (e.target.getBoundingClientRect().bottom + 5) + 'px';
};

// --- START OF YOUR WORKING LOGIC ---
btn.onclick = async () => {
    try {
        // 1. Hardware Probe
        if (!navigator.gpu) {
            throw new Error("WebGPU API not found.");
        }
        const adapter = await navigator.gpu.requestAdapter();
        if (!adapter) {
            throw new Error("GPU refused handshake.");
        }

        btn.disabled = true;
        btn.textContent = "SYNCING CORE...";
        status.style.display = 'block';
        output.textContent = "⟁ INITIALIZING LOCAL INTERCEPT... PLEASE STAND BY.";

        // 2. Initialize Engine
        engine = await webllm.CreateMLCEngine(modelId, {
            initProgressCallback: (report) => {
                const p = Math.round(report.progress * 100);
                bar.style.width = p + '%';
                percent.textContent = p;
                
                if (p < 100) {
                    output.textContent = "⟁ SYNCING: " + report.text;
                } else {
                    // Success State
                    btn.style.display = 'none';
                    output.textContent = "⟁ LOCAL CORE STABLE. THE SOFT MACHINE IS ONLINE.";
                    generateBtn.style.background = "#ff0033";
                    generateBtn.style.color = "#000";
                    document.getElementById('node-status').textContent = "ACTIVE";
                    document.getElementById('node-status').style.color = "#ff0033";
                }
            }
        });

        // 3. Generation Logic
        generateBtn.onclick = async () => {
            const promptInput = document.getElementById('prompt');
            const prompt = promptInput.value.trim();
            if (!prompt) return;
            
            generateBtn.disabled = true;
            generateBtn.textContent = "PROCESSING...";
            output.textContent = ""; 
            
            try {
                  const messages = [
        { 
            role: "system", 
            content: "You are the INK REALM Fashion Interface. Write with haute couture precision. AVOID generic filler like 'sophistication' or 'beauty.' Focus on technical materiality: the grain of the fabric, the tension of the seams, and the sharp geometry of the silhouette. Be terse, luxurious, and incisive. Describe the garment as a physical object of construction." 
        },
        { role: "user", content: prompt }
    ];

    // This starts the stream
    const chunks = await engine.chat.completions.create({ 
        messages, 
        stream: true,
        temperature: 0.6, 
        top_p: 0.9,
        max_tokens: 512   
    });

    let fullText = "";
    output.textContent = ""; // Clear previous text

    // This loop catches the 'drops' of text and displays them
           for await (const chunk of chunks) {
                    fullText += chunk.choices[0]?.delta?.content || "";
                    output.textContent = fullText;
                    output.scrollTop = output.scrollHeight;
                }

                // 2. NOW the text is finished, show the Insert button
                const insBtn = document.getElementById('insert-btn');
                insBtn.style.display = 'block'; // Make it visible
                
                insBtn.onclick = () => {
                    // Look for your main editor (the runway fashion area)
                    const editor = document.getElementById('main-editor') || document.querySelector('textarea');
                    if (editor) {
                        const s = editor.selectionStart;
                        const e = editor.selectionEnd;
                        // Splice the AI text exactly where your cursor is
                        editor.value = editor.value.slice(0, s) + fullText + editor.value.slice(e);
                        
                        // Hide the button again until the next generation
                        insBtn.style.display = 'none';
                        editor.focus(); 
                    }
                };

            } catch (genErr) {
                output.textContent = "[LOCAL ENGINE ERROR]: " + genErr.message;
            } finally {
                generateBtn.disabled = false;
                generateBtn.textContent = "Transmit";
            }
        };

    } catch (err) {
        console.warn("Local Core failed:", err.message);
        status.style.display = 'none';
        btn.disabled = true;
        btn.textContent = "CORE UNAVAILABLE";
        output.textContent = `[SIGNAL INTERRUPTED]: ${err.message}`;
    }
};
</script>

    <div class="flex items-center gap-6">
      <div class="flex items-center gap-3">
        <div class="text-right">
        <div class="h-8 w-px bg-[#2A232E]"></div>
        <div class="text-right">
          <p class="text-sm font-semibold">Rome</p>
          <p class="text-xs text-gray-400" id="rome-time">10:45 AM</p>
        </div>
      </div>

      <div class="auto-save-indicator text-sm text-green-400 flex items-center gap-2">
        <span class="material-symbols-outlined text-sm">cloud_done</span>
        <span>Auto-saved</span>
      </div>
    </div>
  </div>
</header>

<main class="flex-grow container mx-auto px-6 py-8">
  <div class="flex flex-col @container">
    <div class="mb-8 flex justify-between items-center">
      <h1 class="text-4xl font-bold tracking-tight"> Runway Text</h1>
      <div class="flex items-center gap-4">
        <input type="file" id="pdf-file-input" accept=".pdf" style="display: none;">
      <button id="save-pdf" class="flex items-center gap-2 bg-[#fc2b39] hover:bg-[#b91c1c] text-white font-bold py-2 px-4 rounded-lg transition-colors">
  <span class="material-symbols-outlined">file_download</span>
  <span>Save PDF</span>
</button>
      </div>
    </div>

    <div class="border-b border-[#2A232E] mb-6">
      <nav class="-mb-px flex gap-8">
		  <a class="py-4 px-1 text-gray-400 hover:text-white border-b-2 border-transparent hover:border-gray-400 text-sm font-medium" href="">RESOURCES:</a>
        <a class="py-4 px-1 text-gray-400 hover:text-white border-b-2 border-transparent hover:border-gray-400 text-sm font-medium" href="https://fashionmuseum.fitnyc.edu/collections" target="_blank">collections</a>
        <a class="py-4 px-1 text-white border-b-2 border-[var(--primary-color)] text-sm font-medium" href="https://www.palaisgalliera.paris.fr/en/palais-galliera/ressources-en-ligne" target="_blank" >galliera</a>
        <a class="py-4 px-1 text-gray-400 hover:text-white border-b-2 border-transparent hover:border-gray-400 text-sm font-medium" href="https://digimuse.westphal.drexel.edu/ddm/" target="_blank">drexel</a>
        <a class="py-4 px-1 text-gray-400 hover:text-white border-b-2 border-transparent hover:border-gray-400 text-sm font-medium" href="https://fitnyc.libguides.com/?b=s" target="_blank">marcus</a>
      </nav>
    </div>
		   
<!-- Word Counter -->
      <div class="col-span-1 sticky top-28 h-fit">
        <div class="bg-[#1C1820] border border-[#2A232E] rounded-lg p-6 space-y-6">
          <div>
            <h3 class="text-lg font-semibold mb-4">Word Counter</h3>
            <div class="flex items-center justify-between mb-2">
              <span class="text-sm text-gray-400">Word Count</span>
              <span id="word-count" class="font-semibold">0 / 500</span>
            </div>
            <div class="bg-[#2A232E] rounded-full h-2 mb-4">
              <div id="word-progress" class="bg-[var(--primary-color)] h-2 rounded-full" style="width: 0%;"></div>
            </div>
            <div class="flex items-center justify-between">
              <div id="activity-bars" class="bar-graph w-full">
                <div class="bar" style="height: 60%; animation-delay: -0.1s;"></div>
                <div class="bar" style="height: 90%; animation-delay: -0.2s;"></div>
                <div class="bar" style="height: 40%; animation-delay: -0.3s;"></div>
                <div class="bar" style="height: 70%; animation-delay: -0.4s;"></div>
                <div class="bar" style="height: 100%; animation-delay: -0.5s;"></div>
                <div class="bar" style="height: 50%; animation-delay: -0.6s;"></div>
                <div class="bar" style="height: 80%; animation-delay: -0.7s;"></div>
                <div class="bar" style="height: 60%; animation-delay: -0.8s;"></div>
                <div class="bar" style="height: 90%; animation-delay: -0.9s;"></div>
                <div class="bar" style="height: 40%; animation-delay: -1.0s;"></div>
                <div class="bar" style="height: 70%; animation-delay: -1.1s;"></div>
                <div class="bar" style="height: 100%; animation-delay: -1.2s;"></div>
                <div class="bar" style="height: 50%; animation-delay: -1.3s;"></div>
                <div class="bar" style="height: 80%; animation-delay: -1.4s;"></div>
                <div class="bar" style="height: 60%; animation-delay: -1.5s;"></div>
                <div class="bar" style="height: 90%; animation-delay: -1.6s;"></div>
                <div class="bar" style="height: 40%; animation-delay: -1.7s;"></div>
                <div class="bar" style="height: 70%; animation-delay: -1.8s;"></div>
                <div class="bar" style="height: 100%; animation-delay: -1.9s;"></div>
                <div class="bar" style="height: 50%; animation-delay: -2.0s;"></div>
              </div>
              <span class="text-sm text-gray-400 ml-4 whitespace-nowrap">Live</span>
            </div>
          </div>

          <div>
            <h3 class="text-lg font-semibold mb-4">Preferences</h3>
            <div class="space-y-4">
              <div class="flex items-center justify-between">
                <label class="text-sm text-gray-300" for="video-bg">Video Background</label>
                <label class="relative inline-flex items-center cursor-pointer">
                  <input checked="" class="sr-only peer" id="video-bg" type="checkbox" value=""/>
                  <div class="w-11 h-6 bg-[#2A232E] peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-[var(--primary-color)] rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[var(--primary-color)]"></div>
                </label>
              </div>

              <div>
                <label class="text-sm text-gray-300" for="video-url">Custom Video URL</label>
                <input id="video-url" class="mt-1 bg-[#2A232E] border border-transparent focus:border-[var(--primary-color)] focus:ring-[var(--primary-color)] rounded-lg px-4 py-2 text-sm w-full transition-all" placeholder="Enter YouTube video or playlist URL" type="text"/>
              </div>

            </div>
		  </div>

      <!-- Editor -->
      <div class="col-span-1 @5xl:col-span-2 relative overflow-hidden rounded-lg border border-[#2A232E]">
        <div id="video-background" class="absolute inset-0 z-0">
          <iframe id="video-iframe" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen class="w-full h-full object-cover" frameborder="0" src="https://www.youtube.com/embed/Q7kGgb4Ja9Y?autoplay=1&mute=1&loop=1&playlist=Q8K6HcbubTw&controls=0"></iframe>
          
        </div>

        <textarea id="main-editor" class="relative z-10 w-full h-full min-h-[500px] bg-transparent p-6 text-base text-gray-200 leading-relaxed placeholder-gray-400 focus:ring-2 focus:ring-[var(--primary-color)] focus:border-[var(--primary-color)] transition resize-none outline-none" placeholder="Describe your collection's story, key silhouettes, and fabric choices...">A key piece in the collection is a structured bustier top, crafted from duchess satin. The intricate boning and precisely placed darts create a flattering, sculpted silhouette that references classic corsetry while feeling modern and empowered. It's paired with a high-waisted, A-line skirt in a contrasting lightweight chiffon, allowing for fluid movement. The design employs a bias cut technique on the skirt to achieve a beautiful drape that follows the body's natural curves.</textarea>

        <div id="related-terms" class="absolute bottom-4 right-4 z-10 bg-[#1C1820]/80 border border-[#2A232E] rounded-lg p-3 shadow-lg flex items-center gap-3 text-sm">
          <span class="material-symbols-outlined text-[var(--primary-color)]">lightbulb</span>
          <span class="text-gray-300">Related:</span>
          <span class="font-medium text-white cursor-pointer hover:underline" data-term="corset">Corset</span>
          <span class="font-medium text-white cursor-pointer hover:underline" data-term="bodice">Bodice</span>
          <span class="font-medium text-white cursor-pointer hover:underline" data-term="satin">Satin</span>
        </div>
      </div>
        </div>
      </div>
     
		   <!-- Theme and Accessibility Controls -->
    <div class="fixed top-4 center-4 z-50 flex items-center space-x-2" w-tid="87">
        <button id="theme-toggle" class="bg-[var(--bg-secondary)] text-[var(--text-primary)] p-2 rounded-full shadow-lg interactive-element" w-tid="89">
            <span class="material-symbols-outlined" w-tid="91">light_mode</span>
        </button>
     
    </div>
                           
    </div>
  </div>
</main>
</div>
<script>
// ===============================
// State management
// ===============================
let autoSaveTimeout;
const savedState = {
  content: '',
  preferences: {
    videoBackground: true,
    customVideoUrl: 'https://www.youtube.com/watch?v=Q8K6HcbubTw',
    font: 'Be Vietnam Pro'
  }
};

// ===============================
// Fashion Dictionary
// ===============================
const fashionDictionary = {
  'a-line': 'A garment silhouette that is fitted at the hips and gradually widens towards the hem, giving the impression of the shape of a capital letter A.',
  'applique': 'A decorative design made by cutting pieces of one material and applying them to the surface of another.',
  'avant-garde': 'New and experimental fashion ideas, often unconventional and ahead of current trends.',
  'bias-cut': 'A technique of cutting fabric diagonally across the grain, creating garments that drape naturally with body movement.',
  'bespoke': 'Custom-made clothing created specifically for an individual customer.',
  'bustier': 'A form-fitting garment worn as underwear or outerwear, designed to push up the bust and define the waist.',
  'chiffon': 'A lightweight, sheer fabric with a slightly rough texture.',
  'dart': 'A tapered seam used to shape flat fabric to the curves of the body.',
  'draping': 'The technique of positioning and pinning fabric on a dress form to design in 3D.',
  'embroidery': 'Decorative needlework in which designs are formed by stitching threads onto fabric.',
  'empire-waist': 'A style where the waistline is raised above the natural waist, just below the bust.',
  'haute-couture': 'High-end fashion constructed by hand from start to finish.',
  'peplum': 'A short overskirt or ruffle attached at the waist of a garment.',
  'corset': 'A close-fitting undergarment worn to shape and support the torso.',
  'bodice': 'The upper part of a dress or the part above the waist.',
  'satin': 'A smooth, glossy fabric with a lustrous surface.',
  'silhouette': 'The overall shape or outline of a garment when worn.',
  'texture': 'The surface quality or feel of a fabric.',
  'couture': 'High-quality, custom-fitted clothing made with attention to detail.'
};

// ===============================
// Get editor element (fixed reference)
// ===============================
function getEditor() {
  return document.getElementById('main-editor');
}

// ===============================
// On page load
// ===============================
window.addEventListener('DOMContentLoaded', function() {
  const editor = getEditor();
  
  // Restore saved content
  const savedContent = localStorage.getItem('runway-content');
  if (savedContent) {
    editor.value = savedContent;
  }

  // Restore preferences or set defaults
  const savedPrefs = localStorage.getItem('runway-preferences');
  if (savedPrefs) {
    Object.assign(savedState.preferences, JSON.parse(savedPrefs));
    applyPreferences();
  } else {
    updateVideoUrl(savedState.preferences.customVideoUrl);
  }

  updateWordCount();
  updateClocks();                 // Starts the clock immediately
  setInterval(updateClocks, 1000); // Keeps the clock ticking
  updateActivityBars();
});

// ===============================
// Real-time clocks
// ===============================
function updateClocks() {
    const now = new Date();
    
    // Only tries to update Rome, because that's the only one in your HTML
    const romeEl = document.getElementById('rome-time');
    if (romeEl) {
        romeEl.textContent = now.toLocaleTimeString('en-US', {
            timeZone: 'Europe/Rome',
            hour: 'numeric',
            minute: '2-digit',
            hour12: true
        });
    }
}
// ===============================
// Text formatting (simplified for textarea)
// ===============================
function formatText(command) {
  const editor = getEditor();
  const start = editor.selectionStart;
  const end = editor.selectionEnd;
  const selectedText = editor.value.substring(start, end);
  
  if (selectedText) {
    let formattedText = selectedText;
    switch(command) {
      case 'bold':
        formattedText = `**${selectedText}**`;
        break;
      case 'italic':
        formattedText = `*${selectedText}*`;
        break;
      case 'underline':
        formattedText = `__${selectedText}__`;
        break;
    }
    
    editor.value = editor.value.substring(0, start) + formattedText + editor.value.substring(end);
    editor.focus();
    editor.setSelectionRange(start + formattedText.length, start + formattedText.length);
    
    triggerAutoSave();
    updateWordCount();
  }
}

// Formatting button events
document.getElementById('bold-btn').addEventListener('click', () => formatText('bold'));
document.getElementById('italic-btn').addEventListener('click', () => formatText('italic'));
document.getElementById('underline-btn').addEventListener('click', () => formatText('underline'));

// ===============================
// Font selector
// ===============================
document.getElementById('font-select').addEventListener('change', function(e) {
  const font = e.target.value;
  getEditor().style.fontFamily = font;
  savedState.preferences.font = font;
  savePreferences();
});

// ===============================
// Word counter + live activity bars
// ===============================
const editor = getEditor();
editor.addEventListener('input', function() {
  updateWordCount();
  triggerAutoSave();
  updateActivityBars();
});

function updateWordCount() {
  const text = getEditor().value.trim();
  const wordCount = text === '' ? 0 : text.split(/\s+/).length;
  const maxWords = 500;
  const percentage = Math.min((wordCount / maxWords) * 100, 100);

  document.getElementById('word-count').textContent = `${wordCount} / ${maxWords}`;
  document.getElementById('word-progress').style.width = `${percentage}%`;

  const progressBar = document.getElementById('word-progress');
  if (percentage > 90) {
    progressBar.style.backgroundColor = '#ef4444';
  } else if (percentage > 75) {
    progressBar.style.backgroundColor = '#f59e0b';
  } else {
    progressBar.style.backgroundColor = 'var(--primary-color)';
  }
}

function updateActivityBars() {
  const bars = document.querySelectorAll('#activity-bars .bar');
  bars.forEach(bar => {
    const randomHeight = Math.random() * 80 + 20;
    bar.style.height = `${randomHeight}%`;
  });
}

// ===============================
// Auto-save
// ===============================
function triggerAutoSave() {
  clearTimeout(autoSaveTimeout);
  autoSaveTimeout = setTimeout(autoSave, 2000);
}

function autoSave() {
  const content = getEditor().value;
  localStorage.setItem('runway-content', content);

  const indicator = document.querySelector('.auto-save-indicator');
  indicator.classList.add('show');
  setTimeout(() => indicator.classList.remove('show'), 2000);
}

function savePreferences() {
  localStorage.setItem('runway-preferences', JSON.stringify(savedState.preferences));
}

function applyPreferences() {
  document.getElementById('video-bg').checked = savedState.preferences.videoBackground;
  document.getElementById('video-url').value = savedState.preferences.customVideoUrl;
  document.getElementById('font-select').value = savedState.preferences.font;

  getEditor().style.fontFamily = savedState.preferences.font;

  toggleVideoBackground(savedState.preferences.videoBackground);
  if (savedState.preferences.customVideoUrl) {
    updateVideoUrl(savedState.preferences.customVideoUrl);
  }
}

// ===============================
// Dictionary search + definition popup
// ===============================
const dictionarySearch = document.getElementById('dictionary-search');
const dictionaryTerms = document.querySelectorAll('.dictionary-term');

dictionarySearch.addEventListener('input', function(e) {
  const searchTerm = e.target.value.toLowerCase();

  dictionaryTerms.forEach(term => {
    const termText = term.textContent.toLowerCase();
    const isVisible = termText.includes(searchTerm);
    term.style.display = isVisible ? 'block' : 'none';

    if (searchTerm && isVisible) {
      const regex = new RegExp(`(${searchTerm})`, 'gi');
      term.innerHTML = term.textContent.replace(regex, '<span class="search-highlight">$1</span>');
    } else {
      term.innerHTML = term.textContent;
    }
  });
});

// Insert dictionary terms into editor
dictionaryTerms.forEach(term => {
  term.addEventListener('click', function(e) {
    e.preventDefault();
    const termText = this.textContent;
    const termKey = this.getAttribute('data-term') || termText.toLowerCase();
    insertAtCursor(termText);
    showDefinition(termKey);
  });
});

// Related terms
document.querySelectorAll('#related-terms [data-term]').forEach(term => {
  term.addEventListener('click', function(e) {
    e.preventDefault();
    const termText = this.textContent;
    const termKey = this.getAttribute('data-term');
    insertAtCursor(termText);
    showDefinition(termKey);
  });
});

function insertAtCursor(text) {
  const editor = getEditor();
  const start = editor.selectionStart;
  const end = editor.selectionEnd;
  
  editor.value = editor.value.substring(0, start) + ' ' + text + ' ' + editor.value.substring(end);
  editor.focus();
  editor.setSelectionRange(start + text.length + 2, start + text.length + 2);
  
  triggerAutoSave();
  updateWordCount();
}

function showDefinition(term) {
  const definition = fashionDictionary[term.toLowerCase()] || fashionDictionary[term.replace('-', '').toLowerCase()];
  if (definition) {
    let popup = document.getElementById('definition-popup');
    if (!popup) {
      popup = document.createElement('div');
      popup.id = 'definition-popup';
      popup.className = 'fixed bottom-20 left-6 bg-[#1C1820] border border-[#2A232E] rounded-lg p-4 max-w-sm z-30 shadow-lg';
      document.body.appendChild(popup);
    }

    popup.innerHTML = `
      <div class="flex justify-between items-start mb-2">
        <h4 class="font-semibold text-[var(--primary-color)] capitalize">${term.replace('-', ' ')}</h4>
        <button onclick="closeDefinition()" class="text-gray-400 hover:text-white">
          <span class="material-symbols-outlined text-sm">close</span>
        </button>
      </div>
      <p class="text-sm text-gray-300 leading-relaxed">${definition}</p>
    `;

    popup.style.display = 'block';
    setTimeout(() => { if (popup) closeDefinition(); }, 8000);
  }
}

function closeDefinition() {
  const popup = document.getElementById('definition-popup');
  if (popup) popup.style.display = 'none';
}


// ===============================
// Keyboard shortcuts
// ===============================
document.addEventListener('keydown', function(e) {
  if (e.ctrlKey || e.metaKey) {
    switch(e.key) {
      case 'b': e.preventDefault(); formatText('bold'); break;
      case 'i': e.preventDefault(); formatText('italic'); break;
      case 'u': e.preventDefault(); formatText('underline'); break;
      case 's': e.preventDefault(); autoSave(); break;
    }
  }
});

// Initialize word count on load
setTimeout(updateWordCount, 100);
      </script>

 <footer class="bg-[#1C1820] border-t border-[#2A232E] py-8 mt-auto" w-tid="45">
        <div class="container mx-auto px-6" w-tid="47">
            <div class="flex flex-col md:flex-row justify-between items-center" w-tid="49">
                <div class="text-sm text-gray-400 mb-4 md:mb-0" w-tid="51">
					<center>
                    <p w-tid="53">Get <a class="py-4 px-1 text-gray-400 hover:text-white border-b-2 border-transparent hover:border-gray-400 text-sm font-medium" href="https://liroemagazine.com/" target="_blank">liroe</a> 
		<img width="66" height="60" src="https://github.com/ghostm68/pantheon/raw/main/lireo.inkrealm.info.runway.promotionalQ.gif"><br> </p>
	 <div id="search-container">
        <input type="text" id="search-input" placeholder="Enter a word to look up">
        <button id="search-button">Further Dictionary (w/German)</button>
    </div>
    <div id="result"></div>
</center>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.21.1/axios.min.js"></script>
    <script>
        const searchInput = document.getElementById('search-input');
        const searchButton = document.getElementById('search-button');
        const result = document.getElementById('result');

        const dictionaryUrls = [
            'https://raw.githubusercontent.com/matthewreagan/WebstersEnglishDictionary/master/dictionary.json',
            'https://gist.githubusercontent.com/BideoWego/60fbd40d5d1f0f1beca11ba95221dd38/raw/58fb4cce910fbf5fa67a2f0f1f619c09d7b1b373/dictionary.json',
            'https://raw.githubusercontent.com/adambom/dictionary/master/dictionary.json',
            'https://raw.githubusercontent.com/hathibelagal/German-English-JSON-Dictionary/master/german_english.json'
        ];

        async function searchDictionary(word) {
            result.innerHTML = '<p class="loading">Searching...</p>';
            
            try {
                const responses = await Promise.all(dictionaryUrls.map(url => axios.get(url)));
                const dictionaries = responses.map(response => response.data);
                
                let definitionsFound = false;
                let resultHTML = `<h2>Definitions and Translations for "${word}":</h2>`;

                dictionaries.forEach((dictionary, index) => {
                    if (index < 3) {
                        if (dictionary[word.toLowerCase()]) {
                            definitionsFound = true;
                            const definition = dictionary[word.toLowerCase()];
                            resultHTML += `
                                <h3>English Definition (Source ${index + 1}):</h3>
                                <p>${definition}</p>
                            `;
                        }
                    } else {
                        // German-English dictionary
                        const germanTranslations = Object.entries(dictionary).filter(([key, value]) => 
                            value.toLowerCase().includes(word.toLowerCase()) || key.toLowerCase() === word.toLowerCase()
                        );
                        if (germanTranslations.length > 0) {
                            definitionsFound = true;
                            resultHTML += `<h3>German Translations:</h3><ul>`;
                            germanTranslations.forEach(([german, english]) => {
                                resultHTML += `<li>${german} - ${english}</li>`;
                            });
                            resultHTML += `</ul>`;
                        }
                    }
                });

                if (definitionsFound) {
                    result.innerHTML = resultHTML;
                } else {
                    result.innerHTML = `<p>No definition or translation found for "${word}" in any of the sources.</p>`;
                }
            } catch (error) {
                console.error('Error fetching dictionary data:', error);
                result.innerHTML = '<p>An error occurred while searching. Please try again later.</p>';
            }
        }

        searchButton.addEventListener('click', () => {
            const word = searchInput.value.trim();
            if (word) {
                searchDictionary(word);
            }
        });

        searchInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                const word = searchInput.value.trim();
                if (word) {
                    searchDictionary(word);
                }
            }
        });
    </script>

   
 <footer class="bg-[#1C1820] border-t border-[#2A232E] py-8 mt-auto" w-tid="45">
        <div class="container mx-auto px-6" w-tid="47">
            <div class="flex flex-col md:flex-row justify-between items-center" w-tid="49">
                <div class="text-sm text-gray-400 mb-4 md:mb-0" w-tid="51">
                    <p w-tid="53">© 2025 Inkrealm. All rights reserved.</p>
                </div>
                <div class="flex items-center space-x-4" w-tid="55">
                    <a href="mailto:inkrealm@wordstar.nexus" class="text-gray-300 hover:text-white transition-colors flex items-center gap-2" w-tid="57">
                        <span class="material-symbols-outlined text-[var(--primary-color)]" w-tid="59">mail</span>
                        inkrealm@wordstar.nexus ↗
					</a><br>
					  
                </div>
                <div class="text-xs text-gray-500 mt-4 md:mt-0" w-tid="61">
                
                </div>
            </div>
        </div>
    </footer>
			
            <script w-tid="155">
        // Theme toggle functionality
        const themeToggle = document.getElementById('theme-toggle');
        const themeIcon = themeToggle.querySelector('.material-symbols-outlined');

        // Check for saved theme preference or system preference
       
        const savedTheme = localStorage.getItem('runway-theme') || 'dark';
        
        function setTheme(theme) {
            if (theme === 'light') {
                document.documentElement.classList.add('light-mode');
                themeIcon.textContent = 'dark_mode';
                localStorage.setItem('runway-theme', 'light');
            } else {
                document.documentElement.classList.remove('light-mode');
                themeIcon.textContent = 'light_mode';
                localStorage.setItem('runway-theme', 'dark');
            }
        }

        // Initial theme setup
        setTheme(savedTheme);

        // Theme toggle event
        themeToggle.addEventListener('click', () => {
            const currentTheme = document.documentElement.classList.contains('light-mode') ? 'light' : 'dark';
            setTheme(currentTheme === 'dark' ? 'light' : 'dark');
        });

        // Expand font selection
        const fontSelect = document.getElementById('font-select');
        const extendedFonts = [
            'Be Vietnam Pro', 
            'Inter', 
            'Roboto', 
            'Lato', 
            'Montserrat', 
            'Open Sans', 
            'Poppins', 
            'Source Sans Pro', 
            'Work Sans'
        ];

        // Clear existing options and add extended fonts
        fontSelect.innerHTML = extendedFonts.map(font => 
            `<option value="${font}">${font}</option>`
        ).join('');

        // Expand fashion dictionary
        const expandedFashionDictionary = {
            ...fashionDictionary,  // Existing dictionary
            // New terms
            'minimalism': 'A design approach characterized by simplicity, clean lines, and a monochromatic palette.',
            'sustainable-fashion': 'An approach to clothing design, production, and consumption that prioritizes environmental and social responsibility.',
            'upcycling': 'The process of transforming by-products, waste materials, or unwanted products into new materials or products of better quality or environmental value.',
            'gender-neutral': 'Clothing designed to be non-specific to a particular gender, focusing on universal styles and fits.',
            'streetwear': 'Casual clothing style that originated from urban youth culture and has since become a global fashion phenomenon.',
            'tech-wear': 'Fashion that integrates technological elements and performance materials into clothing design.',
            'circular-fashion': 'A regenerative approach where materials are reused, recycled, and kept in use for as long as possible.',
            'capsule-wardrobe': 'A compact collection of versatile clothing pieces that can be mixed and matched to create multiple outfits.',
            'zero-waste-design': 'A pattern cutting and construction method that eliminates textile waste during the garment creation process.'
        };

        // Update the global fashionDictionary
        Object.assign(fashionDictionary, expandedFashionDictionary);

        // Loading Overlay and Performance Optimization
        window.addEventListener('load', () => {
            const loadingOverlay = document.getElementById('loading-overlay');
            
            // Fade out animation
            loadingOverlay.style.transition = 'opacity 1s, visibility 1s';
            loadingOverlay.style.opacity = '0';
            loadingOverlay.style.visibility = 'hidden';
            
            setTimeout(() => {
                loadingOverlay.style.display = 'none';
            }, 1000);
        });


 

        // Pixel Grid Generation
        document.addEventListener('DOMContentLoaded', () => {
            const pixelGrid = document.querySelector('.pixel-grid');
            
            // Generate 100 pixels
            for (let i = 0; i < 100; i++) {
                const pixel = document.createElement('div');
                pixel.classList.add('pixel');
                
                // Random opacity and slight size variation
                pixel.style.opacity = `${0.6 + Math.random() * 0.4}`;
                pixel.style.transform = `scale(${0.9 + Math.random() * 0.2})`;
                
                pixelGrid.appendChild(pixel);
            }
        });
    </script> 
				

  <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
</head>
<body>
<center>
  <div id="chart-creation-section">
    <h3>Mermaid Chart Creator</h3>

    <details>
      <summary>Mermaid Cheat Sheet & Fashion Examples</summary>
      <div class="mermaid-example">
        <h4>Dior Collection Workflow (Flowchart)</h4>
        <pre><code>graph TD
            A[Concept & Inspiration] --> B{Sketching & Design};
            B -- Approved --> C[Fabric Selection];
            B -- Rejected --> A;
            C --> D[Pattern Making];
            D --> E[Sample Creation];
            E --> F{Final Review};
            F -- Approved --> G[Production];
            F -- Rejected --> B;
            style A fill:#f9f9f9,stroke:#333,stroke-width:2px
            style B fill:#e0e0e0,stroke:#333,stroke-width:2px
            style C fill:#f9f9f9,stroke:#333,stroke-width:2px
        </code></pre>
      </div>

      <div class="mermaid-example">
        <h4>Chanel Show Sequence (Sequence Diagram)</h4>
        <pre><code>sequenceDiagram
            participant Host
            participant Model
            participant Audience
            Host->>Model: Introduction
            Model->>Audience: Runway Walk
            Audience-->>Model: Applause
            Model->>Host: Final Pose
            Host->>Audience: Thank You
            style Host fill:#f0f0f0,stroke:#333,stroke-width:2px
            style Model fill:#e0e0e0,stroke:#333,stroke-width:2px
            style Audience fill:#f9f9f9,stroke:#333,stroke-width:2px
        </code></pre>
      </div>

      <p><b>Tip:</b> Use <code>graph TD</code> for flowcharts and <code>sequenceDiagram</code> for sequence diagrams.</p>
      <p><a href="https://mermaid.js.org/">Mermaid Documentation & Playground click here</a></p>
		  
    </details>

    <textarea id="mermaid-code" placeholder="Enter Mermaid code here..." rows="10" cols="50"></textarea>
	  <br>
    <button id="insert-chart-button">Insert Chart</button>
	  <br>
    <button id="download-code-button">Download Code</button>
	  <br>
	  <img width="486" height="336" src="https://github.com/ghostm68/pantheon/raw/main/inkrealm.info.runway.mermaid2.gif"><br> </p>
	  <br>
	
	 inkrealm.info/runway is under construction - est. September 13, 2025
		  <a href="https://github.com/ghostm68/eg/raw/refs/heads/main/runway.apk">mobile app released October 25, 2024</a>
  <br>
  </div>
		   <div class="col-span-1 @5xl:col-span-2 relative overflow-hidden rounded-lg border border-[#2A232E]">
      <!-- Dictionary -->
      <div class="col-span-1 @5xl:col-span-1 h-fit sticky top-28">
        <div class="bg-[#1C1820] border border-[#2A232E] rounded-lg p-6">
          <h3 class="text-lg font-semibold mb-4">Design Dictionary</h3>
          <div class="relative mb-4">
            <span class="material-symbols-outlined absolute left-3 top-1/2 -translate-y-1/2 text-gray-400">search</span>
            <input id="dictionary-search" class="bg-[#2A232E] border border-transparent focus:border-[var(--primary-color)] focus:ring-[var(--primary-color)] rounded-lg pl-10 pr-4 py-2 text-sm w-full transition-all" placeholder="Search terms..." type="search"/>
          </div>
          <div id="dictionary-list" class="space-y-3 max-h-[160px] overflow-y-auto pr-2">
            <a class="dictionary-term block text-sm text-gray-300 hover:text-white" href="#" data-term="a-line">A-line</a>
            <a class="dictionary-term block text-sm text-gray-300 hover:text-white" href="#" data-term="applique">Appliqué</a>
            <a class="dictionary-term block text-sm text-gray-300 hover:text-white" href="#" data-term="avant-garde">Avant-garde</a>
            <a class="dictionary-term block text-sm text-gray-300 hover:text-white" href="#" data-term="bias-cut">Bias cut</a>
            <a class="dictionary-term block text-sm text-gray-300 hover:text-white" href="#" data-term="bespoke">Bespoke</a>
            <a class="dictionary-term block text-sm text-white font-medium bg-[#2A232E] p-2 rounded-md" href="#" data-term="bustier">Bustier</a>
            <a class="dictionary-term block text-sm text-gray-300 hover:text-white" href="#" data-term="chiffon">Chiffon</a>
            <a class="dictionary-term block text-sm text-gray-300 hover:text-white" href="#" data-term="dart">Dart</a>
            <a class="dictionary-term block text-sm text-gray-300 hover:text-white" href="#" data-term="draping">Draping</a>
            <a class="dictionary-term block text-sm text-gray-300 hover:text-white" href="#" data-term="embroidery">Embroidery</a>
            <a class="dictionary-term block text-sm text-gray-300 hover:text-white" href="#" data-term="empire-waist">Empire waist</a>
            <a class="dictionary-term block text-sm text-gray-300 hover:text-white" href="#" data-term="haute-couture">Haute Couture</a>
            <a class="dictionary-term block text-sm text-gray-300 hover:text-white" href="#" data-term="peplum">Peplum</a>
            <a class="dictionary-term block text-sm text-gray-300 hover:text-white" href="#" data-term="corset">Corset</a>
            <a class="dictionary-term block text-sm text-gray-300 hover:text-white" href="#" data-term="bodice">Bodice</a>
            <a class="dictionary-term block text-sm text-gray-300 hover:text-white" href="#" data-term="satin">Satin</a>
            <a class="dictionary-term block text-sm text-gray-300 hover:text-white" href="#" data-term="silhouette">Silhouette</a>
            <a class="dictionary-term block text-sm text-gray-300 hover:text-white" href="#" data-term="texture">Texture</a>
            <a class="dictionary-term block text-sm text-gray-300 hover:text-white" href="#" data-term="couture">Couture</a>
          </div>
        </div>
	  </div></center>
<!-- WordStar AI Component (NVIDIA Version) -->
<!-- WordStar AI Component (NVIDIA Version - CORS FIXED & THEMED) -->
<!-- WordStar AI Component (NVIDIA Version - FIXED 404 & THEME) -->
<div id="wordstar-ai-container" style="position: fixed; top: 20px; right: 20px; z-index: 10000; font-family: 'Courier New', monospace;">
    <!-- Toggle Button -->
    <button id="wordstar-ai-toggle" style="padding: 12px 16px; background: #000; color: #ff0033; border: 2px solid #ff0033; border-radius: 4px; cursor: pointer; font-weight: bold; box-shadow: 0 0 10px rgba(255, 0, 51, 0.2); transition: all 0.2s; text-transform: uppercase;">
        AI (NVIDIA)
    </button>
    
    <!-- Sidebar -->
    <div id="wordstar-ai-sidebar" style="display: none; width: 350px; background: #000; border: 2px solid #ff0033; border-radius: 0; margin-top: 10px; padding: 20px; box-shadow: 0 8px 24px rgba(0,0,0,0.8);">
        <h4 style="margin-top: 0; color: #ff0033; font-size: 14px; font-weight: 800; text-transform: uppercase; letter-spacing: 2px; border-bottom: 1px solid #333; padding-bottom: 10px;">NVIDIA NIM // TERMINAL</h4>
        
        <!-- API Key Section -->
        <div style="margin-bottom: 15px;">
            <input type="password" id="wordstar-api-key" placeholder="NVAPI- KEY REQUIRED..." style="width: 100%; padding: 10px; margin-bottom: 8px; background: #111; border: 1px solid #444; border-radius: 0; color: #fff; font-size: 12px; box-sizing: border-box;" autocomplete="off">
            <div style="display: flex; justify-content: space-between; align-items: center;">
                 <div id="wordstar-key-status" style="font-size: 10px; color: #666; text-transform: uppercase;">Status: Offline</div>
                 <button id="wordstar-save-key" style="font-size: 10px; padding: 4px 8px; background: #222; color: #fff; border: 1px solid #444; cursor: pointer; text-transform: uppercase;">Authorize</button>
            </div>
        </div>

        <!-- Model Selector - Updated with names that usually work on the free tier -->
        <select id="wordstar-model-select" style="width: 100%; padding: 10px; margin-bottom: 15px; background: #111; border: 1px solid #ff0033; border-radius: 0; color: white; font-size: 12px; box-sizing: border-box; cursor: pointer;">
            <optgroup label="NVIDIA MODELS" style="background: #000;">
                <option value="nvidia/nvidia-nemotron-nano-9b-v2" selected>Nemotron Nano 9B (Free)</option>
                <option value="nvidia/llama-3.1-nemotron-70b-instruct">Llama 3.1 Nemotron 70B</option>
                <option value="meta/llama-3.1-8b-instruct">Llama 3.1 8B</option>
            </optgroup>
        </select>

        <!-- Chat Area -->
        <div id="wordstar-chat-history" style="height: 250px; border: 1px solid #333; padding: 12px; overflow-y: auto; margin-bottom: 12px; font-size: 13px; background: #080808; scrollbar-width: thin; scrollbar-color: #ff0033 #000;"></div>
        
        <textarea id="wordstar-user-input" placeholder="Enter prompt..." style="width: 100%; height: 60px; padding: 10px; margin-bottom: 10px; background: #111; border: 1px solid #444; border-radius: 0; color: white; font-size: 13px; resize: none; box-sizing: border-box;" autocomplete="off"></textarea>
        
        <div style="display: flex; gap: 8px;">
            <button id="wordstar-send-btn" style="flex: 2; padding: 12px; background: #ff0033; color: #000; border: none; font-weight: 900; cursor: pointer; text-transform: uppercase; letter-spacing: 1px;">Transmit</button>
            <button id="wordstar-insert-btn" style="flex: 1; padding: 12px; background: #000; color: #fff; border: 1px solid #ff0033; font-weight: 500; cursor: pointer; display: none; text-transform: uppercase; font-size: 11px;">Insert</button>
        </div>
    </div>
</div>
<script>
(function() {
    const loader = document.getElementById('fullscreen-loader');
    const body = document.body;
    
    // Preload the image
    const img = new Image();
    img.src = 'https://raw.githubusercontent.com/ghostm68/pantheon/main/myText_20251002-024217.png';
    
    // Wait for page to fully load
    window.addEventListener('load', function() {
        // Show loader for minimum 2.5 seconds
        setTimeout(function() {
            // Add hidden class to trigger fade out
            loader.classList.add('hidden');
            body.classList.add('loaded');
            
            // Remove loader from DOM after transition
            setTimeout(function() {
                if (loader && loader.parentNode) {
                    loader.parentNode.removeChild(loader);
                }
            }, 1000);
        }, 2500);
    });
})();
</script>
<script>
(function() {
    /* Configuration */
    const NVIDIA_URL = 'https://integrate.api.nvidia.com/v1/chat/completions';
    let lastAIResponse = '';
    const $ = id => document.getElementById(id);
    
    /* 1. Initialization */
    const savedKey = localStorage.getItem('nvidia_nim_key');
    if (savedKey) {
        $('wordstar-api-key').value = savedKey;
        $('wordstar-key-status').innerHTML = '<span style="color:#ff0033">✓ KEY AUTHORIZED</span>';
    }

    /* 2. Events */
    $('wordstar-ai-toggle').addEventListener('click', () => {
        const box = $('wordstar-ai-sidebar');
        box.style.display = box.style.display === 'none' ? 'block' : 'none';
        if(box.style.display === 'block') $('wordstar-user-input').focus();
    });

    $('wordstar-save-key').addEventListener('click', () => {
        const key = $('wordstar-api-key').value.trim();
        if(key.startsWith('nvapi-')) {
            localStorage.setItem('nvidia_nim_key', key);
            $('wordstar-key-status').innerHTML = '<span style="color:#ff0033">✓ KEY SAVED</span>';
        } else {
            alert('Error: Key must start with nvapi-');
        }
    });

    $('wordstar-send-btn').addEventListener('click', sendMessage);
    
    // Add enter key support
    $('wordstar-user-input').addEventListener('keydown', e => {
        if (e.key === 'Enter' && !e.shiftKey) { 
            e.preventDefault(); 
            sendMessage(); 
        }
    });

    $('wordstar-insert-btn').addEventListener('click', () => {
        // Try to find your main editor - update 'main-editor' to whatever your textarea ID is
        const editor = document.getElementById('main-editor') || document.querySelector('textarea'); 
        if (!editor) return addMessage('system', 'EDITOR NOT FOUND');
        
        const [start, end] = [editor.selectionStart, editor.selectionEnd];
        editor.value = editor.value.substring(0, start) + lastAIResponse + editor.value.substring(end);
        editor.focus();
        $('wordstar-insert-btn').style.display = 'none';
    });

    /* 3. Core AI Logic - Using your working "Yesterday" logic */
    async function sendMessage() {
        const msg = $('wordstar-user-input').value.trim();
        const key = $('wordstar-api-key').value.trim();
        const selectedModel = $('wordstar-model-select').value;
        
        if (!msg) return;
        if (!key) { alert('ENTER API KEY'); return; }

        addMessage('user', msg);
        $('wordstar-user-input').value = '';
        
        const btn = $('wordstar-send-btn');
        btn.disabled = true; 
        btn.textContent = 'PROCESSING...';
        btn.style.backgroundColor = '#333';
        btn.style.color = '#666';

        try {
            // Using your proven proxy logic
            const proxyUrl = 'https://lively-limitless.inkrealm.workers.dev/?url=' +  encodeURIComponent(NVIDIA_URL);
            
            const response = await fetch(proxyUrl, {
                method: 'POST',
                headers: { 
                    'Content-Type': 'application/json', 
                    'Authorization': 'Bearer ' + key 
                },
                body: JSON.stringify({
                    model: selectedModel,
                    messages: [{ role: "user", content: msg }],
                    temperature: 0.5, 
                    top_p: 1, 
                    max_tokens: 1024, 
                    stream: false
                })
            });

            if (!response.ok) {
                const errText = await response.text();
                throw new Error(`HTTP ${response.status}: ${errText.substring(0, 50)}`);
            }

            const data = await response.json();
            
            if (data.choices && data.choices[0]) {
                lastAIResponse = data.choices[0].message.content;
                addMessage('assistant', lastAIResponse);
                $('wordstar-insert-btn').style.display = 'block';
            } else {
                throw new Error("Empty response from AI");
            }

        } catch (error) {
            console.error(error);
            addMessage('system', 'CRITICAL FAILURE: ' + error.message);
        } finally {
            btn.disabled = false; 
            btn.textContent = 'Transmit';
            btn.style.backgroundColor = '#ff0033';
            btn.style.color = '#000';
        }
    }

    /* 4. Helper: UI Messages */
    function addMessage(role, text) {
        const chat = $('wordstar-chat-history');
        const div = document.createElement('div');
        const config = {
            user: { color: '#fff', bg: '#111', border: '#444', label: 'USER' },
            assistant: { color: '#fff', bg: '#000', border: '#ff0033', label: 'NVIDIA' },
            system: { color: '#ff0033', bg: '#1a0000', border: '#ff0033', label: 'ERROR' }
        }[role];

        div.innerHTML = `
            <div style="margin-bottom:12px; padding:10px; background:${config.bg}; border:1px solid ${config.border};">
                <div style="font-size:9px; font-weight:bold; color:${config.border}; text-transform:uppercase; margin-bottom:4px; letter-spacing:1px;">${config.label}</div>
                <div style="white-space:pre-wrap; color:${config.color}; line-height:1.4; font-size: 13px;">${text}</div>
            </div>`;
        
        chat.appendChild(div);
        chat.scrollTop = chat.scrollHeight;
    }
})();
</script>
  <script>
    const mermaidCodeTextarea = document.getElementById('mermaid-code');
    const insertChartButton = document.getElementById('insert-chart-button');
    const mermaidIframe = document.getElementById('mermaid-iframe');
    const downloadCodeButton = document.getElementById('download-code-button');

    insertChartButton.addEventListener('click', () => {
      const mermaidCode = mermaidCodeTextarea.value;
      const iframeSrc = `https://mermaid.live/?mermaid=${encodeURIComponent(mermaidCode)}`;
      mermaidIframe.src = iframeSrc;

      // TODO: Implement logic to insert the chart (image or link) into the main editor
    });

    downloadCodeButton.addEventListener('click', exportMermaidCode);

    function exportMermaidCode() {
      const mermaidCode = mermaidCodeTextarea.value;
      const blob = new Blob([mermaidCode], { type: "text/plain" });
      const url = URL.createObjectURL(blob);
      const a = document.createElement("a");
      a.href = url;
      a.download = "mermaid_chart.txt";
      document.body.appendChild(a);
      a.click();
      document.body.removeChild(a);
      URL.revokeObjectURL(url);
    }
  </script>
<!-- ================================================== -->
<!-- FINAL FIX: STYLES & PDF BUTTON (Paste at Bottom)   -->
<!-- ================================================== -->

<style>
    /* 1. FORCE RED SPLASH SCREEN */
    #fullscreen-loader {
        background: #fc2b39 !important;
        background-image: none !important;
    }

    /* 2. FORCE RED SCROLLBARS */
    ::-webkit-scrollbar-thumb {
        background-color: #fc2b39 !important;
        border-radius: 4px;
        border: 2px solid #100C13;
    }

    /* 3. REMOVE BLUE GLOW / HIGHLIGHTS */
    *:focus, select:focus, textarea:focus, input:focus {
        outline: none !important;
        box-shadow: none !important;
        border-color: #fc2b39 !important;
        --tw-ring-color: transparent !important;
    }
    
    /* Fix Dropdown Backgrounds */
    select option { background-color: #1C1820; color: white; }

	/* 4. SMART COLOR FIX (Corrected) */
    
    /* Main Background */
    html:not(.light-mode) body, 
    html:not(.light-mode) .bg-\[\#100C13\] {
        background-color: #050505 !important;
    }

    /* Cards and Footer */
    html:not(.light-mode) .bg-\[\#1C1820\], 
    html:not(.light-mode) footer {
        background-color: #121212 !important; 
    }

    /* FIX: Neutralize the "Deep Purple" used in Progress Bars & Toolbars */
    html:not(.light-mode) .bg-\[\#2A232E\] {
        background-color: #222222 !important; /* Neutral Dark Grey */
    }

    /* Borders and Header */
    html:not(.light-mode) .border-\[\#2A232E\], 
    html:not(.light-mode) header {
        border-color: #333333 !important; 
    }
    
    /* Inputs - BUT EXCLUDE THE MAIN EDITOR so video shows through */
    html:not(.light-mode) select, 
    html:not(.light-mode) input, 
    html:not(.light-mode) textarea:not(#main-editor) {
        background-color: #121212 !important;
        color: white !important;
    }
    
    /* FORCE VIDEO VISIBILITY */
    html:not(.light-mode) #main-editor {
        background-color: transparent !important;
    }
</style>

<script>
// This script waits for clicks ANYWHERE, then checks if it was the Save button.
// This prevents crashes if buttons are missing.
document.addEventListener('click', function(e) {
    
    // Check if the clicked element is the Save PDF button
    const btn = e.target.closest('#save-pdf');
    if (!btn) return; // If not, do nothing

    // 1. Check Library
    if (!window.jspdf) {
        alert("PDF Library missing. Please ensure the script tag is in your head.");
        return;
    }

    const { jsPDF } = window.jspdf;
    const doc = new jsPDF();
    
    // 2. Get Content
    const title = document.querySelector('h1') ? document.querySelector('h1').textContent : "Runway Text";
    const editor = document.getElementById('main-editor');
    const content = editor ? editor.value : "";
    
    // 3. Build PDF
    doc.setFontSize(20);
    doc.text(title, 20, 30);
    
    doc.setFontSize(12);
    const splitContent = doc.splitTextToSize(content, 170);
    doc.text(splitContent, 20, 50);

    // 4. Dictionary Terms Logic
    if (typeof fashionDictionary !== 'undefined') {
        const usedTerms = [];
        Object.keys(fashionDictionary).forEach(term => {
            if (content.toLowerCase().includes(term.toLowerCase())) {
                usedTerms.push(term);
            }
        });
        
        if (usedTerms.length > 0) {
            let currentY = 50 + (splitContent.length * 7) + 10;
            doc.setFontSize(10);
            doc.text('Terms Used:', 20, currentY);
            
            usedTerms.forEach((term, i) => {
                const def = fashionDictionary[term];
                // Cut off really long definitions so they don't break the PDF
                const summary = `${term}: ${def}`.substring(0, 85) + "...";
                doc.text(summary, 20, currentY + 10 + (i*5));
            });
        }
    }
    
    // 5. Save
    doc.save('runway-project.pdf');
    
    // 6. Success Animation
    const origText = btn.innerHTML;
    btn.innerHTML = '<span class="material-symbols-outlined">check</span> Saved!';
    setTimeout(() => { btn.innerHTML = origText; }, 2000);
});
</script>
	<script>
		// ==========================================
// FINAL FIX: VIDEO BACKGROUND LOGIC
// ==========================================

// 1. Handle the URL Input
const videoInput = document.getElementById('video-url');
if (videoInput) {
    videoInput.addEventListener('change', function(e) {
        // Get the value
        const url = e.target.value.trim();
        if (!url) return;

        console.log("Attempting to load video:", url);
        let videoId = '';
        
        // Extract ID based on URL type
        if (url.includes('v=')) {
            // Standard YouTube link
            videoId = url.split('v=')[1].split('&')[0];
        } else if (url.includes('youtu.be/')) {
            // Short link
            videoId = url.split('youtu.be/')[1].split('?')[0];
        } else if (url.includes('embed/')) {
            // Embed link
            videoId = url.split('embed/')[1].split('?')[0];
        }

        if (videoId) {
            const iframe = document.getElementById('video-iframe');
            // Update source
            iframe.src = `https://www.youtube.com/embed/${videoId}?autoplay=1&mute=1&loop=1&controls=0&showinfo=0&rel=0&playlist=${videoId}`;
        } else {
            alert("Could not recognize YouTube URL format.");
        }
    });
}

// 2. Handle the On/Off Toggle
const videoToggle = document.getElementById('video-bg');
if (videoToggle) {
    videoToggle.addEventListener('change', function(e) {
        const videoBg = document.getElementById('video-background');
        if (videoBg) {
            videoBg.style.display = e.target.checked ? 'block' : 'none';
        }
    });
}
	</script>
					
      </body></html>
