<!DOCTYPE html>
<html lang="en">

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- SEO Meta Tags -->
<meta name="description" content="Experience 'Atari' on InkRealm, a retro Atari-style word processor combined with an engaging 'Asteroids' game. Discover the nostalgia of classic gaming and efficient word processing with a unique blue-themed design that offers both innovative gameplay and a nostalgic typing experience.">
<meta name="keywords" content="Atari, InkRealm, retro Atari word processor, Asteroids game, nostalgic typing experience, classic gaming, blue-themed design, innovative gameplay">

<!-- Open Graph Meta Tags -->
<meta property="og:title" content="Arari - InkRealm">
<meta property="og:description" content="Explore 'Arari' on InkRealm, where a retro Atari-inspired word processor meets the thrilling 'Asteroids' game. Enjoy a unique fusion of classic gaming and efficient word processing with a stunning blue-themed design. Dive into a nostalgic and visually captivating adventure.">

<meta property="og:url" content="https://inkrealm.info/arari">
<meta property="og:type" content="website">

<!-- Twitter Card Meta Tags -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="Arari - InkRealm">
<meta name="twitter:description" content="Experience the best of both worlds with 'Arari' on InkRealm: a retro Atari-like word processor paired with the exciting 'Asteroids' game. Discover a nostalgic typing adventure and classic gaming in a visually stunning blue-themed environment.">


 <head>
      <link rel="stylesheet" href="/main.css/at.css">
    		<link href="https://fonts.googleapis.com/css2?family=VT323&display=swap" rel="stylesheet">
		<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.13.1/css/all.css" integrity="sha384-xxzQGERXS00kBmZW/6qxqJPyxW3UR0BPsL4c8ILaIWXva5kFi7TxkIIaMiKtqV1Q" crossorigin="anonymous">
 </head>
	<head>
<style>
/* width */
::-webkit-scrollbar {
  width: 20px;
}

/* Track */
::-webkit-scrollbar-track {
  box-shadow: inset 0 0 5px grey; 
  border-radius: 10px;
}
 
/* Handle */
::-webkit-scrollbar-thumb {
  background: purple; 
  border-radius: 10px;
}

/* Handle on hover */
::-webkit-scrollbar-thumb:hover {
  background: yellow; 
}
</style> 
	     <style>
	 
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    html,
    body {
      height: 100vh;
    }

    .navigation__checkbox {
      display: none;
    }

    .navigation__button {
      position: fixed;
      top: 0.5rem;
      right: 0.5rem;
      height: 2rem;
      width: 2rem;
      text-align: center;
      background-color: #fff;
      border-radius: 50%;
      z-index: 300;
      box-shadow: 0 1rem 3rem rgba(0, 0, 0, 0.2);
      cursor: crosshair;
    }

    @media screen and (min-width: 768px) {
      .navigation__button {
        top: 4rem;
        right: 4rem;
        height: 7rem;
        width: 7rem;
      }
    }

    /* Background image option */
    .navigation__background {
      position: fixed;
      top: 2rem;
      right: 2rem;
      height: 3rem;
      width: 3rem;
      border-radius: 50%;
      background-image: url(/wordstarpersim.gif);
      background-size: cover;
      background-position: center;
      z-index: 100;
      transition: all 800ms cubic-bezier(0.86, 0, 0.07, 1);
    }

    @media screen and (min-width: 768px) {
      .navigation__background {
        top: 4.5rem;
        right: 4.5rem;
        height: 6rem;
        width: 6rem;
      }
    }

    .navigation__nav {
      position: fixed;
      top: 0;
      left: 0;
      height: 100vh;
      opacity: 0;
      width: 0;
      visibility: hidden;
      z-index: 200;
      transition: all 800ms cubic-bezier(0.68, -0.55, 0.265, 1.55);
    }

    .navigation__list {
      /*@include center;*/
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      text-align: center;
      width: 100%;
      list-style: none;
    }

    .navigation__item {
      margin: 1rem;
    }

    .navigation__link:link,
    .navigation__link:visited {
      display: inline-block;
      padding: 1rem 2rem;
      text-transform: uppercase;
      color: white;
      font-size: 2.4rem;
      text-decoration: none;
      transition: all .2s;
    }

    @media(min-width: 768px) {
      .navigation__link:link,
      .navigation__link:visited {
        font-size: 3.8rem;
      }
    }

    .navigation__link span {
      margin-right: 1.5rem;
      display: inline-block;
    }

    .navigation__link:hover {
      color: red;
      transform: scale(1.1);
    }

    .navigation__checkbox:checked~.navigation__background {
      transform: scale(80)
    }

    .navigation__checkbox:checked~.navigation__nav {
      width: 100%;
      visibility: visible;
      opacity: 1
}

.navigation__icon {

    position: relative;
    margin-top: 2.5rem;
}

@media screen and (min-width: 768px) {
    .navigation__icon {
        margin-top: 3.5rem;
    }
}

.navigation__icon,
.navigation__icon::before,
.navigation__icon::after {
    display: inline-block;
    width: 2.2rem;
    height: 2px;
    background-color: #4A676A;
}

@media (min-width: 768px) {
    .navigation__icon,
    .navigation__icon::before,
    .navigation__icon::after {
        width: 3rem;
    }
}

.navigation__icon::before,
.navigation__icon::after {
    content: '';
    position: absolute;
    left: 0;
    transition: all 200ms;
}

.navigation__icon::before {
    top: -.8rem;
}

.navigation__icon::after {
    top: .8rem;
}

.navigation__button:hover .navigation__icon::before {
    top: -1rem;
}

.navigation__button:hover .navigation__icon::after {
    top: 1rem;
}

.navigation__checkbox:checked+.navigation__button .navigation__icon {
    background-color: transparent;
}

.navigation__checkbox:checked+.navigation__button .navigation__icon::before {
    top: 0;
    transform: rotate(135deg);
}

.navigation__checkbox:checked+.navigation__button .navigation__icon::after {
    top: 0;
    transform: rotate(-135deg);
}
/*---------------|||||||||||Others--------------------------------------------------------------*/    
  



/*-----------------------*/
#by {
  font-family: 'Vtks Sucess', bold;
  color: #4A676A;
  font-size: 10px;
  position: absolute;
  top: 22%;
  right: 2.5%; 
}

/*
light-blue: #C1D0D0;
dark-blue: #4A676A;
cream: #FFEAA5;
yellow: #FFB037;
   */</style>	
	    <div class="navigation">
      <input type="checkbox" class="navigation__checkbox" id="nav-toggle">
      <label for="nav-toggle" class="navigation__button">
        <span class="navigation__icon" aria-label="toggle navigation menu"></span>
      </label>
      <div class="navigation__background"></div>   
     <nav class="navigation__nav" role="navigation">
        <ul class="navigation__list">
          <li class="navigation__item">

            <a href="https://www.paypal.com/donate?token=5OmNTYpzcmLnEbf6fh8c4m33ui1DfChR1qCaroOsZuDJqq11AfTSxhF-ewGAHic_Y2GmhT7QMmhoJVoS" target="_blank" rel="noopener noreferrer" class="navigation__link"><span>play</span>donate</a>
          </li>
		<div>
<main tabindex="0">
			<canvas id="gameCanvas" width="700" height="500"></canvas>
		</main>
			<div id="instructions">
				<div class="commands"><kbd><i class="fas fa-arrow-up" aria-hidden="true" aria-label="up arrow key"></i></kbd>propel the ship</div>
				<div class="commands"><kbd><i class="fas fa-arrow-left" aria-hidden="true" aria-label="left arrow key"></i></kbd><kbd><i class="fas fa-arrow-right" aria-hidden="true" aria-label="right arrow key"></i></kbd>move the ship</div>
				<div class="commands"><kbd>Space</kbd>shoot lasers</div>
			</div>
			<div class="volume">
				<i id="music" class="fas fa-music mute" aria-hidden="true" aria-label="sound off"></i>
				<div id="sound"><i class="fas fa-volume-mute" aria-hidden="true" aria-label="sound off"></i></div>
			</div>
<script>
    const FPS = 30; // frames per second
const friction = 0.5; // friction coefficient of space
const shipBlinkDuration = 0.1; // in seconds
const shipExplodeDuration = 0.3;
const shipInvisibilityDuration = 3; // in seconds
const shipSize = 30; // height in pixels
const shipThrust = 5; // acceleration of the ship px per sec
const shipTurnSpeed = 360; // degrees per second
const laserDist = 0.4; // max distance laser can travel
const laserExplodeDuration = 0.1;
const laserMax = 10; // max num of lasers on screen at once
const laserSpeed = 500; // px per sec
const roidsJag = 0.3; //jaggedness of the asteroids
const roidsNum = 1; // starting nb of asteroids
const roidsSize = 100; // starting size of asteroids in px
const roidsSpeed = 50; // max px per second
const roidsVert = 10; // average nb of vertices on each asteroid
const gameLives = 3; //starting num of lives
const textFadeTime = 3; // in seconds
const textSize = 40; // in px
const roidsLargePts = 20; // points scored for large asteroid
const roidsMediumPts = 50; // points scored for medium asteroid
const roidsSmallPts = 100; // points scored for small asteroid
const saveScore = "highScore"; // save key for local storage
let soundOn = false;
let musicOn = false;

let canvas = document.getElementById("gameCanvas");
let context = canvas.getContext("2d");
document.querySelector("main").focus();


// SOUND EFFECTS
function Sound(src, maxStreams = 1, vol = 1.0) {
	this.streamNum = 0;
	this.streams = [];
	for (let i = 0; i < maxStreams; i++) {
		this.streams.push(new Audio(src));
		this.streams[i].volume = vol;
	}
	this.play = function () {
		if (soundOn) {
		this.streamNum = (this.streamNum + 1) % maxStreams;
		this.streams[this.streamNum].play();
		}
	}
	this.stop = function () {
		this.streams[this.streamNum].pause();
		this.streams[this.streamNum].currentTime = 0;
	}
}
let laserSound = new Sound("https://margaux-dev.github.io/asteroids-game/asteroids-game-sounds/pew.m4a", 5, 0.4);
let thrustSound = new Sound("https://margaux-dev.github.io/asteroids-game/asteroids-game-sounds/thrust.m4a");
let hitSound = new Sound("https://margaux-dev.github.io/asteroids-game/asteroids-game-sounds/hit.m4a", 5, 0.8);
let explosionSound = new Sound("https://margaux-dev.github.io/asteroids-game/asteroids-game-sounds/explosion.m4a", 1, 0.7);


//MUSIC
let music = new Music("https://margaux-dev.github.io/asteroids-game/asteroids-game-sounds/music-high.m4a","https://margaux-dev.github.io/asteroids-game/asteroids-game-sounds/music-low.m4a");
let roidsLeft, roidsTotal;
function Music (srcA, srcB) {
	this.soundA = new Audio(srcA);
	this.soundB = new Audio(srcB);
	this.a = true;
	this.tempo = 1.0;
	this.beatTime = 0;
	this.play = function () {
		if (musicOn) {
			if (this.a) {
				this.soundA.play();
			} else {
				this.soundB.play();
			}
			this.a = !this.a;
		}
	}
	this.setAsteroidRatio = function (ratio) {
		this.tempo = 1 - 0.75 * (1 - ratio);
	}
	this.tick = function () {
		if (this.beatTime === 0) {
			this.play();
			this.beatTime = Math.ceil(this.tempo * FPS);
		} else {
			this.beatTime--;
		}
	}
}


// SET UP THE GAME LOOP
setInterval(update, 1000 / FPS);


// SET UP GAME PARAMETERS
let level, roids, ship, lives, score, highScore, text, textAlpha;


// START THE GAME
	// Background
context.fillStyle = "rgba(44,44,44,1.00)";
context.fillRect(0, 0, canvas.width, canvas.height);
	// Title
context.fillStyle = "rgba(193,193,193,1.00)";
context.font = "normal small-caps 100 " + (textSize + 30) + "px VT323";
context.textAlign   = "center";
context.textBaseline = "middle";
context.fillText("ASTEROIDS", canvas.width / 2, canvas.height * 0.48);
	// subtitke
context.font = "small-caps " + (textSize - 15) + "px VT323";
context.fillText("PRESS ANY KEY TO START", canvas.width / 2, canvas.height * 0.58);
document.addEventListener("keydown", newGame);



// BUILD AN ASTEROID
function newAsteroid (x, y, r) {
	let lvlMultiply = 1 + 0.1 * level;
	let roid = {
		x: x,
		y:y,
		xv: Math.random() * roidsSpeed * lvlMultiply / FPS * (Math.random() < 0.5 ? 1 : -1),
		yv: Math.random() * roidsSpeed * lvlMultiply / FPS * (Math.random() < 0.5 ? 1 : -1),
		r: r,
		a: Math.random() * Math.PI * 2, // in radians
		vert: Math.floor(Math.random() * (roidsVert + 1) + roidsVert / 2),
		offs : []
	};
	
	// Create the vertex offets array
	for (let i = 0; i < roid.vert; i++) {
		roid.offs.push(Math.random() * roidsJag * 2 + 1 - roidsJag);
	}
	
	return roid;
}

// CREATE THE ASTEROID BELT
function createAsteroidBelt () {
	roids = [];
	roidsTotal = (roidsNum + level) * 7;
	roidsLeft = roidsTotal;
	let x, y;
	for (let i = 0; i < roidsNum + level; i++) {
		do { 
			x = Math.floor(Math.random() * canvas.width);
			y = Math.floor(Math.random() * canvas.height);
		} while (distBetweenPoints(ship.x, ship.y, x, y) < roidsSize * 2 + ship.r);
		roids.push(newAsteroid(x, y, Math.ceil(roidsSize / 2)));
	}
}


// DESTROY AN ASTEROID
function destroyAsteroid (index) {
	let x = roids[index].x;
	let y = roids[index].y;
	let r = roids[index].r;
	
	// Split the asteroid in 2 
	if (r === Math.ceil(roidsSize / 2)) {
		roids.push(newAsteroid(x, y, Math.ceil(roidsSize / 4)));
		roids.push(newAsteroid(x, y, Math.ceil(roidsSize / 4)));
		score += roidsLargePts;
	} else if (r == Math.ceil(roidsSize / 4)) {
		roids.push(newAsteroid(x, y, Math.ceil(roidsSize / 8)));
		roids.push(newAsteroid(x, y, Math.ceil(roidsSize / 8)));
		score += roidsMediumPts;
	} else {
		score += roidsSmallPts;
	}
	
	// Check high score
	if (score > highScore) {
		highScore = score;
		localStorage.setItem(saveScore, highScore);
	}
	
	// Destroy the last fragment of asteroid
	roids.splice(index, 1);
	hitSound.play();
	
	// Ratio of remaining asteroids for music tempo
	roidsLeft--;
	music.setAsteroidRatio(roidsLeft === 0 ? 1 : roidsLeft / roidsTotal);
	
	// Then new level starts
	if (roids.length === 0){
		level++;
		newLevel();
	}
}


// GET THE DISTANCE BETWEEN TWO POINTS
function distBetweenPoints(x1, y1, x2, y2) {
	return Math.sqrt(Math.pow(x2 - x1, 2) + Math.pow(y2 - y1, 2));
}


// BUILD A NEW SHIP
function newShip () {
	return {
		x: canvas.width / 2,
		y: canvas.height / 2,
		r: shipSize / 2,
		a: 90 / 180 * Math.PI, // radiant
		blinkNumber: Math.ceil(shipInvisibilityDuration / shipBlinkDuration),
		blinkTime: Math.ceil(shipBlinkDuration * FPS),
		canShoot: true,
		dead: false,
		explodeTime: 0,
		lasers:[],
		rotation: 0,
		thrusting: false,
		thrust : {
			x: 0,
			y: 0
		}
	}
}


// DRAW A NEW SHIP
function drawShip(x, y, a, color = "#fff") {
	context.strokeStyle = color;
	context.lineWidth = shipSize / 20;
	context.beginPath();
	context.moveTo(
		x + 5 / 3 * ship.r * Math.cos(a),
		y - 5 / 3 * ship.r * Math.sin(a)
	);
	context.lineTo(
		x - ship.r * (2 / 3 * Math.cos(a) + Math.sin(a)),
		y + ship.r * (2 / 3 * Math.sin(a) - Math.cos(a))
	);
	context.lineTo(
		x - ship.r * (2 / 3 * Math.cos(a) - Math.sin(a)),
		y + ship.r * (2 / 3 * Math.sin(a) + Math.cos(a))
	);
	context.closePath();
	context.stroke();
}


// SHOOT LASERS
function shootLaser () {
	// Create a laser
	if (ship.canShoot && ship.lasers.length < laserMax) {
		ship.lasers.push({
			x: ship.x + 4 / 3 * ship.r * Math.cos(ship.a),
			y : ship.y - 4 / 3 * ship.r * Math.sin(ship.a),
			xv : laserSpeed * Math.cos(ship.a) / FPS,
			yv : -laserSpeed * Math.sin(ship.a) / FPS, 
			dist: 0,
			explodeTime: 0
		});
		laserSound.play();
	}
	// Prevent further shooting
	ship.canShoot = false;
}


// MAKE THE SHIP EXPLODE
function explodeShip () {
	ship.explodeTime = Math.ceil(shipExplodeDuration * FPS);
	explosionSound.play();
}


// DRAW THE EXPLOSITION
function drawExplosion (ex, ey, spikes, r) {
	let rot = Math.PI / 2 * 3;
	let x = ex;
	let y = ey;
	let step = Math.PI / spikes;
	context.beginPath();
	context.moveTo(
		ex, ey - r
	);
	for (let i = 0; i < spikes; i++) {
		x = ex + Math.cos(rot) * r;
		y = ey + Math.sin(rot) * r;
		context.lineTo(x, y);
		rot += step;
		x = ex + Math.cos(rot);
		y = ey + Math.sin(rot);
		context.lineTo(x, y);
		rot += step
	}
	context.lineTo(ex, ey - r);
	context.closePath();
	context.lineWidth = 3.5;
	context.strokeStyle = "rgba(179,62,0,1.00)";
	context.stroke();
	context.fillStyle = "rgba(255,235,0,1.00)";
	context.fill();
	
	context.fillStyle = "rgba(198,77,0,1.00)";
	context.beginPath();
	context.arc(ex, ey, r * 0.7, Math.PI * 2, false);
	context.fill();
	context.fillStyle =  "rgba(252,99,0,1.00)";
	context.beginPath();
	context.arc(ex, ey, r * 0.6, Math.PI * 2, false);
	context.fill();
	context.fillStyle =  "rgba(255,140,65,1.00)";
	context.beginPath();
	context.arc(ex, ey, r * 0.5, Math.PI * 2, false);
	context.fill();
	context.fillStyle = "rgba(255,169,65,1.00)";
  context.beginPath();
	context.arc(ex, ey, r * 0.4, Math.PI * 2, false);
	context.fill();
	context.fillStyle = "rgba(255,206,65,1.00)";
	context.beginPath();
	context.arc(ex, ey, r * 0.3, Math.PI * 2, false);
	context.fill();
	context.fillStyle = "rgba(255,233,66,1.00)";
	context.beginPath();
	context.arc(ex, ey, r * 0.2, 0, Math.PI * 2, false);
	context.fill();
}


// MAKE THE GAME WORKS
function update () {
	let blinkOn = ship.blinkNumber % 2 === 0;
	let exploding = ship.explodeTime > 0;
	
	//MUSIC
	music.tick();
	
	// BACKGROUND
	context.fillStyle = "rgba(44,44,44,1.00)";
	context.fillRect(0, 0, canvas.width, canvas.height);
	
	// DRAW THE ASTEROIDS
	let x, y, r, a, vert, offs;
	for (let i = 0; i < roids.length; i++) {
		context.strokeStyle = "rgba(217,241,189,1.00)";
		context.lineWidth = shipSize / 20;
		
		// Get the asteroid props
		x = roids[i].x;
		y = roids[i].y;
		r = roids[i].r;
		a = roids[i].a;
		vert = roids[i].vert;
		offs = roids[i].offs;
		
		// Draw a path
		context.beginPath();
		context.moveTo(
			x + r * offs[0] * Math.cos(a),
			y + r * offs[0] * Math.sin(a)
		);
		
		// Draw the polygon
		for (let j = 1; j < vert; j++) {
			context.lineTo(
				x + r * offs[j] * Math.cos(a + j * Math.PI * 2 / vert),
				y + r * offs[j] * Math.sin(a + j * Math.PI * 2 / vert)
			);
		}
		context.closePath();
		context.stroke();
	}
	
	
	// THRUST THE SHIP
	if (ship.thrusting && !ship.dead) {
		ship.thrust.x += shipThrust * Math.cos(ship.a) / FPS;
		ship.thrust.y -= shipThrust * Math.sin(ship.a) / FPS;
		thrustSound.play();
		
		// Draw the thruster
		if (!exploding && blinkOn) {
			context.fillStyle= "rgba(255,86,0,1.00)";
			context.strokeStyle = "rgba(255,169,78,1.00)"; 
			context.lineWidth = shipSize / 10;
			context.beginPath();
			context.moveTo(
				//left
				ship.x - ship.r * (2 / 3 * Math.cos(ship.a) + 0.5 * Math.sin(ship.a)),
				ship.y + ship.r * (2 / 3 * Math.sin(ship.a) - 0.5 * Math.cos(ship.a))
			);
			context.lineTo(
				//center, behind the ship
				ship.x - ship.r * (5 / 3 * Math.cos(ship.a)),
				ship.y + ship.r * (5 / 3 * Math.sin(ship.a))
			);
			context.lineTo(
				//right
				ship.x - ship.r * (2 / 3 * Math.cos(ship.a) - 0.5 * Math.sin(ship.a)),
				ship.y + ship.r * (2 / 3 * Math.sin(ship.a) + 0.5* Math.cos(ship.a))
			);
			context.closePath();
			context.fill();
			context.stroke();
		}
	} else {
		// Apply space friction when no thrusting
		ship.thrust.x -= friction * ship.thrust.x / FPS;
		ship.thrust.y -= friction * ship.thrust.y / FPS;
		thrustSound.stop()
	}
	
	// DRAW THE SHIP
	if (!exploding) {
		if (blinkOn && !ship.dead) {
			drawShip(ship.x, ship.y, ship.a);
		}
		// Handle blinking
		if (ship.blinkNumber > 0) {
			// Reduce blink time
			ship.blinkTime--;
			// Reduce blink number
			if (ship.blinkTime === 0) {
				ship.blinkTime = Math.ceil(shipBlinkDuration * FPS);
				ship.blinkNumber--;
			}
		}
	} else {
		// Draw the explosion
		drawExplosion(ship.x, ship.y, 20, ship.r);
	}
	
	
	// DRAW THE LASERS
	for (let i = 0; i < ship.lasers.length; i++) {
		if (ship.lasers[i].explodeTime == 0) {
			context.fillStyle = "rgba(251,143,129,1.00)";
			context.beginPath();
			context.arc(ship.lasers[i].x, ship.lasers[i].y, shipSize / 15, 0, Math.PI * 2, false);
			context.fill();
		} else {
			// Draw the explosion
			drawExplosion(ship.lasers[i].x, ship.lasers[i].y, 20, shipSize * 0.75);
		}
	}
	
	
	// DRAW THE GAME TEXT
	if (textAlpha >= 0) {
		context.fillStyle = "rgba(255, 255, 255, " + textAlpha + ")";
		context.font = "small-caps " + (textSize + 20) + "px VT323";
		context.textAlign   = "center";
		context.fillText(text, canvas.width / 2, canvas.height * 0.7);
		textAlpha -= (1.0 / textFadeTime / FPS);
	} else if (ship.dead) {
		context.fillStyle = "rgba(215,215,215,1.00)";
		context.font = "small-caps " + (textSize - 5) + "px VT323";
		context.textAlign   = "center";
		context.textBaseline = "middle";
		context.fillText("PRESS ANY KEY TO PLAY AGAIN", canvas.width / 2, canvas.height * 0.5);
		document.addEventListener("keydown", newGame);
		
	}
	
	
	// DRAW THE LIVES 
	let lifeColors;
	for (let i = 0; i < lives; i++) {
		lifeColors = exploding && i === lives - 1 ? "red" : "#fff";
		drawShip((shipSize + i * shipSize * 1.2), shipSize, 0.5 * Math.PI, lifeColors);
	}
	
	
	// DRAW THE SCORE
	context.fillStyle = "#C9C9C9";
	context.font = (textSize + 5) + "px VT323";
	context.textAlign = "right";
	context.textBaseline = "middle";
	context.fillText(score, canvas.width - shipSize / 2, shipSize);
	
	
	// DRAW THE HIGH SCORE
	context.fillStyle = "#C9C9C9";
	context.font = (textSize * 0.9) + "px VT323";
	context.textAlign = "center";
	context.textBaseline = "middle";
	context.fillText("BEST SCORE: " + highScore, canvas.width / 2, shipSize);
	
	
	//DETECT LASER HITS ON ASTEROID
	let ax, ay, ar, lx, ly;
	for (let i = roids.length - 1; i >= 0; i--) {
		//grab the asteroids props
		ax = roids[i].x;
		ay = roids[i].y;
		ar = roids[i].r;
		//loop over the lasers
		for (let j = ship.lasers.length - 1; j >= 0; j--) {
			//gradb the laser props
			lx = ship.lasers[j].x;
			ly = ship.lasers[j].y;
			
			//detect hits
			if (ship.lasers[j].explodeTime === 0 && distBetweenPoints(ax, ay, lx, ly) < ar) {
				
				//destroy the asteroid + laser explositoon
				destroyAsteroid(i);
				ship.lasers[j].explodeTime = Math.ceil(laserExplodeDuration * FPS);
				break;
			}
		}
	}
	
	
	//CHECK FOR ASTEROID COLLISIONS
	if (!exploding) {
		if (ship.blinkNumber === 0 && !ship.dead) {
			for (let i = 0; i < roids.length; i++) {
				if (distBetweenPoints(ship.x, ship.y, roids[i].x, roids[i].y) < ship.r + roids[i].r) {
					explodeShip();
					destroyAsteroid(i);
					break;
				}
			}
		}

			// ROTATE THE SHIP
			ship.a += ship.rotation; 

			// MOVE THE SHIP
			ship.x += ship.thrust.x;
			ship.y += ship.thrust.y;
		
	} else {
		ship.explodeTime --;
		// Reset the ship after an explosion
		if (ship.explodeTime == 0) {
			lives--;
			if (lives === 0) {
				gameOver();
			} else {
				ship = newShip();
			}
		}
	}
	
	// HANDLE EDGE OF SCREEN
	if (ship.x < 0 - ship.r) {
		ship.x = canvas.width + ship.r;
	} else if (ship.x > canvas.width + ship.r) {
		ship.x = 0 - ship.r;
	}
	if (ship.y < 0 - ship.r) {
		ship.y = canvas.height + ship.r;
	} else if (ship.y > canvas.height + ship.r) {
		ship.y = 0 - ship.r;
	} 
	
	
	// MOVE THE LASERS
	for (let i = ship.lasers.length - 1; i >= 0; i--) {
		
		// Checked distance travelled
		if (ship.lasers[i].dist > laserDist * canvas.width) {
			ship.lasers.splice(i, 1);
			continue;
		} 
		
		// Handle the explosion
		if (ship.lasers[i].explodeTime > 0) {
			ship.lasers[i].explodeTime --;
			
			// Destroy the laser after duration
			if (ship.lasers[i].explodeTime == 0) {
				ship.lasers.splice(i, 1);
				continue;
			}
		} else {
			//Move the laser
		ship.lasers[i].x += ship.lasers[i].xv;
		ship.lasers[i].y += ship.lasers[i].yv;
		
		// Calculate the distance travelled
		ship.lasers[i].dist += Math.sqrt(Math.pow(ship.lasers[i].xv, 2) + Math.pow(ship.lasers[i].yv, 2));
		}
		
		
		
		// Handle edge of screen
		if (ship.lasers[i].x < 0) {
			ship.lasers[i].x = canvas.width;
		} else if (ship.lasers[i].x > canvas.width) {
			ship.lasers[i].x = 0;
		}
		if (ship.lasers[i].y < 0) {
			ship.lasers[i].y = canvas.height;
		} else if (ship.lasers[i].y > canvas.height) {
			ship.lasers[i].y = 0;
		}
	}
	
	
	//MOVE THE ASTEROIDS
	for  (let i = 0; i < roids.length; i++) {
		roids[i].x += roids[i].xv;
		roids[i].y += roids[i].yv;
		
		//handle edge of screen
		if (roids[i].x < 0 - roids[i].r) {
			roids[i].x = canvas.width + roids[i].r;
		} else if (roids[i].x > canvas.width + roids[i].r){
			roids[i].x = 0 - roids[i].r
		}
		if (roids[i].y < 0 - roids[i].r) {
			roids[i].y = canvas.height + roids[i].r;
		} else if (roids[i].y > canvas.height + roids[i].r){
			roids[i].y = 0 - roids[i].r
		}
	}
}


// START A NEW GAME
function newGame () {
	level = 0;
	score = 0;
	lives = gameLives;
	ship = newShip();
	
	document.removeEventListener("keydown", newGame);
	
	//High score from local storage
	let scoreStr = localStorage.getItem(saveScore);
	if (scoreStr === null) {
		highScore = 0;
	} else {
		highScore = parseInt(scoreStr);
	}
	
	newLevel();
}


// NEW LEVEL
function newLevel () {
	text = "Level " + (level + 1);
	textAlpha = 1.0;
	createAsteroidBelt();
}


// GAME OVER
function gameOver () {
	ship.dead = true;
	text = "Game Over";
	textAlpha = 1.0;
	musicOn = false;
}


// MOVE THE SHIP AND SHOOT THE LASERS ON KEYDOWN
function keyDown (e) {
	if (ship.dead) {
		return;
	}
	switch (e.keyCode) {
		//Space Bar	
		case 32:
			shootLaser();
			break;
		// Left arrow
		case 37:
			ship.rotation = shipTurnSpeed / 180 * Math.PI / FPS;
			break;
		// Up arrow
		case 38:
			ship.thrusting = true;
			break;
		// Right arrow
		case 39:
			ship.rotation = -shipTurnSpeed / 180 * Math.PI / FPS;
			break;
	}
}


// STOP THE ACTIONS ON KEYUP
function keyUp (e) {

	switch (e.keyCode) {
		//Space Bar	
		case 32:
			ship.canShoot = true;
			break;
		// Left arrow
		case 37:
			ship.rotation = 0;
			break;
		// Up arrow
		case 38:
			ship.thrusting = false;
			break;
		// Right arrow
		case 39:
			ship.rotation = 0;
			break;
	}
}


// SWITCH ON/OFF THE SOUND EFFECTS
function soundToggle () {
	if(soundOn === false) {
		soundOn = true;
		document.querySelector("#sound").innerHTML = '<i class="fas fa-volume-up" aria-hidden="true" aria-label="sound on"></i>'
	} else {
		soundOn = false;
		document.querySelector("#sound").innerHTML = '<i class="fas fa-volume-mute" aria-hidden="true" aria-label="sound off"></i>'
	}
}


// SWITCH ON/OFF THE MUSIC
function musicToggle () {
	if(musicOn === false) {
		musicOn = true;
		document.querySelector("#music").classList.remove("mute");
	} else {
		musicOn = false;
		document.querySelector("#music").classList.add("mute");
	}
}

document.addEventListener("keydown", keyDown);
document.addEventListener("keyup", keyUp);
document.querySelector("#sound").addEventListener("click", soundToggle);
document.querySelector("#music").addEventListener("click", musicToggle);
</script>
			
    </ul>
  </nav>
  <span id="by">inkrealm.info/atari</span>
</div>
   
    <title>Retro Word Processor</title>
    <style>
        body {
            background-color: #1A2A6C;
            color: #A8E0FF;
            font-family: 'Courier New', Courier, monospace;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
             overflow: scroll; /* Show scrollbars */
    margin: 0; /* Removes default margins */
    padding: 0; /* Removes default padding */
}
       }
        .menu-bar {
            background-color: #0C0C3A;
            padding: 10px;
            width: 80%;
            text-align: center;
            margin-bottom: 20px;
        }
        .menu-bar button {
            background: none;
            border: none;
            color: #A8E0FF;
            font-size: 16px;
            margin: 0 10px;
            cursor: pointer;
        }
        .menu-bar button:hover {
            text-decoration: underline;
        }
	 .menu-bar, .footer, main {
    overflow: hidden; /* Prevents scrollbars on these sections */
}   
          .dropdown {
            display: inline-block;
            position: relative;
        }
        .dropdown-content {
            display: none;
            position: absolute;
            background-color: #0C0C3A;
            min-width: 160px;
            box-shadow: 0 8px 16px rgba(0,0,0,0.2);
            z-index: 1;
        }
        .dropdown-content a {
            color: #A8E0FF;
            padding: 12px 16px;
            text-decoration: none;
            display: block;
        }
        .dropdown-content a:hover {
            background-color: #555;
        }
        .dropdown:hover .dropdown-content {
            display: block;
        }
        textarea {
            width: 80%;
            height: 300px;
            background-color: #1A2A6C;
            color: #A8E0FF;
            border: 1px solid #A8E0FF;
            padding: 10px;
            resize: none;
            overflow-y: auto; /* Enable scroll bar */
        }
        footer.footer {
            background-color: #0C0C3A;
            width: 80%;
            padding: 10px;
            margin-top: 20px;
            display: flex;
            justify-content: space-between;
        }
        footer.footer button {
            background: none;
            border: none;
            color: #A8E0FF;
            font-size: 16px;
            cursor: pointer;
        }
        footer.footer button:hover {
            text-decoration: underline;
        }

    </style>
</head>
<body>
    <div class="menu-bar">
        <button onclick="newFile()">New</button>
        <button onclick="modifyText()">Modify</button>
        <button onclick="recallPage()">Recall</button>
        <button onclick="savePage()">Save</button>
        <button onclick="insertDateTime()">Insert Date/Time</a>
        <button onclick="spellCheck()">Spell Check</a>
        </div>
    </div>
</div>
    <textarea id="textEditor" placeholder="Type your text here..." spellcheck="true"></textarea>

    <footer class="footer">
        <button onclick="downloadText()">Download Text</button>
        <button onclick="clearText()">Clear Text</button>
        <button onclick="toggleFullScreen()" id="fullScreenToggle">Toggle Fullscreen</button>
    </footer>

    <script>
        function newFile() {
            document.getElementById('textEditor').value = '';
            alert('New page created!');
        }

      function modifyText() {
    var element = document.getElementById("textEditor");
    // Preserve the existing content and update the color to red
    element.style.color = "red";
}

        function recallPage() {
            const fileInput = document.createElement('input');
            fileInput.type = 'file';
            fileInput.accept = '.txt';
            fileInput.addEventListener('change', function() {
                const file = fileInput.files[0];
                const reader = new FileReader();

                reader.onload = function(e) {
                    document.getElementById('textEditor').value = e.target.result;
                };

                if (file) {
                    reader.readAsText(file);
                } else {
                    alert('No file selected!');
                }
            });
            fileInput.click();
        }

        function savePage() {
            const text = document.getElementById('textEditor').value;
            const blob = new Blob([text], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'document.txt';
            a.click();
            URL.revokeObjectURL(url);
            alert('Text saved!');
        }

        function textFormatting() {
            alert('Text formatting (add your logic)!');
        }

        function insertDateTime() {
            const now = new Date();
            document.getElementById('textEditor').value += '\n' + now.toLocaleString();
        }

        function spellCheck() {
            alert('highlight & right-click on the word to spell check...');
        }

        function downloadText() {
            const text = document.getElementById('textEditor').value;
            const blob = new Blob([text], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'document.txt';
            a.click();
            URL.revokeObjectURL(url);
        }

        function clearText() {
            document.getElementById('textEditor').value = '';
            alert('Text cleared!');
        }

        function toggleFullScreen() {
            if (!document.fullscreenElement) {
                document.documentElement.requestFullscreen();
                document.getElementById('fullScreenToggle').innerText = 'Exit Fullscreen';
            } else {
                if (document.exitFullscreen) {
                    document.exitFullscreen();
                    document.getElementById('fullScreenToggle').innerText = 'Toggle Fullscreen';
                }
            }
        }
    </script>
      <br>
	<marquee>atari writing software deluxe retro with asteroids (best view'd on desktop -or typing at text area will start it on mobile), a work in progress, copyright 2024</marquee>
 <style>
    footer.footer {
        background-color: #6A0D91; /* Dark purple background */
        width: 80%;
        padding: 10px;
        margin-top: 20px;
        display: flex;
        justify-content: space-between;
    }
    footer.footer button {
        background: none;
        border: none;
        color: #D0B3F6; /* Light lavender text color */
        font-size: 16px;
        cursor: pointer;
    }
    footer.footer button:hover {
        text-decoration: underline;
        color: #B56AB0; /* Slightly darker lavender on hover */
    }
</style>
	<style>

h1 {
  text-align: center;
  font-size: 1.8em;
  font-family: monospace;
  padding: 0.7em;
}

.keyboard {
    text-align: center;
    font-size: 14px;
    font-family: sans-serif;
}

.keyboard__row {
    display: inline-block;
    height: 3em;
    margin: 0.2em;
}

.keyboard__row--h1 {
    height: 1.7em;
    line-height: 1.4em;
}

.keyboard__row--h3 {
    height: 3.3em;
}

.keyboard__row > * {
    position: relative;
    // background: #333;
    background: #6f00fe;
    text-align: center;
    color: #eee;
    float: left;
    border-radius: 0.3em;
    margin: 0.2em;
    padding: 0.2em;
    width: 3.3em;
    height: 100%;
    box-sizing: border-box;
    cursor: pointer;
    -webkit-user-select: none;
    border: 1px solid #444;
    box-shadow: 0 0.2em 0 0.05em #222;
    border-bottom-color: #555;
}

.keyboard__row--h1 > div {
    width: 3.5em;
}

.keyboard__row > div[data-pressed],
.keyboard__row > div:active {
    background: #6f00fe;
    color: #aaa;
    position: relative;
    top: 0.2em;
    box-shadow: 0 0 0 0.05em black;
}

.key--w3 {
    width: 4.6em;
}

.key--w4 {
    width: 6em;
}

.key--w5 {
    width: 6.5em;
}

.key--w6 {
    width: 8.3em;
}

.key--space {
    width: 18em;
}

.key--double > * {
    padding-top: 0.1em;
}

.key--letter {
    line-height: 2.8em;
}

.key--bottom-left > * {
    position: absolute;
    text-align: left;
    bottom: 0.4em;
    left: 0.4em;
}

.key--bottom-right > * {
    position: absolute;
    text-align: right;
    bottom: 0.4em;
    right: 0.4em;
}

.key--fn > * {
    font-size: 0.6em;
    line-height: 1em;
    padding-top: 1.2em;
    padding-right: 0.2em;
    text-align: right;
    float: right;
}

.key--word > * {
    font-size: 0.8em;
}

.key--arrow--tall > *,
.key--arrow > * {
    font-size: 0.5em;
    line-height: 3em;
}

.key--arrow {
    height: 1.8em;
    margin-top: 1.7em;
    line-height: 0.5em;
}

.key--arrow--tall > * {
    padding-top: 0.2em;
}

.keyboard > .keyboard__row {
    text-align: center;
}
</style>				
<div class="keyboard">
  <div class="keyboard__row keyboard__row--h1">
    <div data-key="27" class="key--word">
      <span>esc</span>
    </div>
    <div data-key="112" class="key--fn">
      <span>F1</span>
    </div>
    <div data-key="113" class="key--fn">
      <span>F2</span>
    </div>
    <div data-key="114" class="key--fn">
      <span>F3</span>
    </div>
    <div data-key="115" class="key--fn">
      <span>F4</span>
    </div>
    <div data-key="116" class="key--fn">
      <span>F5</span>
    </div>
    <div data-key="117" class="key--fn">
      <span>F6</span>
    </div>
    <div data-key="118" class="key--fn">
      <span>F7</span>
    </div>
    <div data-key="119" class="key--fn">
      <span>F8</span>
    </div>
    <div data-key="120" class="key--fn">
      <span>F9</span>
    </div>
    <div data-key="121" class="key--fn">
      <span>F10</span>
    </div>
    <div data-key="122" class="key--fn">
      <span>F11</span>
    </div>
    <div data-key="123" class="key--fn">
      <span>F12</span>
    </div>
    <div data-key="n/a" class="key--word">
      <span>pwr</span>
    </div>
  </div>
  <div class="keyboard__row">
    <div class="key--double" data-key="192">
      <div>~</div>
      <div>`</div>
    </div>
    <div class="key--double" data-key="49">
      <div>!</div>
      <div>1</div>
    </div>
    <div class="key--double" data-key="50">
      <div>@</div>
      <div>2</div>
    </div>
    <div class="key--double" data-key="51">
      <div>#</div>
      <div>3</div>
    </div>
    <div class="key--double" data-key="52">
      <div>$</div>
      <div>4</div>
    </div>
    <div class="key--double" data-key="53">
      <div>%</div>
      <div>5</div>
    </div>
    <div class="key--double" data-key="54">
      <div>^</div>
      <div>6</div>
    </div>
    <div class="key--double" data-key="55">
      <div>&</div>
      <div>7</div>
    </div>
    <div class="key--double" data-key="56">
      <div>*</div>
      <div>8</div>
    </div>
    <div class="key--double" data-key="57">
      <div>(</div>
      <div>9</div>
    </div>
    <div class="key--double" data-key="48">
      <div>)</div>
      <div>0</div>
    </div>
    <div class="key--double" data-key="173">
      <div>_</div>
      <div>-</div>
    </div>
    <div class="key--double" data-key="61">
      <div>+</div>
      <div>=</div>
    </div>
    <div class="key--bottom-right key--word key--w4" data-key="8">
      <span>delete</span>
    </div>
  </div>
  <div class="keyboard__row">
    <div class="key--bottom-left key--word key--w4" data-key="9">
      <span>tab</span>
    </div>
    <div class="key--letter" data-char="Q" data-key="81">Q</div>
    <div class="key--letter" data-char="W" data-key="87">W</div>
    <div class="key--letter" data-char="E" data-key="69">E</div>
    <div class="key--letter" data-char="R" data-key="82">R</div>
    <div class="key--letter" data-char="T" data-key="84">T</div>
    <div class="key--letter" data-char="Y" data-key="89">Y</div>
    <div class="key--letter" data-char="U" data-key="85">U</div>
    <div class="key--letter" data-char="I" data-key="73">I</div>
    <div class="key--letter" data-char="O" data-key="79">O</div>
    <div class="key--letter" data-char="P" data-key="80">P</div>
    <div class="key--double" data-key="219" data-char="{[">
      <div>{</div>
      <div>[</div>
    </div>
    <div class="key--double" data-key="221" data-char="}]">
      <div>}</div>
      <div>]</div>
    </div>
    <div class="key--double" data-key="220" data-char="|\">
      <div>|</div>
      <div>\</div>
    </div>
  </div>
  <div class="keyboard__row">
    <div class="key--bottom-left key--word key--w5" data-key="20">
      <span>caps lock</span>
    </div>
    <div class="key--letter" data-char="A" data-key="65">A</div>
    <div class="key--letter" data-char="S" data-key="83">S</div>
    <div class="key--letter" data-char="D" data-key="68">D</div>
    <div class="key--letter" data-char="F" data-key="70">F</div>
    <div class="key--letter" data-char="G" data-key="71">G</div>
    <div class="key--letter" data-char="H" data-key="72">H</div>
    <div class="key--letter" data-char="J" data-key="74">J</div>
    <div class="key--letter" data-char="K" data-key="75">K</div>
    <div class="key--letter" data-char="L" data-key="76">L</div>
    <div class="key--double" data-key="59">
      <div>:</div>
      <div>;</div>
    </div>
    <div class="key--double" data-key="222">
      <div>"</div>
      <div>'</div>
    </div>
    <div class="key--bottom-right key--word key--w5" data-key="13">
      <span>return</span>
    </div>
  </div>
  <div class="keyboard__row">
    <div class="key--bottom-left key--word key--w6" data-key="16">
      <span>shift</span>
    </div>
    <div class="key--letter" data-char="Z" data-key="90">Z</div>
    <div class="key--letter" data-char="X" data-key="88">X</div>
    <div class="key--letter" data-char="C" data-key="67">C</div>
    <div class="key--letter" data-char="V" data-key="86">V</div>
    <div class="key--letter" data-char="B" data-key="66">B</div>
    <div class="key--letter" data-char="N" data-key="78">N</div>
    <div class="key--letter" data-char="M" data-key="77">M</div>
    <div class="key--double" data-key="188">
      <div>&lt;</div>
      <div>,</div>
    </div>
    <div class="key--double" data-key="190">
      <div>&gt;</div>
      <div>.</div>
    </div>
    <div class="key--double" data-key="191">
      <div>?</div>
      <div>/</div>
    </div>
    <div class="key--bottom-right key--word key--w6" data-key="16-R">
      <span>shift</span>
    </div>
  </div>
  <div class="keyboard__row keyboard__row--h3">
    <div class="key--bottom-left key--word">
      <span>fn</span>
    </div>
    <div class="key--bottom-left key--word key--w1" data-key="17">
      <span>control</span>
    </div>
    <div class="key--bottom-left key--word key--w1" data-key="18">
      <span>option</span>
    </div>
    <div class="key--bottom-right key--word key--w3" data-key="224">
      <span>command</span>
    </div>
    <div class="key--double key--right key--space" data-key="32" data-char=" ">
      &nbsp;
    </div>
    <div class="key--bottom-left key--word key--w3" data-key="93-R">
      <span>command</span>
    </div>
    <div class="key--bottom-left key--word key--w1" data-key="18-R">
      <span>option</span>
    </div>
    <div data-key="37" class="key--arrow">
      <span>&#9664;</span>
    </div>
    <div class="key--arrow key--arrow--tall" data-key="38">
      <div>&#9650;</div>
<!--      <div>&#9660;</div> -->
    </div>
    
    <div data-key="40" class="key--arrow">
      <span>â–¼</span>
    </div>    
        
    <div data-key="39" class="key--arrow">
      <span>&#9654;</span>
    </div>
        
  </div>
</div>


<audio data-key='8' src='https://cdn.jsdelivr.net/gh/linuxguist/keyboard@main/soundsiv/8.mp3'></audio>
<audio data-key='9' src='https://cdn.jsdelivr.net/gh/linuxguist/keyboard@main/soundsiv/9.mp3'></audio>
<audio data-key='13' src='https://cdn.jsdelivr.net/gh/linuxguist/keyboard@main/soundsiv/13.mp3'></audio>
<audio data-key='16' src='https://cdn.jsdelivr.net/gh/linuxguist/keyboard@main/soundsiv/16.mp3'></audio>
<audio data-key='17' src='https://cdn.jsdelivr.net/gh/linuxguist/keyboard@main/soundsiv/17.mp3'></audio>
<audio data-key='18' src='https://cdn.jsdelivr.net/gh/linuxguist/keyboard@main/soundsiv/18.mp3'></audio>
<audio data-key='19' src='https://cdn.jsdelivr.net/gh/linuxguist/keyboard@main/soundsiv/19.mp3'></audio>
<audio data-key='20' src='https://cdn.jsdelivr.net/gh/linuxguist/keyboard@main/soundsiv/20.mp3'></audio>
<audio data-key='27' src='https://cdn.jsdelivr.net/gh/linuxguist/keyboard@main/soundsiv/27.mp3'></audio>
<audio data-key='32' src='https://cdn.jsdelivr.net/gh/linuxguist/keyboard@main/soundsiv/32.mp3'></audio>
<audio data-key='33' src='https://cdn.jsdelivr.net/gh/linuxguist/keyboard@main/soundsiv/33.mp3'></audio>
<audio data-key='34' src='https://cdn.jsdelivr.net/gh/linuxguist/keyboard@main/soundsiv/34.mp3'></audio>
<audio data-key='35' src='https://cdn.jsdelivr.net/gh/linuxguist/keyboard@main/soundsiv/35.mp3'></audio>
<audio data-key='36' src='https://cdn.jsdelivr.net/gh/linuxguist/keyboard@main/soundsiv/36.mp3'></audio>
<audio data-key='37' src='https://cdn.jsdelivr.net/gh/linuxguist/keyboard@main/soundsiv/37.mp3'></audio>
<audio data-key='38' src='https://cdn.jsdelivr.net/gh/linuxguist/keyboard@main/soundsiv/38.mp3'></audio>
<audio data-key='39' src='https://cdn.jsdelivr.net/gh/linuxguist/keyboard@main/soundsiv/39.mp3'></audio>
<audio data-key='40' src='https://cdn.jsdelivr.net/gh/linuxguist/keyboard@main/soundsiv/40.mp3'></audio>
<audio data-key='41' src='https://cdn.jsdelivr.net/gh/linuxguist/keyboard@main/soundsiv/41.mp3'></audio>
<audio data-key='42' src='https://cdn.jsdelivr.net/gh/linuxguist/keyboard@main/soundsiv/42.mp3'></audio>
<audio data-key='43' src='https://cdn.jsdelivr.net/gh/linuxguist/keyboard@main/soundsiv/43.mp3'></audio>
<audio data-key='44' src='https://cdn.jsdelivr.net/gh/linuxguist/keyboard@main/soundsiv/44.mp3'></audio>
<audio data-key='45' src='https://cdn.jsdelivr.net/gh/linuxguist/keyboard@main/soundsiv/45.mp3'></audio>
<audio data-key='46' src='https://cdn.jsdelivr.net/gh/linuxguist/keyboard@main/soundsiv/46.mp3'></audio>
<audio data-key='47' src='https://cdn.jsdelivr.net/gh/linuxguist/keyboard@main/soundsiv/47.mp3'></audio>
<audio data-key='48' src='https://cdn.jsdelivr.net/gh/linuxguist/keyboard@main/soundsiv/48.mp3'></audio>
<audio data-key='49' src='https://cdn.jsdelivr.net/gh/linuxguist/keyboard@main/soundsiv/49.mp3'></audio>
<audio data-key='50' src='https://cdn.jsdelivr.net/gh/linuxguist/keyboard@main/soundsiv/50.mp3'></audio>
<audio data-key='51' src='https://cdn.jsdelivr.net/gh/linuxguist/keyboard@main/soundsiv/51.mp3'></audio>
<audio data-key='52' src='https://cdn.jsdelivr.net/gh/linuxguist/keyboard@main/soundsiv/52.mp3'></audio>
<audio data-key='53' src='https://cdn.jsdelivr.net/gh/linuxguist/keyboard@main/soundsiv/53.mp3'></audio>
<audio data-key='54' src='https://cdn.jsdelivr.net/gh/linuxguist/keyboard@main/soundsiv/54.mp3'></audio>
<audio data-key='55' src='https://cdn.jsdelivr.net/gh/linuxguist/keyboard@main/soundsiv/55.mp3'></audio>
<audio data-key='56' src='https://cdn.jsdelivr.net/gh/linuxguist/keyboard@main/soundsiv/56.mp3'></audio>
<audio data-key='57' src='https://cdn.jsdelivr.net/gh/linuxguist/keyboard@main/soundsiv/57.mp3'></audio>
<audio data-key='58' src='https://cdn.jsdelivr.net/gh/linuxguist/keyboard@main/soundsiv/58.mp3'></audio>
<audio data-key='59' src='https://cdn.jsdelivr.net/gh/linuxguist/keyboard@main/soundsiv/59.mp3'></audio>
<audio data-key='60' src='https://cdn.jsdelivr.net/gh/linuxguist/keyboard@main/soundsiv/60.mp3'></audio>
<audio data-key='61' src='https://cdn.jsdelivr.net/gh/linuxguist/keyboard@main/soundsiv/61.mp3'></audio>
<audio data-key='62' src='https://cdn.jsdelivr.net/gh/linuxguist/keyboard@main/soundsiv/62.mp3'></audio>
<audio data-key='63' src='https://cdn.jsdelivr.net/gh/linuxguist/keyboard@main/soundsiv/63.mp3'></audio>
<audio data-key='64' src='https://cdn.jsdelivr.net/gh/linuxguist/keyboard@main/soundsiv/64.mp3'></audio>
<audio data-key='65' src='https://cdn.jsdelivr.net/gh/linuxguist/keyboard@main/soundsiv/65.mp3'></audio>
<audio data-key='66' src='https://cdn.jsdelivr.net/gh/linuxguist/keyboard@main/soundsiv/66.mp3'></audio>
<audio data-key='67' src='https://cdn.jsdelivr.net/gh/linuxguist/keyboard@main/soundsiv/67.mp3'></audio>
<audio data-key='68' src='https://cdn.jsdelivr.net/gh/linuxguist/keyboard@main/soundsiv/68.mp3'></audio>
<audio data-key='69' src='https://cdn.jsdelivr.net/gh/linuxguist/keyboard@main/soundsiv/69.mp3'></audio>
<audio data-key='70' src='https://cdn.jsdelivr.net/gh/linuxguist/keyboard@main/soundsiv/70.mp3'></audio>
<audio data-key='71' src='https://cdn.jsdelivr.net/gh/linuxguist/keyboard@main/soundsiv/71.mp3'></audio>
<audio data-key='72' src='https://cdn.jsdelivr.net/gh/linuxguist/keyboard@main/soundsiv/72.mp3'></audio>
<audio data-key='73' src='https://cdn.jsdelivr.net/gh/linuxguist/keyboard@main/soundsiv/73.mp3'></audio>
<audio data-key='74' src='https://cdn.jsdelivr.net/gh/linuxguist/keyboard@main/soundsiv/74.mp3'></audio>
<audio data-key='75' src='https://cdn.jsdelivr.net/gh/linuxguist/keyboard@main/soundsiv/75.mp3'></audio>
<audio data-key='76' src='https://cdn.jsdelivr.net/gh/linuxguist/keyboard@main/soundsiv/76.mp3'></audio>
<audio data-key='77' src='https://cdn.jsdelivr.net/gh/linuxguist/keyboard@main/soundsiv/77.mp3'></audio>
<audio data-key='78' src='https://cdn.jsdelivr.net/gh/linuxguist/keyboard@main/soundsiv/78.mp3'></audio>
<audio data-key='79' src='https://cdn.jsdelivr.net/gh/linuxguist/keyboard@main/soundsiv/79.mp3'></audio>
<audio data-key='80' src='https://cdn.jsdelivr.net/gh/linuxguist/keyboard@main/soundsiv/80.mp3'></audio>
<audio data-key='81' src='https://cdn.jsdelivr.net/gh/linuxguist/keyboard@main/soundsiv/81.mp3'></audio>
<audio data-key='82' src='https://cdn.jsdelivr.net/gh/linuxguist/keyboard@main/soundsiv/82.mp3'></audio>
<audio data-key='83' src='https://cdn.jsdelivr.net/gh/linuxguist/keyboard@main/soundsiv/83.mp3'></audio>
<audio data-key='84' src='https://cdn.jsdelivr.net/gh/linuxguist/keyboard@main/soundsiv/84.mp3'></audio>
<audio data-key='85' src='https://cdn.jsdelivr.net/gh/linuxguist/keyboard@main/soundsiv/85.mp3'></audio>
<audio data-key='86' src='https://cdn.jsdelivr.net/gh/linuxguist/keyboard@main/soundsiv/86.mp3'></audio>
<audio data-key='87' src='https://cdn.jsdelivr.net/gh/linuxguist/keyboard@main/soundsiv/87.mp3'></audio>
<audio data-key='88' src='https://cdn.jsdelivr.net/gh/linuxguist/keyboard@main/soundsiv/88.mp3'></audio>
<audio data-key='89' src='https://cdn.jsdelivr.net/gh/linuxguist/keyboard@main/soundsiv/89.mp3'></audio>
<audio data-key='90' src='https://cdn.jsdelivr.net/gh/linuxguist/keyboard@main/soundsiv/90.mp3'></audio>
<audio data-key='91' src='https://cdn.jsdelivr.net/gh/linuxguist/keyboard@main/soundsiv/91.mp3'></audio>
<audio data-key='92' src='https://cdn.jsdelivr.net/gh/linuxguist/keyboard@main/soundsiv/92.mp3'></audio>
<audio data-key='93' src='https://cdn.jsdelivr.net/gh/linuxguist/keyboard@main/soundsiv/93.mp3'></audio>
<audio data-key='94' src='https://cdn.jsdelivr.net/gh/linuxguist/keyboard@main/soundsiv/94.mp3'></audio>
<audio data-key='95' src='https://cdn.jsdelivr.net/gh/linuxguist/keyboard@main/soundsiv/95.mp3'></audio>
<audio data-key='96' src='https://cdn.jsdelivr.net/gh/linuxguist/keyboard@main/soundsiv/96.mp3'></audio>
<audio data-key='97' src='https://cdn.jsdelivr.net/gh/linuxguist/keyboard@main/soundsiv/97.mp3'></audio>
<audio data-key='98' src='https://cdn.jsdelivr.net/gh/linuxguist/keyboard@main/soundsiv/98.mp3'></audio>
<audio data-key='99' src='https://cdn.jsdelivr.net/gh/linuxguist/keyboard@main/soundsiv/99.mp3'></audio>
<audio data-key='100' src='https://cdn.jsdelivr.net/gh/linuxguist/keyboard@main/soundsiv/100.mp3'></audio>
<audio data-key='101' src='https://cdn.jsdelivr.net/gh/linuxguist/keyboard@main/soundsiv/101.mp3'></audio>
<audio data-key='102' src='https://cdn.jsdelivr.net/gh/linuxguist/keyboard@main/soundsiv/102.mp3'></audio>
<audio data-key='103' src='https://cdn.jsdelivr.net/gh/linuxguist/keyboard@main/soundsiv/103.mp3'></audio>
<audio data-key='104' src='https://cdn.jsdelivr.net/gh/linuxguist/keyboard@main/soundsiv/104.mp3'></audio>
<audio data-key='105' src='https://cdn.jsdelivr.net/gh/linuxguist/keyboard@main/soundsiv/105.mp3'></audio>
<audio data-key='106' src='https://cdn.jsdelivr.net/gh/linuxguist/keyboard@main/soundsiv/106.mp3'></audio>
<audio data-key='107' src='https://cdn.jsdelivr.net/gh/linuxguist/keyboard@main/soundsiv/107.mp3'></audio>
<audio data-key='110' src='https://cdn.jsdelivr.net/gh/linuxguist/keyboard@main/soundsiv/110.mp3'></audio>
<audio data-key='111' src='https://cdn.jsdelivr.net/gh/linuxguist/keyboard@main/soundsiv/111.mp3'></audio>
<audio data-key='112' src='https://cdn.jsdelivr.net/gh/linuxguist/keyboard@main/soundsiv/112.mp3'></audio>
<audio data-key='113' src='https://cdn.jsdelivr.net/gh/linuxguist/keyboard@main/soundsiv/113.mp3'></audio>
<audio data-key='114' src='https://cdn.jsdelivr.net/gh/linuxguist/keyboard@main/soundsiv/114.mp3'></audio>
<audio data-key='115' src='https://cdn.jsdelivr.net/gh/linuxguist/keyboard@main/soundsiv/115.mp3'></audio>
<audio data-key='116' src='https://cdn.jsdelivr.net/gh/linuxguist/keyboard@main/soundsiv/116.mp3'></audio>
<audio data-key='117' src='https://cdn.jsdelivr.net/gh/linuxguist/keyboard@main/soundsiv/117.mp3'></audio>
<audio data-key='118' src='https://cdn.jsdelivr.net/gh/linuxguist/keyboard@main/soundsiv/118.mp3'></audio>
<audio data-key='119' src='https://cdn.jsdelivr.net/gh/linuxguist/keyboard@main/soundsiv/119.mp3'></audio>
<audio data-key='120' src='https://cdn.jsdelivr.net/gh/linuxguist/keyboard@main/soundsiv/120.mp3'></audio>
<audio data-key='121' src='https://cdn.jsdelivr.net/gh/linuxguist/keyboard@main/soundsiv/121.mp3'></audio>
<audio data-key='122' src='https://cdn.jsdelivr.net/gh/linuxguist/keyboard@main/soundsiv/122.mp3'></audio>
<audio data-key='123' src='https://cdn.jsdelivr.net/gh/linuxguist/keyboard@main/soundsiv/123.mp3'></audio>
<audio data-key='124' src='https://cdn.jsdelivr.net/gh/linuxguist/keyboard@main/soundsiv/124.mp3'></audio>
<audio data-key='125' src='https://cdn.jsdelivr.net/gh/linuxguist/keyboard@main/soundsiv/125.mp3'></audio>
<audio data-key='144' src='https://cdn.jsdelivr.net/gh/linuxguist/keyboard@main/soundsiv/144.mp3'></audio>
<audio data-key='145' src='https://cdn.jsdelivr.net/gh/linuxguist/keyboard@main/soundsiv/145.mp3'></audio>
  
<audio data-key='173' src='https://cdn.jsdelivr.net/gh/linuxguist/keyboard@main/soundsiv/109.mp3'></audio>  
  
<audio data-key='188' src='https://cdn.jsdelivr.net/gh/linuxguist/keyboard@main/soundsiv/44.mp3'></audio>
<audio data-key='190' src='https://cdn.jsdelivr.net/gh/linuxguist/keyboard@main/soundsiv/46.mp3'></audio>  
<audio data-key='191' src='https://cdn.jsdelivr.net/gh/linuxguist/keyboard@main/soundsiv/47.mp3'></audio>  
  
  
<audio data-key='189' src='https://cdn.jsdelivr.net/gh/linuxguist/keyboard@main/soundsiv/189.mp3'></audio>
<audio data-key='192' src='https://cdn.jsdelivr.net/gh/linuxguist/keyboard@main/soundsiv/192.mp3'></audio>
<audio data-key='219' src='https://cdn.jsdelivr.net/gh/linuxguist/keyboard@main/soundsiv/219.mp3'></audio>
<audio data-key='220' src='https://cdn.jsdelivr.net/gh/linuxguist/keyboard@main/soundsiv/92.mp3'></audio>  
<audio data-key='221' src='https://cdn.jsdelivr.net/gh/linuxguist/keyboard@main/soundsiv/221.mp3'></audio>
<audio data-key='222' src='https://cdn.jsdelivr.net/gh/linuxguist/keyboard@main/soundsiv/222.mp3'></audio>

<audio data-key='224' src='https://cdn.jsdelivr.net/gh/linuxguist/keyboard@main/soundsiv/224.mp3'></audio>  

<script>
  function removeTransition(e) {
    if (e.propertyName !== 'transform') return;
    e.target.classList.remove('playing');
  }

  function playSound(e) {
    // console.log(${e.keyCode});
    const audio = document.querySelector(`audio[data-key="${e.keyCode}"]`);
    const key = document.querySelector(`div[data-key="${e.keyCode}"]`);
    if (!audio) return;

    key.classList.add('playing');
    audio.currentTime = 0;
    audio.play();
  }

  const keys = Array.from(document.querySelectorAll('.key'));
  keys.forEach(key => key.addEventListener('transitionend', removeTransition));
  window.addEventListener('keydown', playSound);
</script>
	
	<script>
		function getKey (e) {
            var location = e.location;
            var selector;
            if (location === KeyboardEvent.DOM_KEY_LOCATION_RIGHT) {
                selector = ['[data-key="' + e.keyCode + '-R"]']
            } else {
                var code = e.keyCode || e.which;
                selector = [
                    '[data-key="' + code + '"]',
                    '[data-char*="' + encodeURIComponent(String.fromCharCode(code)) + '"]'
                ].join(',');
            }
            return document.querySelector(selector);
        }

        function pressKey (char) {
            var key = document.querySelector('[data-char*="' + char.toUpperCase() + '"]');
            if (!key) {
                return console.warn('No key for', char);
            }
            key.setAttribute('data-pressed', 'on');
            setTimeout(function () {
                key.removeAttribute('data-pressed');
            }, 200);
        }

        var h1 = document.querySelector('h1');
        var originalQueue = h1.innerHTML;
        var queue = h1.innerHTML;

        function next () {
            var c = queue[0];
            queue = queue.slice(1);
            h1.innerHTML = originalQueue.slice(0, originalQueue.length - queue.length);
            pressKey(c);
            if (queue.length) {
                setTimeout(next, Math.random() * 200 + 50);
            }
        }

        h1.innerHTML = "&nbsp;";
        setTimeout(next, 500);

        document.body.addEventListener('keydown', function (e) {
            var key = getKey(e);
            if (!key) {
                return console.warn('No key for', e.keyCode);
            }

            key.setAttribute('data-pressed', 'on');
        });

        document.body.addEventListener('keyup', function (e) {
            var key = getKey(e);
            key && key.removeAttribute('data-pressed');
        });

        function size () {
            var size = keyboard.parentNode.clientWidth / 90;
            keyboard.style.fontSize = size + 'px';
            console.log(size);
        }

        var keyboard = document.querySelector('.keyboard');
        window.addEventListener('resize', function (e) {
            size();
        });
        size();
	</script>	
</body>
</html>
