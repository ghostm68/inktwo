<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"/>
 
    <title>Inkrealm</title>
    <style>
        * {
            box-sizing: border-box;
            padding: 0;
            margin: 0;
        }
        body {
            font-family: 'Helvetica Neue', Arial, sans-serif;
            background-color: #000;
            color: #fff;
            overflow-x: hidden;
            position: relative;
        }
        /* Noise and scanlines overlay */
        .noise-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1000;
            mix-blend-mode: overlay;
            opacity: 0.1;
            background-image:
                radial-gradient(ellipse at 20% 20%, #fff 0%, transparent 30%),
                linear-gradient(to bottom, transparent 49%, rgba(255, 255, 255, 0.1) 50%, transparent 51%);
            background-size: 100px 100px, 100% 2px;
        }
        /* Scanlines animation */
        .scanlines {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1001;
            background: repeating-linear-gradient(
                to bottom,
                transparent,
                transparent 1px,
                rgba(255, 255, 255, 0.05) 1px,
                rgba(255, 255, 255, 0.05) 2px
            );
            animation: scanlineMove 0.1s linear infinite;
            opacity: 0.3;
        }
        @keyframes scanlineMove {
            0% { transform: translateY(-100%); }
            100% { transform: translateY(100%); }
        }
        .header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background-color: rgba(0, 0, 0, 0.9);
            padding: 1rem 2rem;
            z-index: 1000;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .logo {
            display: flex;
            align-items: center;
        }
        .logo svg {
            height: 40px;
            fill: white;
        }
        .nav {
            display: flex;
            gap: 2rem;
        }
        .nav a {
            color: #fff;
            text-decoration: none;
            font-size: 1rem;
            position: relative;
        }
        .main {
            margin-top: 80px;
            min-height: 100vh;
            position: relative;
        }
        .splash {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            background-color: #000;
            z-index: 100;
        }
        .scrolling-background {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            z-index: -1;
        }
        .scrolling-text {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            animation: scroll 20s linear infinite;
            font-size: 2rem;
            color: #ccc;
            white-space: nowrap;
        }
        @keyframes scroll {
            0% { transform: translateY(100%); }
            100% { transform: translateY(-100%); }
        }
        .loading-overlay {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            width: 100%;
            height: 100%;
        }
        .loading-spinner {
            width: 50px;
            height: 50px;
            border: 5px solid #fff;
            border-top: 5px solid transparent;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-bottom: 1rem;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        .content {
            padding: 2rem;
            z-index: 10;
            position: relative;
        }
        /* Section background images */
        #about {
            background: linear-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.7)),
                        url('https://via.placeholder.com/1920x1080?text=About+Background') center/cover no-repeat;
            padding: 4rem 2rem;
            margin-bottom: 0;
        }
        #works {
            background: linear-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.7)),
                        url('https://via.placeholder.com/1920x1080?text=Works+Background') center/cover no-repeat;
            padding: 4rem 2rem;
            margin-bottom: 0;
        }
        #contact {
            background: linear-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.7)),
                        url('https://via.placeholder.com/1920x1080?text=Contact+Background') center/cover no-repeat;
            padding: 4rem 2rem;
            margin-bottom: 0;
        }
        .section {
            margin-bottom: 4rem;
        }
        .section h2,
        .section p,
        .card {
            position: relative;
            z-index: 1;
        }
        .section h2 {
            font-size: 2.5rem;
            margin-bottom: 1rem;
        }
        .section p {
            font-size: 1.1rem;
            line-height: 1.6;
        }
        /* Original scramble effect */
               .scramble-link {
            position: relative;
            display: inline-block;
        }
        .scramble-link::after {
            content: attr(data-text);
            position: absolute;
            left: 0;
            top: 0;
            color: #fff;
            width: 100%;
            height: 100%;
            overflow: hidden;
        }
        .scramble-link:hover::after {
            animation: scramble 0.5s forwards;
        }
        @keyframes scramble {
            30% {
                transform: translateY(100%);
            }
            60% {
                transform: translateY(0);
            }
        }
        .works-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin-top: 2rem;
        }
        .work-item {
            background-color: #111;
            padding: 1rem;
            border-radius: 5px;
        }
        .work-item img {
            width: 100%;
            height: 200px;
            object-fit: cover;
            border-radius: 5px;
        }
        /* Footer Styles */
        .footer {
            background-color: #111;
            padding: 2rem;
            margin-top: 4rem;
        }
        .footer__inner {
            max-width: 1200px;
            margin: 0 auto;
        }
        .footer__top {
            margin-bottom: 2rem;
        }
        .footer__top_links {
            display: flex;
            gap: 4rem;
            margin-bottom: 3rem;
        }
        .footer__column {
            flex: 1;
        }
        .footer__pageLink {
            display: block;
            color: #fff;
            text-decoration: none;
            margin-bottom: 0.5rem;
            font-size: 0.9rem;
        }
        .footer__linksTitle {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 1rem;
            font-size: 0.9rem;
        }
        .footer__linkList {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }
        .footer__link {
            color: #fff;
            text-decoration: none;
            font-size: 0.9rem;
        }
        .footer__social {
            display: flex;
            gap: 1rem;
            margin-top: 0.5rem;
        }
        .footer__top_contact {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 2rem;
        }
        .footer__contact {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }
        .footer__contact_button {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            color: #fff;
            text-decoration: none;
            font-size: 0.9rem;
        }
        .footer__privacyLicense {
            display: flex;
            gap: 2rem;
            font-size: 0.8rem;
        }
        .footer__privacyLicense_link {
            color: #fff;
            text-decoration: none;
        }
        .footer__copyright {
            font-size: 0.8rem;
            margin-bottom: 2rem;
        }
        .footer__logo {
            margin-top: 2rem;
        }
        .footer__logo svg {
            height: 30px;
            fill: white;
        }
        /* Card Grid */
        .cards-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 2rem;
            margin-top: 2rem;
        }
        .card {
            background-color: #111;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
            transition: transform 0.3s ease;
            cursor: pointer;
        }
        .card:hover {
            transform: translateY(-5px);
        }
        .card img {
            width: 100%;
            height: 200px;
            object-fit: cover;
        }
        .card-content {
            padding: 1rem;
        }
        .card h3 {
            margin-bottom: 0.5rem;
        }
        /* Modal Styles */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            display: none;
            z-index: 2000;
            opacity: 0;
        }
        .modal-container {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: #222;
            border-radius: 10px;
            padding: 2rem;
            max-width: 800px;
            width: 90%;
            display: none;
            opacity: 0;
            scale: 0.8;
            z-index: 2001;
        }
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }
        .modal-title {
            font-size: 1.5rem;
        }
        .close-modal {
            background: none;
            border: none;
            color: #fff;
            font-size: 1.5rem;
            cursor: pointer;
        }
        .modal-content {
            position: relative;
            width: 100%;
            height: 0;
            padding-bottom: 56.25%; /* 16:9 Aspect Ratio */
            overflow: hidden;
            background-color: #000;
            border-radius: 5px;
        }
        .modal-iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: none;
        }
        .loading-indicator {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            display: none;
        }
        /* Responsive footer */
        @media (max-width: 768px) {
            .footer__top_links {
                flex-direction: column;
                gap: 2rem;
            }
            .footer__top_contact {
                flex-direction: column;
                gap: 2rem;
            }
            .footer__privacyLicense {
                flex-direction: column;
                gap: 1rem;
            }
        /* Add this to your <style> block or CSS file */

.Footer__pageLink,
.Footer__link,
.Footer__contact_button_text {
  /* This is crucial for the rotation to work */
  display: inline-block; 
  /* Fast transition for the spin */
  transition: transform 0.25s ease-out; 
}

.Footer__pageLink:hover,
.Footer__link:hover,
.Footer__contact_button_text:hover {
  /* The quick 360-degree rotation */
  transform: rotate(360deg); 
}
               } 
    </style>
</head>
<body>
    <!-- Noise and static scanlines overlay -->
    <div class="noise-overlay"></div>
    <div class="scanlines"></div>

    <div class="splash" id="splash">
        <div class="loading-overlay">
            <div class="loading-spinner"></div>
            <h1>Inkrealm</h1>
            <p>Loading...</p>
        </div>
        <div class="scrolling-background">
            <div class="scrolling-text">
                Welcome to Inkrealm... Welcome to Inkrealm... Welcome to Inkrealm...
            </div>
        </div>
    </div>
    <header class="header">
        <div class="logo">
            <svg viewBox="0 0 100 40">
                <text x="10" y="30" font-size="30" font-weight="bold">Inkrealm</text>
            </svg>
        </div>
        <nav class="nav">
            <a href="#about" class="scramble-link" data-text="About">About</a>
            <a href="#works" class="scramble-link" data-text="Works">Works</a>
            <a href="#contact" class="scramble-link" data-text="Contact">Contact</a>
        </nav>
    </header>
    <main class="main">
        <div class="content">
            <section id="about" class="section">
                <h2>About</h2>
                <p>Inkrealm is dedicated to exploring the world of literature. We bring you the best of classic and contemporary works, with a focus on immersive storytelling and thought-provoking narratives.</p>
            </section>
            <section id="works" class="section">
                <h2>Featured Works</h2>
                <div class="cards-grid">
                    <div class="card" data-url="https://example.com/work1" data-title="Classic Literature">
                        <img src="https://via.placeholder.com/300x200?text=Classic+Literature" alt="Classic Literature">
                        <div class="card-content">
                            <h3>Classic Literature</h3>
                            <p>Explore timeless works that have shaped our cultural heritage.</p>
                        </div>
                    </div>
                    <div class="card" data-url="https://example.com/work2" data-title="Modern Bestsellers">
                        <img src="https://via.placeholder.com/300x200?text=Modern+Bestsellers" alt="Modern Bestsellers">
                        <div class="card-content">
                            <h3>Modern Bestsellers</h3>
                            <p>Discover the latest bestsellers and contemporary masterpieces.</p>
                        </div>
                    </div>
                    <div class="card" data-url="https://example.com/work3" data-title="Poetry Collection">
                        <img src="https://via.placeholder.com/300x200?text=Poetry+Collection" alt="Poetry Collection">
                        <div class="card-content">
                            <h3>Poetry Collection</h3>
                            <p>Immerse yourself in the world of poetry with our curated collection.</p>
                        </div>
                    </div>
                    <div class="card" data-url="https://example.com/work4" data-title="Historical Novels">
                        <img src="https://via.placeholder.com/300x200?text=Historical+Novels" alt="Historical Novels">
                        <div class="card-content">
                            <h3>Historical Novels</h3>
                            <p>Journey through different eras with our historical fiction selection.</p>
                        </div>
                    </div>
                    <div class="card" data-url="https://example.com/work5" data-title="Sci-Fi Adventures">
                        <img src="https://via.placeholder.com/300x200?text=Sci-Fi+Adventures" alt="Sci-Fi Adventures">
                        <div class="card-content">
                            <h3>Sci-Fi Adventures</h3>
                            <p>Explore futuristic worlds and technological marvels.</p>
                        </div>
                    </div>
                    <div class="card" data-url="https://example.com/work6" data-title="Fantasy Realms">
                        <img src="https://via.placeholder.com/300x200?text=Fantasy+Realms" alt="Fantasy Realms">
                        <div class="card-content">
                            <h3>Fantasy Realms</h3>
                            <p>Escape to magical worlds filled with mythical creatures and epic quests.</p>
                        </div>
                    </div>
                </div>
            </section>
            <section id="contact" class="section">
                <h2>Contact</h2>
                <p>Get in touch with us to share your thoughts, suggestions, or to learn more about our literary events and workshops.</p>
            </section>
        </div>
    </main>
    <footer class="footer">
        <div class="footer__inner">
            <div class="footer__top">
                <div class="footer__top_links">
                    <div class="footer__column">
                        <a href="#" class="footer__pageLink scramble-link" data-text="Top">Top</a>
                        <a href="#" class="footer__pageLink scramble-link" data-text="News">News</a>
                        <a href="#" class="footer__pageLink scramble-link" data-text="Works">Works</a>
                    </div>
                    <div class="footer__column">
                        <a href="#" class="footer__pageLink scramble-link" data-text="About">About</a>
                        <a href="#" class="footer__pageLink scramble-link" data-text="stellla">stellla</a>
                        <a href="#" class="footer__pageLink scramble-link" data-text="Contact">Contact</a>
                    </div>
                    <div class="footer__column" data-type="links">
                        <div class="footer__linksTitle">
                            Links
                            <span class="footer__linksTitle_arrow">
                                <svg width="11" height="9" viewBox="0 0 11 9" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M5.44831 8.99974L0.612305 0.635742H10.2723L5.44831 8.99974Z" fill="white"></path>
                                </svg>
                            </span>
                        </div>
                        <div class="footer__linkList">
                            <a href="#" class="footer__link scramble-link" data-text="TECH BLOG">TECH BLOG</a>
                            <a href="#" class="footer__link scramble-link" data-text="note">note</a>
                            <div class="footer__social">
                                <a href="#" class="footer__link scramble-link" data-text="X">X</a>
                                <a href="#" class="footer__link scramble-link" data-text="YouTube">YouTube</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="footer__top_contact">
                <div class="footer__contact">
                    <a href="#" class="footer__contact_button">
                        <span class="footer__contact_button_text scramble-link" data-text="Contact">Contact</span>
                        <span class="footer__contact_button_icon">
                            <svg width="12" height="12" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <g clip-path="url(#clip0_429_190)">
                                    <path fill-rule="evenodd" clip-rule="evenodd" d="M1.57516 13.1495L11.8192 2.91846C11.7272 3.54646 11.6712 4.34046 11.6712 5.13446C11.6712 5.87346 11.7082 6.61246 11.8192 7.29546L12.9472 7.01846C12.8552 6.33546 12.8182 5.61446 12.8182 4.87646C12.8182 3.41746 12.9842 1.90346 13.2612 0.647461C12.0042 0.924461 10.4882 1.09046 9.02716 1.09046C8.28816 1.09046 7.56616 1.05346 6.88216 0.961461L6.60516 2.08746C7.28916 2.19846 8.02916 2.23546 8.76816 2.23546C9.56316 2.23546 10.3582 2.18046 10.9872 2.08746L0.743164 12.3185L1.57516 13.1495Z" fill="#7E7E7E"></path>
                                </g>
                                <defs>
                                    <clipPath id="clip0_429_190">
                                        <rect width="14" height="14" fill="white"></rect>
                                    </clipPath>
                                </defs>
                            </svg>
                        </span>
                    </a>
                    <a href="#" class="footer__contact_button">
                        <span class="footer__contact_button_text scramble-link" data-text="Recruit">Recruit</span>
                        <span class="footer__contact_button_icon">
                            <svg width="12" height="12" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <g clip-path="url(#clip0_429_190)">
                                    <path fill-rule="evenodd" clip-rule="evenodd" d="M1.57516 13.1495L11.8192 2.91846C11.7272 3.54646 11.6712 4.34046 11.6712 5.13446C11.6712 5.87346 11.7082 6.61246 11.8192 7.29546L12.9472 7.01846C12.8552 6.33546 12.8182 5.61446 12.8182 4.87646C12.8182 3.41746 12.9842 1.90346 13.2612 0.647461C12.0042 0.924461 10.4882 1.09046 9.02716 1.09046C8.28816 1.09046 7.56616 1.05346 6.88216 0.961461L6.60516 2.08746C7.28916 2.19846 8.02916 2.23546 8.76816 2.23546C9.56316 2.23546 10.3582 2.18046 10.9872 2.08746L0.743164 12.3185L1.57516 13.1495Z" fill="#7E7E7E"></path>
                                </g>
                                <defs>
                                    <clipPath id="clip0_429_190">
                                        <rect width="14" height="14" fill="white"></rect>
                                    </clipPath>
                                </defs>
                            </svg>
                        </span>
                    </a>
                </div>
                <div class="footer__privacyLicense">
                    <a href="#" class="footer__privacyLicense_link scramble-link" data-text="Privacy Policy">Privacy Policy</a>
                    <a href="#" class="footer__privacyLicense_link scramble-link" data-text="License">License</a>
                </div>
            </div>
            <div class="footer__copyright">
                ©2025 Inkrealm, inc.
            </div>
            <div class="footer__logo">
                <svg viewBox="0 0 100 40">
                    <text x="10" y="30" font-size="30" font-weight="bold">Inkrealm</text>
                </svg>
            </div>
        </div>
    </footer>

    <!-- Modal Elements -->
    <div class="modal-overlay" id="modalOverlay">
        <div class="modal-container" id="modalContainer">
            <div class="modal-header">
                <h2 class="modal-title" id="modalTitle">Modal Title</h2>
                <button class="close-modal" id="closeModalBtn">&times;</button>
            </div>
            <div class="modal-content">
                <div class="loading-indicator" id="loadingIndicator">
                    <div class="loading-spinner"></div>
                    <p>Loading...</p>
                </div>
                <iframe class="modal-iframe" id="modalIframe" frameborder="0" allowfullscreen></iframe>
            </div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.4/gsap.min.js"></script>
    <script>
        // Hide splash screen after loading
        setTimeout(function() {
            document.getElementById('splash').style.display = 'none';
        }, 3000);

        // Get modal elements
        const modalOverlay = document.getElementById('modalOverlay');
        const modalContainer = document.getElementById('modalContainer');
        const modalTitle = document.getElementById('modalTitle');
        const modalIframe = document.getElementById('modalIframe');
        const loadingIndicator = document.getElementById('loadingIndicator');
        const closeModalBtn = document.getElementById('closeModalBtn');
        const cards = document.querySelectorAll('.card');

        // Open modal with GSAP animation
        function openModal(url, title) {
            modalTitle.textContent = title;
            modalIframe.src = url;

            // Show elements
            modalOverlay.style.display = 'block';
            modalContainer.style.display = 'block';
            loadingIndicator.style.display = 'block';
            modalIframe.style.display = 'none';

            // GSAP animation
            gsap.timeline()
                .to(modalOverlay, {
                    opacity: 1,
                    duration: 0.3,
                    ease: 'power2.out'
                })
                .to(modalContainer, {
                    opacity: 1,
                    scale: 1,
                    duration: 0.4,
                    ease: 'back.out(1.7)'
                }, '-=0.2');
        }

        // Close modal with GSAP animation
        function closeModal() {
            gsap.timeline()
                .to(modalContainer, {
                    opacity: 0,
                    scale: 0.8,
                    duration: 0.3,
                    ease: 'back.in(1.7)'
                })
                .to(modalOverlay, {
                    opacity: 0,
                    duration: 0.2,
                    ease: 'power2.in',
                    onComplete: () => {
                        modalOverlay.style.display = 'none';
                        modalContainer.style.display = 'none';
                        modalIframe.src = '';
                    }
                }, '-=0.1');
        }

        // Iframe load event
        modalIframe.addEventListener('load', function() {
            loadingIndicator.style.display = 'none';
            modalIframe.style.display = 'block';
            gsap.from(modalIframe, {
                opacity: 0,
                duration: 0.3,
                ease: 'power2.out'
            });
        });

        // Add click events to all cards
        cards.forEach(card => {
            card.addEventListener('click', function() {
                const url = this.getAttribute('data-url');
                const title = this.getAttribute('data-title');
                openModal(url, title);
            });
        });

        // Close modal events
        closeModalBtn.addEventListener('click', closeModal);
        modalOverlay.addEventListener('click', closeModal);

        // ESC key to close
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape' && modalContainer.style.display === 'block') {
                closeModal();
            }
        });
    </script>

        <script>
class TextScramble {
  constructor(el) {
    this.el = el;
    this.chars = '!<>-_\\/[]{}—=+*^#$@?%'; // Characters for the scramble effect
    this.update = this.update.bind(this);
    this.originalText = el.innerText; // Store the original text
    this.frame = 0;
    this.queue = [];
  }
  
  // Method to start the animation
  scramble() {
    this.setText(this.originalText);
  }

  // Method to set the final target text and start the scrambling
  setText(newText) {
    // Reset any ongoing animation
    if (this.frameRequest) {
      cancelAnimationFrame(this.frameRequest);
    }
    
    // Create the queue of characters for the animation
    const oldText = this.el.innerText;
    const length = Math.max(oldText.length, newText.length);
    
    this.queue = [];
    for (let i = 0; i < length; i++) {
      const from = oldText[i] || '';
      const to = newText[i] || '';
      const start = Math.floor(Math.random() * 40); // Random delay start
      const end = start + Math.floor(Math.random() * 40); // Random duration end
      
      this.queue.push({ from, to, start, end });
    }
    
    this.frame = 0;
    this.update();
  }

  // The main animation loop using requestAnimationFrame
  update() {
    let output = '';
    let complete = 0;

    for (let i = 0, n = this.queue.length; i < n; i++) {
      let { from, to, start, end } = this.queue[i];

      if (this.frame >= end) {
        // Character is done scrambling
        complete++;
        output += to;
      } else if (this.frame >= start) {
        // Character is currently scrambling
        if (to === ' ') {
            output += ' '; // Keep spaces as spaces
        } else {
            // Pick a random scramble character
            output += this.chars[Math.floor(Math.random() * this.chars.length)];
        }
      } else {
        // Character is waiting for the scramble to start
        output += from;
      }
    }

    this.el.innerText = output;
    
    if (complete !== this.queue.length) {
      this.frameRequest = requestAnimationFrame(this.update);
      this.frame++;
    }
  }
}

// --- INITIALIZATION AND EVENT LISTENERS ---

// 1. Find all elements with the data-scramble attribute
const elements = document.querySelectorAll('[data-scramble]');

// 2. Create an instance of the TextScramble class for each element
const scramblers = Array.from(elements).map(el => new TextScramble(el));

// 3. Attach event listeners
elements.forEach((el, index) => {
    // On mouse enter, trigger the scramble effect
    el.addEventListener('mouseenter', () => {
        // The scrambler automatically handles the animation to the original text
        scramblers[index].scramble(); 
    });
    
    // On mouse leave, you typically do nothing, 
    // as the scramble completes and settles on the original text.
});

// A specific listener for the Contact/Recruit buttons where the text is inside a span
// This targets the parent button to trigger the effect on its child text span
const contactButtons = document.querySelectorAll('.Footer__contact_button');

contactButtons.forEach(button => {
    // Find the text element inside the button
    const textEl = button.querySelector('.Footer__contact_button_text');
    
    if (textEl && textEl.hasAttribute('data-scramble')) {
        const scrambler = scramblers.find(s => s.el === textEl);
        
        button.addEventListener('mouseenter', () => {
             if (scrambler) scrambler.scramble(); 
        });
    }
});
    </script>
     <script>
class TextScramble {
  constructor(el) {
    this.el = el;
    this.chars = '!<>-_\\/[]{}—=+*^#$@%&?'; // scrambled character set
    this.update = this.update.bind(this);
    this.frame = 0;
    this.queue = [];
    this.originalText = el.innerText;
    this.isAnimating = false;
  }

  // Core scramble method
  setText(newText, callback) {
    if (this.frameRequest) cancelAnimationFrame(this.frameRequest);
    const oldText = this.el.innerText;
    const length = Math.max(oldText.length, newText.length);
    this.queue = [];

    for (let i = 0; i < length; i++) {
      const from = oldText[i] || "";
      const to = newText[i] || "";
      const start = Math.floor(Math.random() * 40);
      const end = start + Math.floor(Math.random() * 40);
      this.queue.push({ from, to, start, end });
    }

    this.frame = 0;
    this.resolve = callback;
    this.update();
  }

  update() {
    let output = "";
    let complete = 0;

    for (let i = 0, n = this.queue.length; i < n; i++) {
      let { from, to, start, end } = this.queue[i];
      if (this.frame >= end) {
        complete++;
        output += to;
      } else if (this.frame >= start) {
        output += this.chars[Math.floor(Math.random() * this.chars.length)];
      } else {
        output += from;
      }
    }

    this.el.innerText = output;

    if (complete === this.queue.length) {
      if (this.resolve) this.resolve();
      return;
    }

    this.frame++;
    this.frameRequest = requestAnimationFrame(this.update);
  }
}

// Initialize scramblers
const siteName = "INKREALM"; // The central brand word
const links = document.querySelectorAll(".scramble-link");

links.forEach(link => {
  const scrambler = new TextScramble(link);
  const original = link.textContent;

  link.addEventListener("mouseenter", () => {
    if (scrambler.isAnimating) return;
    scrambler.isAnimating = true;

    // Step 1: scramble to INKREALM
    scrambler.setText(siteName, () => {
      // Step 2: hold briefly, then scramble back
      setTimeout(() => {
        scrambler.setText(original, () => {
          scrambler.isAnimating = false;
        });
      }, 600);
    });
  });
});
</script>

</body>
</html>
