<!DOCTYPE html>
<html lang='en'>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Frontend Experiments 2</title>

    <!-- FONTS -->
    <link href="https://fonts.googleapis.com/css?family=Bree+Serif|Pacifico|Text+Me+One|Quattrocento+Sans" rel="stylesheet"> 
    <link rel="stylesheet" type="text/css" href="main.css/dist.css">

    <style>
        /* --- CORE LAYOUT & CENTERING --- */
        body {
            margin: 0; padding: 0;
            width: 100%;
            overflow-x: hidden;
            display: flex;
            flex-direction: column;
            align-items: center;
            background-color: #111; /* Fallback if video fails */
        }

        /* Video Background Fix */
        #mainvideo {
            display: block !important;
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100%;
            object-fit: cover;
            z-index: -10; /* Put it way back */
            opacity: 0.4;
        }

        /* Overlay to darken video */
        .main-dark-overlay {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.4);
            z-index: -5;
            pointer-events: none; /* CRITICAL: Let clicks pass through to buttons */
        }

        .content-container {
            width: 100%;
            max-width: 1000px; /* Center constraint */
            position: relative;
            z-index: 10; /* Ensure content is above video */
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .main {
            width: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        /* --- HEXAGON FIXES --- */
        .hexagon-container {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            width: 100%;
            padding-top: 20px;
        }
        
        .hexagon { margin: 10px; }
        
        /* Hide separators on mobile as they break layout */
        @media (max-width: 768px) {
            .sep-container { display: none !important; }
        }

        /* --- SECTION BOXES --- */
        .main-section-container {
            width: 95%;
            max-width: 800px;
            margin-top: 20px;
        }

        /* Force sections to be visible containers */
        .section1, .section2, .section3, .section4, .section5 {
            width: 100% !important;
            float: none !important;
            background: rgba(20, 20, 30, 0.7) !important; /* Glass effect */
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
            box-sizing: border-box;
            backdrop-filter: blur(5px);
            position: relative;
            z-index: 20; /* Ensure buttons inside are clickable */
        }

        /* --- BUTTON & INTERACTION FIXES --- */
        
        /* 1. Top Buttons (Section 1) */
        .s1-btns {
            display: flex;
            justify-content: center;
            gap: 20px;
            float: none !important;
            margin-top: 20px;
            pointer-events: auto; /* Ensure clickable */
        }
        .s1-btn {
            cursor: pointer;
            z-index: 30;
        }

        /* 2. Expander Menu (Bottom Right) */
        .secondary {
            position: fixed;
            bottom: 30px;
            right: 30px;
            z-index: 9999; /* Always on top */
            width: auto; height: auto;
        }
        
        .expander-menu {
            position: relative;
            /* Ensure the click target is big enough */
            width: 60px; height: 60px; 
            cursor: pointer;
        }
        
        /* --- MOBILE STACKING --- */
        @media (max-width: 768px) {
            .section2 { display: flex; flex-direction: column; }
            .s2-entry { width: 100% !important; margin-bottom: 5px; }
            .s3_letters_flex_row { flex-direction: column; text-align: center; }
        }
    </style>
</head>
<body>
    
    <!-- VIDEO LAYER -->
    <video id="mainvideo" autoplay muted loop playsinline>
        <source src="assets/video/background_loop.mp4" type="video/mp4">
    </video> 
    
    <div class="main-dark-overlay"></div>

    <div class="content-container">
        <div class="main">

            <canvas id="music-canvas"></canvas>

            <nav class="top-menu">
                <a>Keiyng</a><span>/</span><a>Tyja</a><span>/</span><a>Takjr</a>
            </nav>

            <div class="hexagon-container">
                <!-- Hexagon 1 -->
                <div class="hexagon active">
                    <img class="hex-bg" src="assets/images/testhexagonbg.png" />
                    <img class="hex-curtain" src="assets/images/testhexagonfullcurtain.png" />
                    <img class="hex-image" src="assets/images/testhexagon4.png" />
                    <span class="hex-number">0</span><span class="hex-number">1</span>
                </div>
                <!-- Hexagon 2 -->
                <div class="hexagon">
                    <img class="hex-bg" src="assets/images/testhexagonbg.png" />
                    <img class="hex-curtain" src="assets/images/testhexagonfullcurtain.png" />
                    <img class="hex-image" src="assets/images/testhexagon4.png" />
                    <span class="hex-number">0</span><span class="hex-number">2</span>
                </div>
                <!-- Hexagon 3 -->
                <div class="hexagon">
                    <img class="hex-bg" src="assets/images/testhexagonbg.png" />
                    <img class="hex-curtain" src="assets/images/testhexagonfullcurtain.png" />
                    <img class="hex-image" src="assets/images/testhexagon4.png" />
                    <span class="hex-number">0</span><span class="hex-number">3</span>
                </div>
            </div>

            <div class="main-section-container">
                <div class="section1">
                    <span class="s1-title">Gtrshs</span>
                    <hr>
                    <span class="s1-text">
                        Responsive text check. The buttons below should now click because z-index is fixed.
                    </span>
                    <div class="s1-btns">
                        <div class="s1-btn"> <svg> <use xlink:href="#icon-calendar" /> </svg> </div> 
                        <div class="s1-btn"> <svg> <use xlink:href="#icon-autograph" /> </svg> </div> 
                        <div class="s1-btn"> <svg> <use xlink:href="#icon-save" /> </svg> </div> 
                    </div>
                </div>

                <div class="section2">
                    <div class="s2-header">Analysis</div>
                    <div class="s2-entry"> <span>Data 1</span> <svg><use xlink:href="#icon-light" /></svg> </div>
                    <div class="s2-entry"> <span>Data 2</span> <svg><use xlink:href="#icon-mag-glass" /></svg> </div>
                </div>
            </div>
        </div>

        <!-- EXPANDER MENU (Bottom Right) -->
        <div class="secondary">
            <div class="expander-menu">
                <div class="expander-plus-icon-1"></div>
                <div class="expander-plus-icon-2"></div>
                <div class="expander-expand-btn"></div>
                
                <div class="expander-menu-items-container">
                    <a href="#" class="expander-menu-link">Menu 1</a>
                    <a href="#" class="expander-menu-link">Menu 2</a>
                </div>
            </div>
        </div>   

        <svg class="symbols-container"></svg>
    </div>

    <!-- MOVED JS TO BOTTOM so the HTML exists before the script runs -->
    <script src='js/bundle2.js'></script>

</body>
</html>
