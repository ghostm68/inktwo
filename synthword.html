<!DOCTYPE html>
 <html lang="en" class="ðŸ‘—">
<meta name="viewport" content="width=1024">
	<!--inky
 -@ www.inkrealm.info 

 (inspired by desire 
 and the spirit of innovation)
    ja: "ç§ã®å€‹äººæƒ…å ±ã‚’è²©å£²ã—ãªã„(ã‚«ãƒªãƒ•ã‚©ãƒ«ãƒ‹ã‚¢å·žæ¶ˆè²»è€…ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼æ³•)",
	Ð§Ð°ÑÑ‚Ð½Ð°Ñ Ð»Ð¸Ñ‡Ð½Ð°Ñ Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ñ, InformaÃ§Ãµes pessoais privadas, 
PersÃ³nulegar upplÃ½singar, 
Private personal information, áž–áŸážáŸŒáž˜áž¶áž“áž•áŸ’áž‘áž¶áž›áŸ‹ážáŸ’áž›áž½áž“áž¯áž€áž‡áž“
	(Verbraucherschutzgesetz der PrÃ¤fektur Kalifornien)
        en: "Do Not Sell My Info (KKKalifornia)"---> 
 <meta charset=utf-8> 
    <meta data-rh="true" name="description" content="A writer's website, featuring an extensive list of films about the craft with posters and original art as well as artifacts. Video and audio downloads. The TWO SKINNY GIRLS often places covers and even new songs on the homepage.  A unique place for creative souls. A Portal to escape the ordinary. Eclectic."/><meta data-rh="true" property="og:url" content="https://www.inkrealm.cloud"/><meta data-rh="true" property="og:type" content="website"/><meta data-rh="true" property="og:title" content="INKREALM - writing, music, and the visual arts"/>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta property="tiktok:app_id" content="@twoskinnygirls" />
<meta name="twitter:site" content="@inkrealm" />
<meta name="slack-app-id" content="f060RUD44R3" />
<title>SynthWord with Ping Pong</title>

<style>
  @import url('https://fonts.googleapis.com/css2?family=VT323&display=swap');

  :root {
    --primary-red: #ff3333;
    --light-red: #ff6666;
    --dark-red: #cc0000;
    --light-gray: #cccccc;
    --medium-gray: #888888;
    --dark-gray: #444444;
    --darker-gray: #222222;
    --white: #ffffff;
    --black: #000000;
  }

  body {
    font-family: 'VT323', monospace;
    background-color: var(--black);
    color: var(--light-gray);
    margin: 0;
    padding: 0;
    font-size: 14px;
    line-height: 1.4;
    min-height: 100vh;
    display: flex;
    flex-direction: column;
  }

  .container {
    max-width: 1400px;
    margin: 0 auto;
    padding: 15px;
    flex: 1;
  }

  /* Three Column Layout */
  .main-content {
    display: grid;
    grid-template-columns: 300px 1fr 400px;
    gap: 20px;
    margin: 20px 0;
    min-height: 600px;
  }

  /* Left Column - Controls */
  .left-column {
    background-color: var(--darker-gray);
    border: 1px solid var(--medium-gray);
    border-radius: 8px;
    padding: 15px;
    box-shadow: 0 3px 6px rgba(0, 0, 0, 0.3);
  }

  /* Center Column - Editor */
  .center-column {
    background-color: var(--darker-gray);
    border: 1px solid var(--medium-gray);
    border-radius: 8px;
    padding: 15px;
    box-shadow: 0 3px 6px rgba(0, 0, 0, 0.3);
  }

  /* Right Column - Game & Extras */
  .right-column {
    display: flex;
    flex-direction: column;
    gap: 15px;
  }

  .game-section, .ai-extras-section {
    background-color: var(--darker-gray);
    border: 1px solid var(--medium-gray);
    border-radius: 8px;
    padding: 15px;
    box-shadow: 0 3px 6px rgba(0, 0, 0, 0.3);
  }

  /* Header */
  header {
    text-align: center;
    padding: 15px 0;
    margin-bottom: 15px;
    border-bottom: 2px solid var(--primary-red);
  }

  h1 {
    font-size: 2.5em;
    margin: 0;
    color: var(--white);
    text-shadow: 0 0 8px var(--primary-red);
    letter-spacing: 1px;
  }

  /* Navigation */
  nav {
    background-color: var(--dark-gray);
    padding: 8px 0;
    margin: 15px 0;
    border-radius: 6px;
    border: 1px solid var(--medium-gray);
  }

  nav ul {
    list-style-type: none;
    padding: 0;
    display: flex;
    justify-content: center;
    flex-wrap: wrap;
    gap: 12px;
    margin: 0;
  }

  nav ul li a {
    color: var(--light-gray);
    text-decoration: none;
    font-size: 1.1em;
    transition: all 0.2s ease;
    padding: 6px 12px;
    border-radius: 4px;
    border: 1px solid transparent;
  }

  nav ul li a:hover {
    color: var(--primary-red);
    border-color: var(--primary-red);
  }

  /* Editor */
  #screenplay {
    width: 100%;
    height: 450px;
    background-color: var(--black);
    color: var(--light-gray);
    font-family: 'Courier New', monospace;
    font-size: 1em;
    border: 1px solid var(--medium-gray);
    padding: 12px;
    resize: vertical;
    border-radius: 6px;
    line-height: 1.3;
  }

  /* Toolbar */
  .toolbar {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 8px;
    margin-bottom: 15px;
  }

  .toolbar button {
    font-size: 0.9em;
    padding: 8px 10px;
  }

  /* Sidebar Content */
  .character-location-list {
    margin-top: 15px;
  }

  .character-location-list ul {
    list-style-type: none;
    padding: 0;
    margin: 10px 0;
  }

  .character-location-list li {
    padding: 6px 10px;
    margin: 4px 0;
    background-color: var(--dark-gray);
    border: 1px solid var(--medium-gray);
    border-radius: 4px;
    font-size: 0.9em;
  }

  #notes {
    width: 100%;
    height: 120px;
    background-color: var(--dark-gray);
    color: var(--white);
    border: 1px solid var(--medium-gray);
    border-radius: 6px;
    padding: 10px;
    margin-top: 15px;
    font-family: 'VT323', monospace;
    font-size: 1em;
    resize: vertical;
  }

  /* Control Panel */
  .control-panel {
    background-color: var(--dark-gray);
    border-radius: 8px;
    padding: 15px;
    border: 1px solid var(--medium-gray);
    margin-bottom: 15px;
  }

  #frequencySlider {
    width: 100%;
    margin: 10px 0;
    -webkit-appearance: none;
    background: linear-gradient(to right, #333, #666, #999, #666, #333);
    outline: none;
    height: 8px;
    border-radius: 4px;
  }
  
  #frequencySlider::-webkit-slider-thumb {
    -webkit-appearance: none;
    width: 18px;
    height: 18px;
    background: var(--primary-red);
    cursor: pointer;
    border-radius: 50%;
    border: 2px solid var(--white);
  }
  
  #playButton {
    background-color: var(--dark-gray);
    border: 2px solid var(--primary-red);
    color: var(--white);
    padding: 8px 20px;
    font-size: 1.1em;
    margin: 10px 0;
    border-radius: 20px;
    transition: all 0.3s;
    width: 100%;
  }
  
  #playButton:hover {
    background-color: var(--primary-red);
    color: var(--black);
  }
  
#frequencyDisplay, #frequencyDisplay2 {
    font-size: 1.2em;
    margin: 8px 0;
    color: #ff3333; /* Red color */
    text-align: center;
    text-shadow: 0 0 5px rgba(255, 51, 51, 0.5);
    font-weight: bold;
}
  .slider-labels {
    display: flex;
    justify-content: space-between;
    width: 100%;
    margin: 5px 0;
    color: var(--light-gray);
    font-size: 0.9em;
  }
  
  #soundSelector, #significantFrequencies {
    margin: 10px 0;
    padding: 8px;
    font-size: 1em;
    background-color: var(--dark-gray);
    color: var(--white);
    border: 1px solid var(--medium-gray);
    border-radius: 6px;
    width: 100%;
  }

  /* Game Area */
  #gameCanvas {
    width: 100%;
    height: 250px;
    border: 2px solid var(--medium-gray);
    border-radius: 6px;
    background-color: var(--black);
    display: block;
    margin: 10px 0;
  }

  #score {
    font-size: 1.3em;
    text-align: center;
    margin: 10px 0;
    color: var(--primary-red);
  }

  #aiStrategy {
    font-size: 1em;
    text-align: center;
    margin: 8px 0;
    color: var(--light-gray);
    font-style: italic;
  }

  /* Buttons - Smaller */
  button {
    background-color: var(--dark-gray);
    color: var(--white);
    border: 1px solid var(--medium-gray);
    padding: 8px 16px;
    font-family: 'VT323', monospace;
    font-size: 1.1em;
    cursor: pointer;
    transition: all 0.2s ease;
    margin: 4px;
    border-radius: 4px;
  }

  button:hover {
    background-color: var(--primary-red);
    border-color: var(--primary-red);
    color: var(--black);
  }

  .ai-buttons, .game-controls {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 8px;
    margin-top: 10px;
  }

  .ai-buttons button, .game-controls button {
    font-size: 0.9em;
    padding: 6px 10px;
    margin: 2px;
  }

  /* Footer - Quantum Section */
  .quantum-footer {
    background-color: var(--darker-gray);
    border-top: 3px solid var(--primary-red);
    margin-top: 25px;
    padding: 20px 0;
    border-radius: 8px 8px 0 0;
    box-shadow: 0 -3px 10px rgba(255, 51, 51, 0.1);
  }

  .quantum-grid {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 15px;
    padding: 0 15px;
  }

  .quantum-grid button {
    background: linear-gradient(135deg, var(--dark-gray), var(--darker-gray));
    border: 1px solid var(--primary-red);
    color: var(--white);
    padding: 10px;
    font-size: 1em;
    border-radius: 6px;
    transition: all 0.3s ease;
    text-align: center;
  }

  .quantum-grid button:hover {
    background: linear-gradient(135deg, var(--primary-red), var(--dark-red));
    box-shadow: 0 0 10px var(--primary-red);
    transform: translateY(-2px);
  }

  /* Headers */
  h2 {
    color: var(--primary-red);
    font-size: 1.5em;
    margin: 10px 0 15px;
    text-align: center;
    border-bottom: 1px solid var(--medium-gray);
    padding-bottom: 8px;
  }

  h3 {
    color: var(--white);
    font-size: 1.2em;
    margin: 10px 0 8px;
  }

  /* Visualizer */
  #visualizer {
    width: 100%;
    height: 60px;
    margin: 10px 0;
    border: 1px solid var(--medium-gray);
    border-radius: 4px;
    background-color: var(--black);
  }

  /* Disclaimer */
  .disclaimer {
    background-color: var(--dark-gray);
    border: 1px solid var(--medium-gray);
    border-radius: 6px;
    padding: 15px;
    margin: 15px 0;
    font-size: 0.85em;
    color: var(--light-gray);
    border-left: 4px solid var(--primary-red);
  }

  /* Grid Background */
  .grid {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-image: linear-gradient(var(--medium-gray) 1px, transparent 1px),
                      linear-gradient(90deg, var(--medium-gray) 1px, transparent 1px);
    background-size: 40px 40px;
    opacity: 0.03;
    z-index: -1;
  }

  .sun {
    position: fixed;
    bottom: -80px;
    left: 50%;
    transform: translateX(-50%);
    width: 150px;
    height: 150px;
    background: radial-gradient(circle, var(--primary-red) 0%, transparent 70%);
    border-radius: 50%;
    opacity: 0.1;
    z-index: -2;
  }

  /* Responsive */
  @media (max-width: 1200px) {
    .main-content {
      grid-template-columns: 250px 1fr 350px;
      gap: 15px;
    }
    
    .quantum-grid {
      grid-template-columns: repeat(2, 1fr);
    }
  }

  @media (max-width: 900px) {
    .main-content {
      grid-template-columns: 1fr;
      gap: 20px;
    }
    
    .right-column {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 15px;
    }
    
    .quantum-grid {
      grid-template-columns: repeat(4, 1fr);
    }
  }

  @media (max-width: 600px) {
    .right-column {
      grid-template-columns: 1fr;
    }
    
    .quantum-grid {
      grid-template-columns: 1fr 1fr;
    }
    
    nav ul {
      flex-direction: column;
      align-items: center;
    }
    
    nav ul li a {
      width: 200px;
      text-align: center;
    }
    
    .toolbar {
      grid-template-columns: repeat(2, 1fr);
    }
  }

  /* Ace Editor Customization */
  .ace_editor {
    font-size: 12px !important;
    line-height: 1.3 !important;
  }

  /* Scrollbar Styling */
  ::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }

  ::-webkit-scrollbar-track {
    background: var(--dark-gray);
  }

  ::-webkit-scrollbar-thumb {
    background: var(--primary-red);
    border-radius: 4px;
  }

  ::-webkit-scrollbar-thumb:hover {
    background: var(--light-red);
  }
.control-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 15px;
}

.control-header h3 {
    margin: 0;
    color: #ff3333;
}

.frequency-gif {  /* Changed from .control-header img */
    width: 222px;
    height: 222px;
    object-fit: contain;
    border: 1px solid #444;
    border-radius: 4px;
}
</style>
</head>
<body>
	<body>  
  <!-- Header and Navigation -->
  <header>
    <h1>SynthWord</h1>
  </header>
  
  <nav id="nav-menu">
    <ul>
      <li><a href="#" onclick="toggleVoiceRecognition(); return false;">Voice-to-Text</a></li>
      <li><a href="#" onclick="formatText('bold'); return false;">Bold</a></li>
      <li><a href="#" onclick="formatText('underline'); return false;">Underline</a></li>
      <li><a href="#" onclick="formatText('italic'); return false;">Italic</a></li>
      <li><a href="#" onclick="exportPDF(); return false;">Export PDF</a></li>
      <li><a href="#" onclick="importPDF(); return false;">Import PDF</a></li>
    </ul>
  </nav>

  <!-- Main 3-Column Container -->
  <div class="container">
    <div class="main-content">
      <!-- Left Column - Controls & Notes -->
      <div class="left-column">
        <div class="control-panel">
          <h3>Frequency Control</h3>   <img src="https://raw.githubusercontent.com/ghostm68/pantheon/main/sp.gif" class="frequency-gif" alt="Spinning Symbol">
          <div id="frequencyDisplay2">Frequency: 1 Hz</div>
          <input type="range" id="frequencySlider2" min="1" max="10000" value="1" step="1">
          <div class="slider-labels">
            <span>1 Hz</span>
            <span>10,000 Hz</span>
          </div>
          <button id="playButton2">Activation</button>
          
          <div style="margin-top: 15px;">
            <select id="soundSelector2" style="margin-bottom: 10px;">
              <option value="sine">Sine Wave</option>
              <option value="triangle">Triangle Wave</option>
              <option value="sawtooth">Sawtooth Wave</option>
              <option value="square">Square Wave</option>
            </select>
            <select id="significantFrequencies2">
              <option value="">Select Frequency</option>
              <option value="432">432 Hz - Verdi's A</option>
              <option value="440">440 Hz - Concert Pitch</option>
              <option value="528">528 Hz - Bone Repair</option>
            </select>
          </div>
        </div>

        <div class="character-location-list">
          <h3>Characters & Locations</h3>
          <h4>Characters:</h4>
          <ul id="character-list">
            <li>PROTAGONIST</li>
            <li>ANTAGONIST</li>
            <li>SUPPORTING CHARACTER 1</li>
            <li>SUPPORTING CHARACTER 2</li>
          </ul>
          <h4>Locations:</h4>
          <ul id="location-list">
            <li>FUTURISTIC CITY</li>
            <li>EMPTY WAREHOUSE</li>
            <li>VIRTUAL REALITY REALM</li>
            <li>SPACE STATION</li>
          </ul>
        </div>
        
        <div>
          <h3>Notes</h3>
          <textarea id="notes" placeholder="Add your notes here..."></textarea>
        </div>
      </div>

      <!-- Center Column - Editor -->
      <div class="center-column">
        <div class="toolbar">
          <button id="scene-heading">Scene Heading</button>
          <button id="action">Action</button>
          <button id="character">Character</button>
          <button id="dialogue">Dialogue</button>
          <button id="parenthetical">Parenthetical</button>
          <button id="transition">Transition</button>
        </div>
        <div id="screenplay"></div>
        
        <div id="disclaimer" class="disclaimer">
          <p><strong>Disclaimer:</strong> The AI Extras and Quantum Connections features are intended for future updates.</p>
        </div>
      </div>

      <!-- Right Column - Game & AI -->
      <div class="right-column">
        <div class="game-section">
          <h3>Pong Game</h3>
          <div id="score">Player: 0 | AI: 0</div>
          <canvas id="gameCanvas" width="350" height="250"></canvas>
          <div id="aiStrategy">AI Strategy: Initializing...</div>
          <div id="menu" style="text-align: center; margin-top: 10px;">
            <button id="startButton">Start Game</button>
          </div>
        </div>
        
        <div class="ai-extras-section">
          <h3>AI Extras</h3>
          <div class="ai-buttons">
            <button id="generate-ideas">Plot Ideas</button>
            <button id="analyze-script">Re-Script</button>
            <button id="character-development">Character Dev</button>
            <button id="download-ai-to-body">Download AI</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Quantum Footer -->
    <div class="quantum-footer">
      <h2>Quantum Connections</h2>
      <div class="quantum-grid">
        <button id="quantum-collaboration">Quantum Collaboration</button>
        <button id="multiverse-plotting">Multiverse Plotting</button>
        <button id="entangled-storytelling">Entangled Storytelling</button>
        <button id="download-quantum-to-body">Download Quantum</button>
      </div>
    </div>
  </div>

  <!-- Scripts remain the same -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.4.0/jspdf.umd.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.12/ace.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/tone/14.8.49/Tone.js"></script>
  
  <script>
    // Initialize Ace editor
    const editor = ace.edit("screenplay");
    editor.setTheme("ace/theme/twilight");
    editor.session.setMode("ace/mode/text");
    editor.setOptions({
      fontFamily: "'Courier New', monospace",
      fontSize: "14px",
      wrap: true
    });

    // Screenplay formatting functions
    function formatLine(type) {
      const cursor = editor.selection.getCursor();
      const currentLine = editor.session.getLine(cursor.row);
      let formattedLine = currentLine.trim();

      switch(type) {
        case 'scene-heading':
          formattedLine = formattedLine.toUpperCase();
          break;
        case 'character':
          formattedLine = formattedLine.toUpperCase();
          break;
        case 'transition':
          formattedLine = formattedLine.toUpperCase();
          editor.session.insert({row: cursor.row, column: 0}, "\n");
          editor.session.insert({row: cursor.row + 1, column: 0}, formattedLine.padStart((80 - formattedLine.length) / 2 + formattedLine.length));
          editor.session.insert({row: cursor.row + 2, column: 0}, "\n");
          return;
        case 'parenthetical':
          formattedLine = `(${formattedLine})`;
          break;
      }

      editor.session.replace({
        start: {row: cursor.row, column: 0},
        end: {row: cursor.row, column: currentLine.length}
      }, formattedLine);
    }

    document.getElementById('scene-heading').addEventListener('click', () => formatLine('scene-heading'));
    document.getElementById('action').addEventListener('click', () => formatLine('action'));
    document.getElementById('character').addEventListener('click', () => formatLine('character'));
    document.getElementById('dialogue').addEventListener('click', () => formatLine('dialogue'));
    document.getElementById('parenthetical').addEventListener('click', () => formatLine('parenthetical'));
    document.getElementById('transition').addEventListener('click', () => formatLine('transition'));

    // AI Extras functionality
    document.getElementById('generate-ideas').addEventListener('click', () => {
      alert('Generating futuristic plot ideas using advanced AI algorithms...');
      // Implement AI-driven plot idea generation here
    });

    document.getElementById('analyze-script').addEventListener('click', () => {
      alert('Analyzing script for structure, pacing, and character arcs using AI...');
      // Implement AI script analysis here
    });

    document.getElementById('character-development').addEventListener('click', () => {
      alert('Initiating AI-powered character development session...');
      // Implement AI character development here
    });

    document.getElementById('download-ai-to-body').addEventListener('click', () => {
      alert('Initiating transfer of AI consciousness to a designated physical body...');
      // Implement AI consciousness transfer to physical body here
    });

    // Quantum Connections functionality
    document.getElementById('quantum-collaboration').addEventListener('click', () => {
      alert('Establishing quantum entanglement for real-time collaboration across spacetime...');
      // Implement quantum collaboration feature here
    });

    document.getElementById('multiverse-plotting').addEventListener('click', () => {
      alert('Accessing parallel universe plot variations using quantum computing...');
      // Implement multiverse plotting feature here
    });

    document.getElementById('entangled-storytelling').addEventListener('click', () => {
      alert('Initializing entangled storytelling mode for non-linear narrative creation...');
      // Implement entangled storytelling feature here
    });

    document.getElementById('download-quantum-to-body').addEventListener('click', () => {
      alert('Initiating transfer of quantum-enhanced consciousness to a designated physical body...');
      // Implement quantum consciousness transfer to physical body here
    });
  function startVoiceToText() {
    if ('webkitSpeechRecognition' in window) {
        var recognition = new webkitSpeechRecognition();
        recognition.continuous = true;
        recognition.interimResults = false;

        recognition.onstart = function() {
            console.log("Voice recognition started.");
        };

        recognition.onresult = function(event) {
            for (var i = event.resultIndex; i < event.results.length; ++i) {
                if (event.results[i].isFinal) {
                    document.execCommand('insertText', false, event.results[i][0].transcript);
                }
            }
        };

        recognition.onerror = function(event) {
            console.error("Speech recognition error: " + event.error);
        };

        recognition.onend = function() {
            console.log("Voice recognition ended.");
        };

        recognition.start();
    } else {
        alert("Your browser does not support speech recognition.");
    }
}


// Text Formatting
function formatText(command) {
    document.execCommand(command, false, null);
}

function exportPDF() {
    var doc = new jsPDF();

    // Example: Adding text from a specific element to the PDF
    var content = document.querySelector('#content').innerText;
    doc.text(content, 10, 10);

    doc.save('document.pdf');
}


function importPDF() {
    var input = document.createElement('input');
    input.type = 'file';
    input.accept = 'application/pdf';

    input.onchange = function(event) {
        var file = event.target.files[0];
        if (file) {
            var reader = new FileReader();
            reader.onload = function(e) {
                var arrayBuffer = e.target.result;
                // Further processing would involve rendering the PDF
                console.log("PDF loaded, but not yet rendered.");
            };
            reader.readAsArrayBuffer(file);
        }
    };

    input.click();
}


    // Add synthwave visual effects
    const colors = ['#ff00ff', '#00ffff', '#9900ff'];
    let colorIndex = 0;

    setInterval(() => {
      document.body.style.boxShadow = `0 0 10px ${colors[colorIndex]}, 0 0 20px ${colors[colorIndex]}`;
      colorIndex = (colorIndex + 1) % colors.length;
    }, 1000);
  </script>


<script>
const canv = document.getElementById('gameCanvas');
const c = canv.getContext('2d');

// Set canvas size for the 3-column layout
canv.width = 350;
canv.height = 250;

// Game variables
let px = 10, py = 100;  // Player paddle
let bx = 175, by = 125; // Ball position
let bdx = 3, bdy = 2;   // Ball direction
let aiy = 100;          // AI paddle
let ps = 0, cs = 0;     // Player & CPU scores
let loop = null;        // Game loop reference
let gamePaused = false; // Pause state
let gameStarted = false; // Game start state

// Get DOM elements
const startButton = document.getElementById('startButton');
const scoreElement = document.getElementById('score');
const aiStrategyElement = document.getElementById('aiStrategy');

// Create pause button dynamically
const pauseButton = document.createElement('button');
pauseButton.textContent = 'Pause Game';
pauseButton.id = 'pauseButton';
pauseButton.style.cssText = `
    background-color: #333;
    color: #ff3333;
    border: 1px solid #ff3333;
    padding: 6px 12px;
    margin: 5px;
    cursor: pointer;
    border-radius: 4px;
    font-family: 'VT323', monospace;
    font-size: 1em;
`;
pauseButton.addEventListener('click', togglePause);

// Add pause button to game menu
document.getElementById('menu').appendChild(pauseButton);

// Start game function
function startPong() {
    if (!gameStarted) {
        document.getElementById('menu').style.display = 'none';
        scoreElement.style.display = 'block';
        aiStrategyElement.style.display = 'block';
        gameStarted = true;
        gamePaused = false;
        pauseButton.textContent = 'Pause Game';
    }
    startGameLoop();
}

// Start or restart the game loop
function startGameLoop() {
    if (loop) clearInterval(loop); // Clear any existing loop
    loop = setInterval(frame, 16); // ~60 FPS
}

// Pause/Unpause function
function togglePause() {
    if (!gameStarted) return;
    
    gamePaused = !gamePaused;
    
    if (gamePaused) {
        clearInterval(loop);
        pauseButton.textContent = 'Resume Game';
        drawPausedScreen();
    } else {
        startGameLoop();
        pauseButton.textContent = 'Pause Game';
    }
}

// Draw paused screen overlay
function drawPausedScreen() {
    c.fillStyle = 'rgba(0, 0, 0, 0.7)';
    c.fillRect(0, 0, canv.width, canv.height);
    
    c.fillStyle = '#ff3333';
    c.font = '24px VT323';
    c.textAlign = 'center';
    c.fillText('GAME PAUSED', canv.width/2, canv.height/2 - 20);
    
    c.fillStyle = '#ccc';
    c.font = '16px VT323';
    c.fillText('Click "Resume Game" to continue', canv.width/2, canv.height/2 + 20);
}

// Game frame
function frame() {
    if (gamePaused) return;
    
    // Clear canvas with dark gray background
    c.fillStyle = '#111';
    c.fillRect(0, 0, canv.width, canv.height);
    
    // Draw paddles (red color)
    c.fillStyle = '#ff3333';
    c.fillRect(px, py, 6, 40);           // Player paddle
    c.fillRect(canv.width - 16, aiy, 6, 40); // AI paddle
    
    // Draw ball (white)
    c.fillStyle = '#ffffff';
    c.fillRect(bx, by, 8, 8);
    
    // Draw center net (gray)
    c.fillStyle = '#666';
    for(let i = 0; i < canv.height; i += 20) {
        c.fillRect(canv.width/2 - 1, i, 2, 10);
    }
    
    // Update ball position
    bx += bdx;
    by += bdy;
    
    // Ball collision with top/bottom
    if (by < 0 || by > canv.height - 8) {
        bdy = -bdy;
        // Add slight random angle
        bdx += (Math.random() - 0.5) * 0.5;
    }
    
    // Ball collision with player paddle
    if (bx < px + 6 && bx > px && by > py && by < py + 40) {
        bdx = Math.abs(bdx) + 0.5; // Speed up slightly
        bdy = (by - (py + 20)) * 0.15; // Add angle based on hit position
        bx = px + 6; // Prevent sticking
    }
    
    // Ball collision with AI paddle
    if (bx > canv.width - 22 && bx < canv.width - 16 && 
        by > aiy && by < aiy + 40) {
        bdx = -Math.abs(bdx) - 0.5;
        bdy = (by - (aiy + 20)) * 0.15;
        bx = canv.width - 22;
    }
    
    // Score points
    if (bx < 0) {
        cs++; // CPU scores
        reset();
    }
    if (bx > canv.width) {
        ps++; // Player scores
        reset();
    }
    
    // Simple AI - follow ball with some imperfection
    let aiError = (Math.random() - 0.5) * 10; // Random error
    let targetY = by - 20 + aiError;
    
    if (aiy + 20 < targetY) {
        aiy += 3;
    } else if (aiy + 20 > targetY) {
        aiy -= 3;
    }
    
    // Keep AI paddle in bounds
    aiy = Math.max(0, Math.min(canv.height - 40, aiy));
    
    // Update score display
    scoreElement.textContent = `Player ${ps} | CPU ${cs}`;
    
    // Simple AI strategy display
    let strategies = ["Defensive", "Predictive", "Reactive", "Aggressive"];
    aiStrategyElement.textContent = 
        `AI Strategy: ${strategies[Math.floor((ps + cs) / 2) % 4]}`;
}

// Reset ball to center
function reset() {
    bx = canv.width / 2;
    by = canv.height / 2;
    bdx = (Math.random() > 0.5 ? 1 : -1) * 3;
    bdy = (Math.random() - 0.5) * 4;
}

// Mouse controls for player paddle
canv.onmousemove = e => {
    if (gamePaused || !gameStarted) return;
    
    const rect = canv.getBoundingClientRect();
    py = e.clientY - rect.top - 20;
    py = Math.max(0, Math.min(canv.height - 40, py));
};

// Start button event
startButton.addEventListener('click', startPong);

// Add keyboard shortcut for pause (Space key)
document.addEventListener('keydown', (e) => {
    if (e.code === 'Space' && gameStarted) {
        e.preventDefault(); // Prevent space from scrolling page
        togglePause();
    }
    
    // Optional: Add 'R' key to reset scores
    if (e.code === 'KeyR' && gameStarted) {
        ps = 0;
        cs = 0;
        reset();
        scoreElement.textContent = `Player ${ps} | CPU ${cs}`;
    }
});

// Initial game state
scoreElement.style.display = 'none';
aiStrategyElement.style.display = 'none';

// Draw initial game state
function drawInitialState() {
    c.fillStyle = '#111';
    c.fillRect(0, 0, canv.width, canv.height);
    
    c.fillStyle = '#ff3333';
    c.font = '20px VT323';
    c.textAlign = 'center';
    c.fillText('Click "Start Game" to begin', canv.width/2, canv.height/2);
}
drawInitialState();
</script>

  

  <script src="https://cdnjs.cloudflare.com/ajax/libs/tone/14.8.49/Tone.js"></script>
  <script>
    let audioContext;
    let oscillator;
    let gainNode;
    let analyser;
    let isPlaying = false;

    const frequencySlider = document.getElementById('frequencySlider2');
const frequencyDisplay = document.getElementById('frequencyDisplay2'); 
const playButton = document.getElementById('playButton2');
const visualizer = document.getElementById('visualizer'); // Keep this - same ID
const visualizerContext = visualizer.getContext('2d');
const soundSelector = document.getElementById('soundSelector2');
const significantFrequencies = document.getElementById('significantFrequencies2');
const cosmicContainer = document.getElementById('cosmicContainer'); // Keep - same ID
const interactiveBackground = document.getElementById('interactiveBackground'); // Keep - same ID
const backgroundContext = interactiveBackground.getContext('2d');

    frequencySlider.addEventListener('input', updateFrequency);
    playButton.addEventListener('click', toggleSound);
    soundSelector.addEventListener('change', updateOscillatorType);
    significantFrequencies.addEventListener('change', updateSignificantFrequency);

    function initializeFrequencyScale() {
      // ... (remove this function as it's no longer needed)
    }

    function createStars() {
      // ... (remove this function as it's no longer needed)
    }

    function updateFrequency() {
      const frequency = logSlider(frequencySlider.value);
      frequencyDisplay.textContent = `Frequency: ${frequency} Hz`;
      if (oscillator) {
        oscillator.frequency.setValueAtTime(frequency, audioContext.currentTime);
      }
      updateSliderColor(frequency);
      updateCosmicBackground(frequency);
    }

    function updateCosmicBackground(frequency) {
      const hue = (frequency / 10000) * 360;
      cosmicContainer.style.background = `radial-gradient(circle at center, hsl(${hue}, 100%, 10%), #000000)`;
    }

    function toggleSound() {
      if (isPlaying) {
        stopSound();
      } else {
        playSound();
      }
    }

    function playSound() {
      if (!audioContext) {
        audioContext = new (window.AudioContext || window.webkitAudioContext)();
        oscillator = audioContext.createOscillator();
        gainNode = audioContext.createGain();
        analyser = audioContext.createAnalyser();

        oscillator.connect(gainNode);
        gainNode.connect(analyser);
        analyser.connect(audioContext.destination);

        gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
      }

      const frequency = logSlider(frequencySlider.value);
      oscillator.frequency.setValueAtTime(frequency, audioContext.currentTime);
      updateOscillatorType();
      oscillator.start();
      isPlaying = true;
      playButton.textContent = 'Stop';
      playButton.style.backgroundColor = '#CCCC00';
      visualize();
      animateBackground();
    }

    function stopSound() {
      oscillator.stop();
      isPlaying = false;
      playButton.textContent = 'Start';
      playButton.style.backgroundColor = '#FFFF00';
      cancelAnimationFrame(visualize);
      cancelAnimationFrame(animateBackground);
    }

    function updateOscillatorType() {
      if (oscillator) {
        const selectedType = soundSelector.value;
        if (selectedType === 'didgeridoo') {
          oscillator.type = 'sawtooth';
          const lowPass = audioContext.createBiquadFilter();
          lowPass.type = 'lowpass';
          lowPass.frequency.setValueAtTime(500, audioContext.currentTime);
          oscillator.disconnect();
          oscillator.connect(lowPass);
          lowPass.connect(gainNode);
        } else if (selectedType === 'flute') {
          oscillator.type = 'sine';
          const highPass = audioContext.createBiquadFilter();
          highPass.type = 'highpass';
          highPass.frequency.setValueAtTime(700, audioContext.currentTime);
          oscillator.disconnect();
          oscillator.connect(highPass);
          highPass.connect(gainNode);
        } else {
          oscillator.type = selectedType;
          oscillator.disconnect();
          oscillator.connect(gainNode);
        }
      }
    }

    function updateSignificantFrequency() {
      const selectedFrequency = significantFrequencies.value;
      if (selectedFrequency) {
        frequencySlider.value = Math.log(selectedFrequency) / Math.log(10000) * 10000;
        updateFrequency();
      }
    }

   function updateSliderColor(frequency) {
  const activeChakra = chakraRanges.find(chakra => frequency >= chakra.min && frequency < chakra.max);
  const color = activeChakra ? activeChakra.color : '#FFFF00';
  
  frequencySlider.style.background = `linear-gradient(to right, ${color} 0%, ${color} ${(Math.log(frequency) / Math.log(10000)) * 100}%, #333 ${(Math.log(frequency) / Math.log(10000)) * 100}%, #333 100%)`;
}

  function visualize() {
  visualizer.width = visualizer.clientWidth;
  visualizer.height = visualizer.clientHeight;
  const width = visualizer.width;
  const height = visualizer.height;
  const bufferLength = analyser.frequencyBinCount;
  const dataArray = new Uint8Array(bufferLength);

  function draw() {
    requestAnimationFrame(draw);

    analyser.getByteTimeDomainData(dataArray);

    visualizerContext.fillStyle = 'rgb(0, 0, 0)';
    visualizerContext.fillRect(0, 0, width, height);

    visualizerContext.lineWidth = 3;

    visualizerContext.beginPath();

    const sliceWidth = width * 1.0 / bufferLength;
    let x = 0;

    for (let i = 0; i < bufferLength; i++) {
      const v = dataArray[i] / 128.0;
      const y = v * height / 2;

      if (i === 0) {
        visualizerContext.moveTo(x, y);
      } else {
        visualizerContext.lineTo(x, y);
      }

      x += sliceWidth;
    }

    visualizerContext.lineTo(width, height / 2);
    visualizerContext.stroke();
  }

  draw();
}

   function logSlider(position) {
  const minp = 1;
  const maxp = 10000;
  const minv = Math.log(1);
  const maxv = Math.log(10000);
  const scale = (maxv - minv) / (maxp - minp);
  return Math.round(Math.exp(minv + scale * (position - minp)));
}

  


    window.addEventListener('resize', () => {
      if (isPlaying) {
        cancelAnimationFrame(visualize);
        cancelAnimationFrame(animateBackground);
        visualize();
        animateBackground();
      }
      interactiveBackground.width = window.innerWidth;
      interactiveBackground.height = window.innerHeight;
    });

      createStars();
    initializeFrequencyScale();
    updateFrequency();
  </script>

</body></html>
