<!DOCTYPE html>
<html lang="en" class="ðŸ‘—">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>InkRealm: 2741 Sanctum</title>
  
  <link rel="icon" type="image/svg+xml" href="https://cdn.jsdelivr.net/gh/ghostm68/inktwo@main/svg/inky.svg">
  <link rel="apple-touch-icon" type="image/png" href="https://github.com/ghostm68/pantheon/raw/main/inkrealm.info.2025.png" />
  <link href="https://fonts.googleapis.com/css2?family=Nova+Mono&family=Special+Elite&family=VT323&display=swap" rel="stylesheet">
  <script src="https://d3js.org/d3.v7.min.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>

  <style>
    :root { --red: #ff0000; --black: #050505; --dark-grey: #121212; --white: #d1d1d1; }
    * { -webkit-tap-highlight-color: transparent; box-sizing: border-box; }
    
    body { 
      background: var(--black); color: var(--white); font-family: 'Nova Mono', monospace; 
      margin: 0; overflow: hidden; height: 100vh; width: 100vw;
    }

    /* CRT Scanline Overlay */
    body::after {
      content: " "; display: block; position: fixed; top: 0; left: 0; width: 100%; height: 100%;
      background: linear-gradient(rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.1) 50%);
      z-index: 999; background-size: 100% 3px; pointer-events: none; opacity: 0.3;
    }

    .app-grid { display: grid; grid-template-columns: 240px 1fr; grid-template-rows: 50px 1fr 350px 30px; height: 100vh; }

    header { grid-column: span 2; border-bottom: 1px solid var(--red); background: #000; z-index: 50; padding: 0 20px; display: flex; align-items: center; justify-content: space-between; }
    
    .sidebar { background: #080808; border-right: 1px solid #222; overflow-y: auto; padding: 20px; }

    /* MAIN VIEWPORT: SIGIL FORGE */
    #viewport { 
      background: radial-gradient(circle at center, #111 0%, #000 100%); 
      position: relative; border-bottom: 1px solid var(--red); overflow: hidden; 
      display: flex; align-items: center; justify-content: center;
    }
    #sigil-canvas { filter: drop-shadow(0 0 15px var(--red)); cursor: crosshair; max-width: 90%; max-height: 90%; }

    /* BOTTOM SHELF: DOSSIER, LOGS, COMMS */
    .bottom-shelf { 
      grid-row: 3; grid-column: span 2; 
      display: grid; grid-template-columns: 1fr 300px 350px; 
      height: 350px; overflow: hidden; background: #000;
    }

    /* Dossier Panel (Featured Story) */
    .dossier-panel { 
        background: var(--dark-grey); border-top: 1px solid var(--red); 
        padding: 25px; overflow-y: auto; 
        font-family: 'Special Elite', serif; font-size: 14px; line-height: 1.7; color: var(--white);
    }
    .dossier-header { background: var(--red); color: white; padding: 4px 15px; font-size: 10px; text-transform: uppercase; margin-bottom: 15px; display: inline-block; transform: rotate(-1deg); }

    /* System Log Ticker */
    .log-panel { background: #050505; border-left: 1px solid #222; border-top: 1px solid var(--red); padding: 15px; font-family: 'VT323', monospace; color: #555; overflow-y: auto; font-size: 14px; }

    /* Chat Section */
    .chat-section { background: #000; border-left: 1px solid var(--red); border-top: 1px solid var(--red); display: flex; flex-direction: column; overflow: hidden; }
    #chat-container { flex-grow: 1; overflow-y: auto; padding: 10px; font-family: 'VT323', monospace; background: #000; }
    .chat-bubble { margin-bottom: 8px; padding: 8px; border: 1px solid #222; font-size: 1rem; }
    .user-message { border-left: 3px solid #444; color: #888; }
    .bot-message { border-left: 3px solid var(--red); color: var(--white); background: #0a0000; }
    .chat-input-area { background: #111; padding: 8px; display: flex; gap: 5px; }
    #chat-input { background: #000; color: var(--red); border: 1px solid #333; flex-grow: 1; padding: 5px; font-size: 14px; outline: none; font-family: 'VT323'; }

    /* UI ELEMENTS */
    .power-btn { font-size: 9px; padding: 2px 8px; border: 1px solid #333; color: #444; cursor: pointer; }
    .power-on { color: var(--red); border-color: var(--red); box-shadow: 0 0 5px var(--red); }
    footer { grid-column: span 2; background: #000; border-top: 1px solid #222; font-size: 8px; color: #444; display: flex; align-items: center; justify-content: space-between; padding: 0 20px; height: 30px; }

    /* CUBE MENU */
    .menu-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.9); z-index: 1000; display: none; }
    .menu-overlay.active { display: block; }
    .slide-menu { position: fixed; bottom: -100%; left: 0; width: 100%; height: 85%; background: #000; border-top: 2px solid var(--red); z-index: 1001; transition: bottom 0.4s; padding: 40px; overflow-y: auto; }
    .slide-menu.active { bottom: 0; }
    .cube-menu-container { display: flex; justify-content: center; gap: 30px; flex-wrap: wrap; margin-top: 40px; }
    .cube-container { width: 100px; height: 100px; perspective: 600px; }
    .cube { width: 80px; height: 80px; position: relative; transform-style: preserve-3d; transform: rotateX(-20deg) rotateY(30deg); transition: transform 0.5s; }
    .cube-container:hover .cube { transform: rotateX(-45deg) rotateY(45deg); }
    .cube-face { position: absolute; width: 80px; height: 80px; border: 1px solid #444; background: rgba(0,0,0,0.95); display: flex; align-items: center; justify-content: center; font-size: 8px; text-transform: uppercase; color: #888; text-decoration: none; text-align: center; padding: 5px; }
    .cube-front { transform: translateZ(40px); color: var(--red); border-color: var(--red); }
    .cube-right { transform: rotateY(90deg) translateZ(40px); }
    .cube-top { transform: rotateX(90deg) translateZ(40px); }
    .cube-left { transform: rotateY(-90deg) translateZ(40px); }

    @media (max-width: 768px) {
      .app-grid { grid-template-columns: 1fr; grid-template-rows: 50px auto 400px auto auto auto 30px; height: auto; overflow-y: auto; }
      .sidebar { grid-row: 2; height: auto; border-right: none; }
      #viewport { grid-row: 3; height: 400px; }
      .bottom-shelf { grid-row: 4/7; grid-template-columns: 1fr; grid-template-rows: auto 200px 250px; height: auto; }
    }
  </style>
</head>
<body>

<div class="app-grid">
  <header>
    <div class="flex items-center gap-4">
      <div id="power-light" class="w-2 h-2 bg-zinc-900 rounded-full"></div>
      <h1 class="text-white font-bold tracking-tighter text-sm uppercase">2741_SANCTUM // Hub_v4.16</h1>
      <button id="power-toggle" class="power-btn" onclick="togglePower()">POWER: OFF</button>
    </div>
    <div class="flex items-center gap-6">
        <div style="font-size:10px; color:#444" class="hidden sm:block">WITCH_PROTOCOL: ACTIVE</div>
        <button onclick="toggleMenu()" class="text-white text-xl">â®¸</button>
    </div>
  </header>

  <aside class="sidebar">
    <div class="text-[9px] text-zinc-600 mb-2 uppercase tracking-widest font-bold">Terminal_Wallet</div>
    <img id="ton-qr" src="https://raw.githubusercontent.com/ghostm68/pantheon/main/inkrealm.ton03.jpeg" style="width:60px; border:1px solid #333; cursor:pointer;" onclick="this.style.width = this.style.width === '60px' ? '180px' : '60px'">
    
    <div class="text-zinc-600 mt-8 mb-2 uppercase tracking-widest font-bold">Directives</div>
    <div class="cursor-pointer hover:text-red-600 py-1 text-[10px]" onclick="window.open('https://www.wordstar.nexus')">> WORDSTAR_NEXUS</div>
    <div class="cursor-pointer hover:text-red-600 py-1 text-[10px]" onclick="window.open('https://inkrealm.instatus.com/')">> SYSTEM_STATUS</div>
  </aside>

  <main id="viewport" onclick="forgeSigil()">
    <div class="absolute top-4 left-6 text-[10px] text-red-900 tracking-tighter uppercase italic opacity-50 animate-pulse">>> SIGIL_FORGE_ACTIVE // CLICK_TO_MANIFEST</div>
    <canvas id="sigil-canvas" width="600" height="600"></canvas>
  </main>

  <div class="bottom-shelf">
    <!-- Dossier Reader (Story Area) -->
    <section class="dossier-panel">
        <div class="dossier-header">Featured_Exhibit: ARTIFICT.IO</div>
        <p><strong>The Great AI Hustle: ARTIFICT.IO vs. The Silicon Overlords</strong></p>
        <p>Six months ago, we were just six flat-broke nobodies scavenging the "Miscellaneous" aisle of a bankrupt Radio Shack. Derekâ€”our self-appointed CEOâ€”had been demoing a toaster he swore could mine Bitcoin if you fed it rye bread...</p>
        <p>When the sheriff slapped padlocks on the doors, we bolted with whatever still blinked: two wheezing beige towers, a CRT monitor that hummed the national anthem on boot-up, and a dot-matrix printer that only screamed in Portuguese...</p>
        <p>Today, ARTIFICT.IO powers half the Fortune 500's "AI assistants." We're not the smartestâ€”just the hungriest. In a world of flawless algorithms, we proved six hustlers with scavenged junk could out-bluff the bots.</p>
    </section>

    <!-- Oracle Log -->
    <section class="log-panel" id="log-stream">
        <div style="color:var(--red); border-bottom:1px solid #222; margin-bottom:10px; font-size:10px; letter-spacing:2px uppercase">// SYSTEM_ORACLE_LOG</div>
        <div id="log-content"></div>
    </section>

    <!-- Comms Link -->
    <section class="chat-section">
      <div class="bg-zinc-900 p-2 text-[9px] uppercase flex justify-between border-b border-red-900">
          <span>The_Informant_Link</span>
          <span id="witch-status" class="text-red-700 italic">Protected</span>
      </div>
      <div id="chat-container">
          <div class="chat-bubble bot-message">Interface online. The shadows are listening. Request data.</div>
      </div>
      <div class="chat-input-area">
        <input type="text" id="chat-input" placeholder="Enter query..." onkeypress="if(event.key==='Enter') sendMessage()">
        <button onclick="sendMessage()" class="bg-red-900 px-3 text-[10px] text-white font-bold">SEND</button>
      </div>
    </section>
  </div>

  <footer>
    <div>INKREALM_PROXIMITY_CORE // STATION_2741</div>
    <div class="flex gap-4 uppercase italic"><span>InkRealm Construct</span><span>|</span><span id="footer-status">WITCH_PROTOCOL_ACTIVE</span></div>
  </footer>
</div>

<!-- CUBE NAVIGATION MENU -->
<div class="menu-overlay" id="menu-overlay" onclick="toggleMenu()"></div>
<div class="slide-menu" id="slide-menu">
    <h2 style="color:var(--red); font-family:'Special Elite'; font-size:2.5rem; margin-bottom:10px">NEXUS_ACCESS</h2>
    <p class="text-zinc-600 text-xs uppercase mb-10 tracking-widest">Select a peripheral module to initialize</p>
    
    <div class="cube-menu-container">
        <div class="cube-container">
            <div class="cube">
                <a href="https://wordstar.nexus/conceptweave" class="cube-face cube-front">Concept<br>Weave</a>
                <a href="https://wordstar.nexus/typecast" class="cube-face cube-right">Type<br>Cast</a>
                <a href="https://wordstar.nexus/citadelle" class="cube-face cube-top">Cita<br>delle</a>
                <a href="https://wordstar.nexus/typespace" class="cube-face cube-left">Type<br>Space</a>
            </div>
        </div>
        <div class="cube-container">
            <div class="cube">
                <a href="https://wordstar.nexus/ai" class="cube-face cube-front">AI_CORE</a>
                <a href="https://wordstar.nexus/38" class="cube-face cube-right">Project<br>38</a>
                <a href="https://wordstar.nexus/netherlands" class="cube-face cube-left">Nether<br>lands</a>
                <a href="https://wordstar.nexus/wip" class="cube-face cube-top">Work_In<br>Progress</a>
            </div>
        </div>
    </div>

    <div class="mt-12 pt-8 border-t border-zinc-900 flex justify-center gap-10">
        <button onclick="toggleMenu()" class="text-red-600 border border-red-600 px-10 py-2 hover:bg-red-600 hover:text-black transition">CLOSE_CONSOLE</button>
    </div>
</div>

<script>
    // --- SIGIL ENGINE (Arcane Procedural) ---
    const canvas = document.getElementById('sigil-canvas');
    const ctx = canvas.getContext('2d');

    function forgeSigil() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        const centerX = canvas.width / 2, centerY = canvas.height / 2;
        const numPoints = 8 + Math.floor(Math.random() * 8);
        const radius = 220;
        const points = [];
        
        for (let i = 0; i < numPoints; i++) {
            const angle = (i / numPoints) * Math.PI * 2;
            points.push({ x: centerX + radius * Math.cos(angle), y: centerY + radius * Math.sin(angle) });
        }
        
        ctx.strokeStyle = Math.random() > 0.3 ? "#ff0000" : "#ffffff";
        ctx.lineCap = 'round'; ctx.lineJoin = 'round';
        
        for (let i = 0; i < 6; i++) {
            ctx.lineWidth = 1 + Math.random() * 2;
            ctx.beginPath();
            let s = Math.floor(Math.random() * numPoints), e = Math.floor(Math.random() * numPoints);
            ctx.moveTo(points[s].x, points[s].y);
            ctx.quadraticCurveTo(centerX + (Math.random()-0.5)*150, centerY + (Math.random()-0.5)*150, points[e].x, points[e].y);
            ctx.stroke();
            
            ctx.beginPath();
            ctx.arc(points[s].x, points[s].y, 4, 0, Math.PI * 2);
            if(Math.random() > 0.5) ctx.stroke(); else ctx.fill();
        }
    }

    // --- AUDIO & POWER ---
    let audioCtx, humOsc, gainNode, filter, isPowered = false;
    function initAudio() {
        audioCtx = new (window.AudioContext || window.webkitAudioContext)();
        humOsc = audioCtx.createOscillator(); gainNode = audioCtx.createGain(); filter = audioCtx.createBiquadFilter();
        humOsc.type = 'sawtooth'; humOsc.frequency.setValueAtTime(55, audioCtx.currentTime);
        filter.type = 'lowpass'; filter.frequency.setValueAtTime(120, audioCtx.currentTime);
        gainNode.gain.setValueAtTime(0, audioCtx.currentTime);
        humOsc.connect(filter); filter.connect(gainNode); gainNode.connect(audioCtx.destination); humOsc.start();
    }

    function togglePower() {
        if (!audioCtx) initAudio();
        const btn = document.getElementById('power-toggle'), light = document.getElementById('power-light');
        if (!isPowered) {
            isPowered = true; btn.innerText = "POWER: ON"; btn.classList.add('power-on'); light.classList.add('bg-red-600', 'animate-pulse');
            gainNode.gain.setTargetAtTime(0.04, audioCtx.currentTime, 0.5);
        } else {
            isPowered = false; btn.innerText = "POWER: OFF"; btn.classList.remove('power-on'); light.classList.remove('bg-red-600', 'animate-pulse');
            gainNode.gain.setTargetAtTime(0, audioCtx.currentTime, 0.2);
        }
    }

    // --- LOGS ---
    const logs = ["SIGILLUM authenticated", "SIGNUM protocol active", "Typography matrix aligned", "Dossier encrypted", "Witch-glass calibrated", "2741 Link Stable", "Portal threshold: Nominal", "Shadow nodes synchronized"];
    function updateLogs() {
        const content = document.getElementById('log-content');
        const p = document.createElement('p'); p.textContent = "> " + logs[Math.floor(Math.random() * logs.length)];
        content.appendChild(p);
        document.getElementById('log-stream').scrollTop = document.getElementById('log-stream').scrollHeight;
        if (content.children.length > 15) content.removeChild(content.children[0]);
    }

    // --- CHAT ---
    async function sendMessage() {
        const input = document.getElementById('chat-input'), container = document.getElementById('chat-container');
        const msg = input.value.trim(); if (!msg) return;
        container.innerHTML += `<div class="chat-bubble user-message">${msg}</div>`; input.value = '';
        const b = document.createElement('div'); b.className = 'chat-bubble bot-message'; b.textContent = '...';
        container.appendChild(b); container.scrollTop = container.scrollHeight;
        try {
            const resp = await fetch(`https://text.pollinations.ai/In a short noir/witch style, answer: ${encodeURIComponent(msg)}`);
            const data = await resp.text(); b.textContent = data.trim(); forgeSigil();
        } catch (e) { b.textContent = "Interference detected."; }
        container.scrollTop = container.scrollHeight;
    }

    // --- UTILS ---
    function toggleMenu() { document.getElementById('menu-overlay').classList.toggle('active'); document.getElementById('slide-menu').classList.toggle('active'); }
    function animateWitch() {
        const status = document.getElementById('witch-status'), footer = document.getElementById('footer-status');
        const texts = ['Protected', 'Scanning', 'Warding', 'Secure', 'Charged'];
        let idx = 0; setInterval(() => { if(status) status.textContent = texts[idx]; footer.textContent = `WITCH_PROTOCOL_${texts[idx].toUpperCase()}`; idx = (idx + 1) % texts.length; }, 3000);
    }
    function exportDraft() { const blob = new Blob([document.querySelector('.dossier-panel').innerText], {type: 'text/plain'}); const a = document.createElement('a'); a.href = URL.createObjectURL(blob); a.download = 'inkrealm-dossier.txt'; a.click(); }

    window.onload = () => { animateWitch(); forgeSigil(); setInterval(updateLogs, 4000); };
</script>
</body>
</html>
